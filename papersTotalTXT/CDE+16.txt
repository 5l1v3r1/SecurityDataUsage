OnScalingDecentralizedBlockchains(APositionPaper)KyleCroman0,1,ChristianDecker4,IttayEyal0,1,AdemEfeGencer0,1,AriJuels0,2,AhmedKosba0,3,AndrewMiller0,3,PrateekSaxena6,ElaineShi0,1,EminG¨unSirer0,1,DawnSong0,5,andRogerWattenhofer40InitiativeforCryptoCurrenciesandContracts(IC3)1Cornell2Jacobs,CornellTech3UMD4ETH5Berkeley6NUSAbstract.Theincreasingpopularityofblockchain-basedcryptocurren-cieshasmadescalabilityaprimaryandurgentconcern.WeanalyzehowfundamentalandcircumstantialbottlenecksinBitcoinlimittheabil-ityofitscurrentpeer-to-peeroverlaynetworktosupportsubstantiallyhigherthroughputsandlowerlatencies.Ourresultssuggestthatrepa-rameterizationofblocksizeandintervalsshouldbeviewedonlyasaﬁrstincrementtowardachievingnext-generation,high-loadblockchainproto-cols,andmajoradvanceswilladditionallyrequireabasicrethinkingoftechnicalapproaches.Weoﬀerastructuredperspectiveonthedesignspaceforsuchapproaches.Withinthisperspective,weenumerateandbrieﬂydiscussanumberofrecentlyproposedprotocolideasandoﬀerseveralnewideasandopenchallenges.1IntroductionIncreasingadoptionofcryptocurrencieshasraisedconcernsabouttheirabil-itytoscale.SinceBitcoinisaself-regulatingsystemthatworksbydiscoveringblocksatapproximateintervals,itshighesttransactionthroughputiseﬀectivelycappedatmaximumblocksizedividedbyblockinterval.ThecurrenttrendofeverincreasingblocksizesonBitcoinportendsapotentialproblemwherethesys-temwillreachitsmaximumcapacitytocleartransactions,probablyby2017[47].Asaresult,thecryptocurrencycommunityhasbeendiscussingtechniquesforimprovingscalabilityofblockchainsingeneral,andBitcoininparticular,forsometime.Thesedebateshavebeenvigorous,andattimesacrimonous,andledtosplitswithinthecommunity,withoutaclearpathforwardonwhichtechnicalmeasuresoughttobedeployedtoaddressthescalabilityproblem.Today’srepresentativeblockchainsuchasBitcointakes10minorlongertoconﬁrmtransactions,achieves7transactions/secmaximumthroughput.Incomparison,amainstreampaymentprocessorsuchasVisacreditcardconﬁrmsatransactionwithinseconds,andprocesses2000transactions/seconaverage,withapeakrateof56,000transactions/sec[11].Clearly,alargegapexistsbetweenwhereBitcoinistoday,andthescalabilityofamainstreampaymentprocessor.Therefore,thekeyquestionsare,Candecentralizedblockchainsbescaleduptomatchtheperformanceofamainstreampaymentprocessor?Whatdoesittaketogetthere?Thispaperaimstoplaceexplorationofblockchainscalabilityonascientiﬁcfooting.Wenotethat“scalability”isnotawell-deﬁned,singularpropertyofasystem,butatermthatrelatesseveralquantitativemetricstoeachother.WeoﬀerthreecontributionsthatilluminatetheproblemofscalingBitcoinandblockchainsgenerallytoachievehigh-performance,decentralizedsystems:Measurementstudyandexplorationofreparametrization.Wepresentexperimentalmeasurementsofarangeofmetricsthatcharacterizetheresourcecostsandperformanceoftoday’soperationalBitcoinnetwork.Asaﬁrststepto-wardbetterscalabilityinBitcoin,thecommunityhasputforthvariousproposalstomodifythekeysystemparametersofblocksizeandblockinterval.Throughfurtherexperimentalinvestigation,weshowthatsuchscalingbyreparametriza-tioncanachieveonlylimitedbeneﬁtsgiventhenetworkperformanceinducedbyBitcoin’scurrentpeer-to-peeroverlaynetworkprotocolwhilemaintainingitscurrentdegreeofdecentralization,asmeasuredbynumberoffunctioningpeersintheoverlaynetwork.Ourresultshingeonthekeymetricofeﬀectivethroughputintheoverlaynetwork,whichwedeﬁnehereaswhichblockspropagatewithinanaverageblockintervalperiodthepercentageofnodesto.Ifthetransactionrateexceedsthe90%eﬀectivethroughput,then10%ofthenodesinthenetworkwouldbeunabletokeepup,potentiallyresultingindeniedservicestousersandreducingthenetwork’seﬀectiveminingpower.Toensureatleast90%ofthenodesinthecurrentoverlaynetworkhavesuﬃcientthroughput,weoﬀerthefollowingtwoguidelines:–[Throughputlimit.]Theblocksizeshouldnotexceed4MB,giventoday’s10min.averageblockinterval(orareductioninblock-intervaltime).A4MBblocksizecorrespondstoamaximumthroughputofatmost27transaction-s/sec.–[Latencylimit.]Theblockintervalshouldnotbesmallerthan12s,iffullutilizationofthenetwork’sbandwidthistobeachieved.Westressthattheaboveguidelinesseemsomewhatintuitive(especiallyinhindsight).Thecommunityhasthusalsoproposedradicallydiﬀerentscalingapproaches,andintroducedmechanismssuchasCorallo’srelaynetwork,acen-tralizedblock-propagationmechanism.Oneofourcontributions,however,istoquantifyBitcoin’scurrentscalabilitylimitswithinitsdecentralizedcomponents.Notethatasweconsideronlyasubsetofpossiblemetrics(duetodiﬃcultyinaccuratelymeasuringothers),ourresultsonreparametrizationmaybeviewedasupperbounds:additionalmetricscouldrevealevenstricterlimits.Paintingabroaddesignspaceforscalableblockchains.Ourﬁndingsleadustothepositionthatfundamentalprotocolredesignisneededforblockchainstoscalesigniﬁcantlywhileretainingtheirdecentralization.Wecompileandre-viewvarioustechnicalapproachesthatcanhelpblockchainsscale.Welayoutabroaddesignspacethatencompassesnotjustincrementalimprovements,butalsoradicalrearchitecture.Weframeastructureddiscussionofnewprotocolde-signstrategiesintermsofapartitioningblockchainsystemsintodistinctplanes,namely:Network,Consensus,Storage,View,andSidePlanes.Wediscussthepropertiesofeachplaneandbothrecentandnewproposalstoimproveeach;wealsodiscussopenresearchchallenges.Posingopenchallenges.Anothergoalofourpaperistoarticulateopenchal-lengesintheserviceofi)betterunderstandingofscalabilitybottlenecks;andii)thedesignofmorescalableblockchains.Asmentionedearlier,scalabilityisnotasingularmetric,butcapturesthetensionbetweenvariousperformanceandsecu-ritymetrics.Sofar,measurementandunderstandingofmanyimportantmetrics(e.g.,fairnessandminingpowerutilization[26])arelacking—partlybecausemonitoringandmeasuringadecentralizedblockchainfromonlyafewvantagepointsposessigniﬁcantchallenges.WecallforbettermeasurementtechniquessuchthatwecouldcontinuouslymonitorthehealthofdecentralizedsystemsuchasBitcoin,andanswerkeyquestionssuchas“Towhatextentcanwepushsys-temparameterswithoutsacriﬁcingsecurity?”“Howrobustisthesystemwhenunderattack?”Finally,althoughwepaintthebroaderdesignspaceforascal-ableblockchain,instantiatingandcombiningtheseideastobuildafull-ﬂedgedsystemwithformallyprovablesecurityisanon-trivialchallenge.Additionalresults.Duetospacerestrictions,werelegatemanydetailofourexperimentsto[10].2BitcoinScalabilityToday:ARealityCheckWeanalyzesomeofthekeymetricsoftheBitcoinsystemasitexiststoday.Maximumthroughput.Themaximumthroughputisthemaximumrateatwhichtheblockchaincanconﬁrmtransactions.Today,Bitcoin’smaximumthrough-putis3.3–7transactions/sec[1].Thisnumberisconstrainedbythemaximumblocksizeandtheinter-blocktime.Latency.Timeforatransactiontoconﬁrm.Atransactionisconsideredcon-ﬁrmedwhenitisincludedinablock,roughly10minutesinexpectation.1Bootstraptime.Thetimeittakesanewnodetodownloadandprocessthehistorynecessarytovalidatethecurrentsystemstate.PresentlyinBitcoin,thebootstraptimeislinearinthesizeoftheblockchainhistory,andisroughlyfourdays(averagedoverﬁvefresht2.mediumAmazonEC2nodesthatweconnectedtothenetworkrunningthemostrecentmastersoftware).CostperConﬁrmedTransaction(CPCT).ThecostinUSDofresourcesconsumedbytheentireBitcoinsystemtoconﬁrmasingletransaction.TheCPCTencompassesseveraldistinctresources,allofwhichcanbefurtherdecom-posedintooperationalcosts(mainlyelectricity)andcapitalequipmentcosts:1.Mining:Expendedbyminersingeneratingtheproofofworkforeachblock.1AlthoughwedeﬁnelatencyinBitcoinasthetimetoobtainasingleconﬁrmation,somepaymentprocessorsaccept“zero-conﬁrmation”transactions,whileothersfol-lowcommonadvicetowaitfor6conﬁrmationsbeforeacceptingapayment.2.Transactionvalidation:Thecostofcomputationnecessarytovalidatethatatransactioncanspendtheoutputsreferencedbyitsinputs,dominatedbycryptographicveriﬁcations.3.Bandwidth:Thecostofnetworkresourcesrequiredtoreceiveandtransmittransactions,blocks,andmetadata.4.Storage:Thecost(1)ofstoringallcurrentlyspendabletransactions,whichisnecessaryforminersandfullnodestoperformtransactionvalidation,and(2)ofstoringtheblockchain’s(muchlarger)historicaldata,whichisnecessarytobootstrapnewnodesthatjointhenetwork.Table1presentsourestimatesofthesevariouscosts.Asthetableshows,themajorityofthecostisattributabletomining.Ourcalculationsuggeststhat,atthemaximumthroughput,thecostperconﬁrmedtransactionis$1.4–$2.9,where57%iselectricityconsumptionformining.IfthedefactoBitcointhrough-putisassumed,theCPCTisashighas$6.2.Weproceedtoexplainourcost-estimationmethodology.TomeasurethecostpertransactionforBitcoin,weperformaback-of-the-envelopecalculationbysumminguptheelectricityconsumedbythenetworkasawhole,aswellasthehardwarecostofminingequipment.WeprojectourestimatesbasedontheAntMinerS5+mininghardware[8],whichisthecurrentlyavailablehardwarethathasthehighesthashrateperjoule,andthehighesthashrateperdollaraccordingtothiscomparisonasofOctober2015[2].Weassumea1yeareﬀectivelifetimeforthehardware,andthattheaveragehashingrateofthenetworkis450,000,000GH/sbasedonstatisticsfromOctober2015[3].Basedonthepowerconsumptionoftheselectedhardware(0.445W/GH),thetotalpowerconsumedbythenetworkwillbeabout200MegaWatt.Furthermore,weassumetheaveragepriceperKWhis$0.1[49].Therearetwointerestingscenarios:TheﬁrstscenarioiswhentheBitcoinnetworkisoperatingatmaximumthroughput,namely3.3–7transactions/sec.ThismaximumthroughputismainlyconstrainedbyBitcoin’s1MBmaximumblocksizeandthevariabletransactionsize.Thelowerboundofthemaximumthroughputisinferredfromthecurrentaveragetransactionsize,about500bytes,whiletheupperboundisbasedonanoft-citedestimatefrom[1]whichcorre-spondstounusuallysmall(250byte)transactions.ThesecondscenarioisthedefactoaveragethroughputfortheBitcoinnetwork,whichis,basedonstatisticscollectedinOctober2015,1.57transactions/sec[4].Table1showsballparkestimatesforthetransactionvalidation,storage,andbandwidthcosts.Theseestimatesareattainedassumingthattheentirenetworkcontains5400fullnodes—acoarse-grainedestimateobtainedfromhttps://bitnodes.21.co/.WeassumethateachfullnodeincursroughlytherunningcostofanEC2micro-instance(∼$0.01/hour)tovalidatetransactions;alternatively,assuminga$500processorwitha5-yearlife-timewouldyieldthesameballparkestimate.WeassumethattransactionsarestoredonanSSDdrivewitha5-yearlifetime,costingabout$0.3/GBtoday.Wealsoassumeallnodesstoretheentirehistory,tomaintainthesystem’ssecurity.Weassumeeachnodemaintainsahome-gradeInternetconnection(about$100/month)whosecostisatmaxthroughputatdefactothroughputcost/txpercentagecost/txpercentageMining:proof-of-work∼$0.8−$1.7∼56%∼$3.6∼56%Mining:hardware∼$0.6−$1.3∼42%∼$2.7∼42%Transactionvalidation∼$0.002∼0.2%∼$0.008∼0.2%Bandwidth∼$0.02∼2%∼$0.08∼2%Storage(runningcost)∼$0.0008/5yearsTable1:Bitcoincostbreakdown.Includescostincurredbyallnodes.amortizedoveralltransactions.WestressthatanEC2microinstanceandahome-gradeInternetconnectionprovidesuﬃcientlylargecomputation/networkbandwidthattheoperatingscaleoftoday’sBitcoin.Wenotethatitisafallacytoassumethattransactioncostsnecessarilyhavetobeoﬀsetbytransactionfees.Inparticular,theoperationalcostsofrunningfullnodesmaybeoﬀsetbyﬁnancialexternalities,suchasbeingabletoconﬁrmone’sowntransactionswithouttrustingthirdparties,orbynetworkeﬀects,suchassellingitemswhosecostsfactorinthecostofoperatinganode.Miners,however,arebereftofthesetwofactorsandneedtobecompensatedinthesteadystate,especiallyastheblocksubsidyisreducedovertime.Othermetrics.Theaboveisofcoursenotanexhaustivelistofpotentiallyinterestingmetrics.Forexample,whilewehavefocusedonBitcoin’sroleasatransactionmedium,italsoservesasastoreofvalue.WemightthereforeconsiderthecostperstoreddollarasanalternativetoCPCT.Manyothermetricsareofinterestanditisanopenresearchquestionwhichcanbestinformtechnicalandpolicydecisions.3ScalingbyParameterTuningandFundamentalLimitsTheBitcoincommunityhasseveralpropositionsunderdiscussionforincreas-ingthemaximumblocksize(ortoremovethelimitaltogether[43]).BitcoinIm-provementProposals(BIPs)100,101,102,and103,allinvolveafork,triggeredbyacombinationoftimeandminerbuy-inasreﬂectedintheblockchain[14,24,27,28,51].Theseproposalsdiﬀerprimarilyontheinitialdateoftheﬁrstincrease,theblocksizechangestrategy(nonevs.linearvsrepeateddoublingsvsoptionalreductions),andthepercentofminerbuy-intotriggerachange.Thesegregatedwitnessproposal[24]amendstheblocksizebylessthanafactorof2througha“softfork”implementation,whereinlegacynodesdonotneedtoupgrade,butendupimplicitlytrustingtheminerswithtransactionvalidation.Thedevelopercommunityhasbeenfurtherfragmentedintovariousproposals(Core,XT,ClassicandUnlimited)thatembodydiﬀerentcombinationsoffea-turesandrolloutschedules.Thereis,asofyet,noclearwinner,partlybecauseitisdiﬃculttodetermine,apriori,whichchangeschedulewillbestﬁtfuturechangesinnodeprovisioning.Itisanopenquestionwhetherreparametrizationalonecanadequatelyaddressthegrowthneedsofamedium-to-largetransactionprocessingsystem.Intherestofthissection,weexploreitslimitations.3.1MeasurementStudyAcriticalreferencepointforBitcoin’sperformanceisDeckerandWatten-hofer’s2012measurementstudyoftheBitcoinnetwork’sblockpropagation[21].Atthetime,themedianand90-percentiletimeforBitcoinnodestoreceiveablockwas6.5secondsand26secondsrespectively.Thisstudyalsoshowedthatforsmallblocks,lessthanroughly20KBinsize,latencywasasigniﬁcantfactorinblockpropagationtimes.Beyondthissize,throughputwasthedominatingfactor,andwasinvariantinblocksize;thustheyfoundthatforlargeenoughblockstheblockpropagationtimesgrewlinearlywithrespecttotheblocksize.Atthetimeoftheirmeasurement,theaverageblocksizewas87KB.Thismeansthatbackin2012,itwouldhavetaken5minutesfor90%ofthenodestoreceiveafull1MBblock—asigniﬁcantfractionoftheblockinterval.Sincenodes’bandwidthprovisioningandthenetworktopologyhaveevolvedsince2012,werepeatedtheirmeasurementrecentlyin2014and2015.Ourmea-surementindicatesthatthe10%,median,and90%blockpropagationtimesare0.8seconds,8.7seconds,and79secondsrespectively.Further,theaverageblocksizeisnowroughly540KB.Projectingtoa1MBblocksize,the90%,median,and10%blockpropagationtimeswouldbe2.4min,15.7sec,and1.5secrespectively.X%eﬀectivethroughput.Wedeﬁnethemetric“X%eﬀectivethroughput”asX%eﬀectivethroughput:=(blocksize)/(X%blockpropagationdelay).OurmeasurementstudysuggeststhefollowingX%eﬀectivethroughputsforthenetwork(withtranslationtotransactions/secfor250-bytetransactions):X%X%eﬀectivethroughputtranslatedtotransactions/secc.f.Visa50%496Kbps248tx/sec2000tx/sec90%55Kbps26tx/secWeadditionallyperformedexperimentstodeterminetheminimumblocksizeforthroughputtodominateoverlatency,similarlymirroringthe2012studybyDeckerandWattenhofer[21].TheresultsaredepictedinFigure1.Thatﬁgureshowstheoverallrate(“networkpropagationrate”)atwhichblockspropagatedto50%,75%,and90%ofnodes,capturingthecombinedeﬀectsoflatencyplusthroughput.Asblocksizesgrowfromzero,thenetworkpropagationratein-creasesuntilitlevelsoﬀatroughly80KB,suggestingthatwhentheblocksizeisabove80KB,throughputdominatesoverlatency.Atthispoint,thepropaga-tionratefor90%ofnodesisabout55Kbps,whichisconsistentwiththe90%eﬀectivethroughputobservedinthetableaboveforthecurrentoverlaynetwork.Asthedataarenoisy,wedonotprovideanestimateofthelatency.Asitisnegligibleforblocksofsizeabove80KB,wedisregarditelsewhereinthepaper.3.2LimitsofScalabilitybyReparametrizationWenowexplorethepotentialofreparametrizationtoscaleBitcoin.IftheaverageblocksizereachestheX%-eﬀectivecapacityduringablockinterval,then(100-X)%ofthenodesonthenetworkwouldbeunableeventoreceiveblocksastheyarrive,andthuswouldbeeﬀectivelydisabled.050100150200250300350400450500Size [kB]020040060080010001200Network Propagation Rate [kbps]Network Propagation Rate50th percentile75th percentile90th percentileFig.1:Networkpropagationrate(capturingbothlatencyandthroughput)vs.blocksize.Weassumethatitisdesiredtomaintainnearlythecurrentdegreeofde-centralization,asmeasuredbythenumberofproperlyfunctioningnodesinthepeer-to-peeroverlaynetwork.Forthepurposeofourstudy,wetake90%tobeourtarget.Itisdiﬃculttoquantifywhateachnodecontributestowardstheoverallvirtueimpliedbydecentralization.Notallnodesarenecessarilyminers;andwhilesomenodescanbeassociatedwithserviceprovidersandindividualusers,thereisnoabsolutemeasureoftheeconomicsigniﬁcanceofeachnode.Ourdeﬁnitionreﬂectsanequalweightingofeachnode.WealsostressthatourresultsassumetheuseofBitcoin’scurrentpeer-to-peeroverlaynetwork.Ifthesizeorpropertiesofthenetworkchange,thatwouldaﬀecttheX%eﬀectivethroughput.Wenote,however,thatBitcoin’soverlaynetworkhasremainedstableinsizefromNov.2014toNov.2015atbetween∼4500to∼6300fullnodes[5].Forbrevity,weusetheterm“currentoverlaynetwork”torefertotheseassumedconditions.Throughputlimit.Weobservethattheblocksizeandintervalmustsatisfy:blocksizeX%eﬀectivethroughput<blockinterval.Consequently,fora10minutes(orshorter)blockinterval,theblocksizeshouldnotexceed4MBforX=90%;and38MBforX=50%.Observation1(Throughputlimit)Giventhecurrentoverlaynetworkandtoday’s10minuteaverageblockinterval,theblocksizeshouldnotexceed4MB.A4MBblocksizecorrespondstoathroughputofatmost27transactions/sec.Latencylimit.Toimprovethesystem’slatency,wecaninprinciplesimplyreducetheblockinterval.Todosowhileretaininghigheﬀectivethroughput,however,wouldalsorequireareductionintheblocksize.Ourexperimentsre-ﬂectedinFigure1Propagatingablockofsizesmallerthan80KBwouldnotmakefulluseofthenetwork’sbandwidth,aslatencywouldstillbeasigniﬁcantfactorintheblock’spropagationtime.Topropagatea80KBblockto90%ofthenodeswouldtakeroughly12seconds,giventhatthe90%eﬀectivethroughputofthenetworktodayis55Kbps.Thusthefollowingguideline.%Max.BWTxthruputMbpstx/sec90%3.0375850%33.038.3K10%186.1046K(a)Lowerboundonper-nodeprovi-sionedbandwidth:measuring4565Bit-coinnodes.ResourceMax.thruput[1000tx/sec]Txvalidationonamodern4quad-coreprocessor(2signaturesperTx)DiskI/ORotational100MB/sec200SSD300MB/sec600(b)Maximumthroughputanalysis.Table2:Per-noderesourceandbottleneckanalysis.Observation2(Latencylimit)Giventoday’soverlaynetwork,toretainatleast90%eﬀectivethroughputandfullyutilizethebandwidthofthenetwork,theblockintervalshouldnotbesigniﬁcantlysmallerthan12s.Howtointerpret/usethesenumbers.Westressthattheaboveareconser-vativeboundsontheextenttowhichreparametrizationalonecanscaleBitcoin’speer-to-peeroverlaynetworkgivenitscurrentsizeandunderlyingprotocols.Other,morediﬃcult-to-measuremetricscouldalsorevealscalinglimitations.Oneexampleisfairness.Ourmeasurementresults(seeSection3.1)suggestthatintoday’sBitcoinoverlaynetwork,whennodesareorderedbyblockpropagationtime,thetop10%ofnodesreceivea1MBblock2.4minearlierthanthebottom10%—meaningthatdependingontheiraccesstonodes,someminerscouldobtainasigniﬁcantandunfairleadoverothersinsolvinghashpuzzles.Duetocomplicatingfactors,e.g.,thefactthatmanyminerstodaydonotrelyonasingleoverlaynodetoobtaintransactions(andindeedoftenrelyonaseparate,fasterminingbackbonetopropagateblocks),webelievethatthisﬁgurecannotdirectlyinformreparametrizationdiscussions.Itisillustrativeofothermetrics,however,thatmaybeimportantbutdiﬃculttomeasure.Consequently,untiltheBitcoinsystemundergoesfundamentalprotocolchanges,gradualorconser-vativeparameterchangesmaybeprudent.Finally,notethatourthroughputguidelinesapplywhetherparametersaredeterminedbymarketoutcomeoren-forcedbyhard-codedlimit.3.3BottleneckAnalysisWhilescalingtheblockchainprotocolbyparametertuningispossible,weﬁndthatbestachievablethroughputissigniﬁcantlysmallerthanthelimitposedbytheunderlyinginfrastructure.InTable2a,weshowresultsfromourmeasurementstudywhereweperformaper-nodebandwidthmeasurementtomorethan4000Bitcoinnodes.Table2asuggeststhatindividualnodesareprovisionedwithsigniﬁcantlyhighernetworkbandwidththantheoverallnetworkthroughputattainedbyBitcointoday—recallthatthe90%eﬀectivethroughputtodayis55Kbps(seeSection3.1).ThereasonwhyBitcoin’snetworkstackcannotreachtheper-nodelinkbandwidthislikelyduetothecombinationofseveralfactors.Forexample,eachtransactionistransmittedtwice,ﬁrstforgossipingthetransaction;andthenafterablockismined,thenewlyminedblockwillbepropagatedagainincludingalltransactionsitcontains.Moreover,duetolackofpipelining,propagationovermultipleoverlayhopsintroducedelayproportionaltothelengthofthepath.Finally,Table2bshowsthatthecryptographicoverheadsassociatedwithtransactionveriﬁcation,anddiskI/Oareunlikelythebottleneck.4RethinkingtheDesignofaScalableBlockchainWediscusstechniquesthatwillallowblockchainstoscalebeyondthepa-rametersoftoday’sBitcoin.Theyrangefromincrementalchangesatoptoday’sdecentralizedblockchaintomoreradicalredesigns.Thegoalofthissectionisnottoproposeanend-to-endsystem,butrathertopaintthedesignspace,suggestpromisingapproaches,andposeopenchallengestothecommunity.WeorganizeourdiscussionaroundadecompositionoftheBitcoinsystemintoasetofabstractionlayersthatwecallplanes.Orderedinahierarchyofdependencyfrombottomtotop,theﬁveplanesweconsideraretheNetwork,Consensus,Storage,View,andSidePlanes.Inourexpositionhere,theledgeristhefullhistoryofthesystem,thecompleteoutputoftheConsensusPlane,aswedeﬁneitbelow.Amoreprecisedeﬁnitionispossiblethatalsospeciﬁesaparticularconﬁrmationpolicy,asledgercontentsmaybesubjecttochange,asindecentralizedcryptocurrencies.Forsimplicity,wedonotmodelthisfeatureofdecentralizedcryptocurrenciesandinsteadtreatwritestotheledgerasconﬁrmed.4.1NetworkPlaneThefunctionoftheNetworkPlaneistopropagatetransactionmessages.Itsupportsabroadcastabstractioninwhichatransactionmessagefromanyplayeristransmittedtoall(full)nodesintheBitcoinnetwork.TheNetworkPlaneinBitcoinisnotapurebroadcastmedium,however.Nodesonlypropagatemessagesthatrepresentvalidtransactionsandthustheabstractiononlyacceptsvalidtransactionsasinputs.OurmeasurementshaveshownthatBitcoin’snetworkprotocolandimple-mentationdonotfullyutilizeunderlyingnetworkbandwidth,makingBitcoin’sNetworkPlanethebottleneckintransactionprocessing.AnaturaldirectiontoimprovescalinginBitcoinisthustoimprovethedesignofitsNetworkPlane.TwoineﬃcienciesinBitcoin’sNetworkPlanestandout.First,toavoiddenial-of-servicebypropagationofinvalidtransactions,anodemustfullyreceiveandvalidateatransactionbeforefurtherpropagatingit.(Tobedeemedvalid,atrans-actionmustingestandproducelegitimatetransactionoutputsandnotconﬂictwithprevioustransactions.)Thislocalvalidationoftransactionscontributessigniﬁcantlytotheoverallpropagationtime.Second,Bitcoin’snetwork-layerprotocolﬁrstpropagatesalltransactions,andthenpropagatesablock(contain-ingpreviouslypropagatedtransactions)againwhenitismined.Thiseﬀectivelyrequireseachtransactiontobetransmittedtwice.TherehavebeenseveralproposalstoimproveBitcoin’snetwork-layerproto-col.Onepossibility,toavoidtransferringeachtransactiontwice,istorelyonasetreconciliationprotocolinwhichnodesonlyfetchtransactionsthattheydonotpossessinanewlyminedblock[6,32,39,48].Anotheroption,inusebyminerstoday,istouseadedicated,centralized,high-speedrelaynetworkforinter-minercommunication[20].Adiﬀerentdirectionistoimprovethenetworklayer’sfunctionasabroadcastchannel.TheNetworkPlanecouldbedesignedasarobustP2Poverlaytopology,withstrongconnectivitybetweenhonestnodesandalowdiameter.Suchoverlaytopologiesareusuallyexpandergraphs,whichhaveknownlow-latencybroad-castprotocols[29,33].Tolimitinﬂuenceofadversarialnodes,theoverlaycouldrandomizethelocationofallpeers(outsideoftheircontrol).Severalpreviousdistributedsystemshaveadoptedthisapproach[15,44].Tofurtherlimitdenial-of-service,nodescouldrate-limittransmissionsfromtheirpeers.Designingsuchanoverlaywhichmaintainsastrongconnectivitybetweenhonestnodes(inthepresenceofbyzantineadversaries)iswell-knownforstaticnetworks[23,36],butforhighlydynamicnetworksisanactiveareaofresearch[31].AlongstandingissueinvolvingtheNetworkPlaneistheincentivizationoftheparticipants.ResearchershavenotedthatNetworkPlanelacksanincentivestructureforthedisseminationoftransactions,andhaveproposedamodiﬁedfeesplittingstructuretoproviderobustincentives.Manyotheraspectsofthenetworkprotocolrelyonvoluntaryparticipationandrequireadhocdefensestostemﬂoodinganddenialofserviceattacks.4.2ConsensusPlaneThefunctionoftheConsensusPlaneistodesignateagloballyacceptedsetoftransactionsforprocessing,aswellasatotalorpartialorderonthesetransactions.Asageneralabstraction,thisplaneingestsmessagesfromtheNetworkPlaneandoutputstransactionsforinsertionintothesystemledger.InBitcoin,theConsensusPlaneisthefunctionalitythatminesblocksandreachesconsensusontheirintegrationintotheblockchain.Improvingproof-of-workprotocols.Bitcoin’sblockchainprotocolintro-ducesatradeoﬀamongconsensusspeed,bandwidth,andsecurity.Byimprovingtheformertwo,oneintroducesanincreasednumberofforks,leadingtoalossoftheminingpowerthatsecuresthesystemandtoreducedfairness[26].Manycryptocurrencies(e.g.[9])favorconsensusspeedoversecurity,employingastan-dardBitcoinblockchainwithahighblock-generationfrequency.Thisthree-waytradeoﬀ,however,isnotinherentindecentralizedcryptocur-rencies.TheGHOSTprotocol[46]ofSompolinskyetal.aswellasLewenbergetal.[37]demonstratethatfairnessandminingpowerutilizationcanbeim-provedbychangingthechainselectionrule,inparticular,bybeinginclusivetoforksoutsidethemainchainaswell.Inmorerecentwork,Bitcoin-NG[26]demonstratesthattheinherenttradeoﬀsinBitcoincanbeeliminatedwithanal-ternativeblockchainprotocol,oﬀeringaconsensusdelayandbandwidthlimitedonlybytheNetworkPlane.Proofofstake.Variousproposals(e.g.[12,34])useproofofstaketoachieveconsensus,eliminatingthecomputationalexpenseofproofsofwork.Inproofofstake,principalsgaintherighttocreateblocksbydepositingfundstheyown.Thesetechniques,however,lackformalguaranteesofsystemconvergence[19].Consortiumconsensus.Decentralizationcarriesaperformancecost.AtrustmodelwithstrongerassumptionsthanthoseinBitcoincansupportamoreeﬃcientconsensusprotocol,achievingbetterlatencyandthroughputwithlesscomputation,bandwidth,andstorage.Speciﬁcally,usingastandardByzantineFaultTolerant(BFT)replicationprotocolwithasmallnumberofpre-designatedtrustedentitiesremovesmanyofthescalingobstaclesinBitcoin.SettingsinvolvingBFTprotocolsexecutedbysmallsetsoftrustedentitieshavereceivedlittletreatmentintheacademicliterature,butareofconsiderableinterestinpractice,andmainstreamﬁnancialinstitutionsareactivelyexploringtheiruse[45].Theyaresometimesreferredtoas“consortiumblockchains.”Consortiumblockchainsareworthinvestigationbothasanalternativetodecentralizedcryptocurrenciesandtocharacterizetheperformancecostthatdecentralizedblockchainsincurbydistributingtrust.Inthefullversionofthispaper[10],wepresentperformanceﬁguresandmicrobenchmarkingresultsonexperimentswithapopularBFTprotocol(PBFT)acrossarangeofdiﬀer-entsystemparametrizationsandwithnodesdispersedacrosseightgeographiesworldwide.OurresultsillustratetheattractivenessofBFTasabasisfortheconsensuslayerinacryptocurrency(givenacceptanceofitsstrongtrustassump-tions).Evenwithdozensofnodes,PBFTgreatlyoutperformsBitcoininbothtransactionlatencyandthroughput.Forexample,64nodesprocessingbatchesof8192transactionscanachieveathroughputof4.5Ktx/sec.,averagetrans-actionlatencyof1.79sec.,andanestimatedresourcecostpertransactionofjust$3.95×10−7.2Scalingtohundredsofnodes,however,wouldgreatlyde-gradetheperformanceofthesystem.Aswenowexplain,apromisingapproachtoscalingandanopenresearchdirectionishowtoshardaBFTprotocol.Sharding.OnepossibletechniqueforimprovingthescalabilityoftheConsensusPlaneistoshardit,thatis,splitupthetaskofconsensusamongconcurrentlyoperatingsetsofnodes,withtheaimofimprovingthroughputandreducingper-nodeprocessingandstoragerequirements.Shardingiscommonlyemployedindistributeddatabases,suchasDynamo,MongoDB,MySQL,andBigTable,althoughperformancetypicallydoesnotgrowlinearlywithshardcount.Thisisduetotheneedtoreachconsensusamongtheshardswhenoperationsspanmultipleshards.Onepossibility,exploredinanon-Byzantineenvironmentinpastwork[25,30,52],istouseaseparateconsensusprotocol,suchasPaxos,toachieveagreementamongtheshards.Suchschemes,however,canincursubstan-tialoverheadwhencross-shardcoordinationisrequiredinaByzantinesetting,soshardingprotocolsforblockchainsareanopenareaofresearch.2Transactionsinourexperimentsare190byteslong,allthatisneededforabasicmoneytransfer;giventheroughly500byteaveragesizeofBitcointransactions,thesystemwouldachieve1.7ktx/sec.Delegationoftrustandahierarchyofsidechains.Anothertechniqueforscalingistocreateahierarchyoflower-tier“consensusinstances,”commonlyreferredtoas“sidechains.”Sidechainscanpotentiallyhavealowerdegreeofde-centralizationthanthetop-levelblockchain.Sidechainsmayalsorunnon-proof-of-workconsensusprotocols,suchasBFT.Onesidechainstructure,proposedbyBacketal.[16],permitstransactionstomovefundsamongindependentchains.Theintroductionofsidechainsraisesthreetechnicalchallenges.First,thesidechainsmustbesecuredindependentlyofthemainblockchain.Mergedmin-ingtechniques[16]allowseparatechainstosharetheirminingpower,butrequireminercoordination.Withoutsuchcoordination,themaintenanceofsidechainsdilutestheminingpowerinthesystem,renderingtheindividualchainsvulner-able.Second,ifsidechainsarewidelyadopted,thechancesthatagivensourceoffundsandadesireddestinationareonthesamesidechainaresmall,requir-inginter-chaintransactions.Inter-chaintransactionswillhavetogothroughthemainblockchain,possiblyrequiringtwoseparatetransactions,andthereforemayplacemoreofaburdenonthemainblockchainandthushaveanadverseimpactonscalability.Finally,transactionsinvolvingmorethanonedecentralizedchainmayincurhighlatency.Decentralizedblockchainsrequiretheaccumulationofanumberofblockstoensurethatatransactionwillremainintheblockchainwithhighprobability.Transactionsamongchainswillrequireasequenceofsuchblockaccumulations,oneperchain.4.3StoragePlaneTheStoragePlanefunctionsasaglobalmemorythatstoresandprovidesavailabilityforauthenticateddataproducedbytheConsensusPlane.Itmayberegardedasanabstractionwithtwointerfaces:(1)Itingestsandprocessesmemory-modiﬁcationinstructions—writeand(potentially)deleteoperations—fromtheConsensusPlaneand(2)Itservicesreadrequestsfromanyentityinthesystem.Thestorageplanecontainstheledgerofthesystembutmayalsocon-tainotherstateproducedbyconsensus,suchassmartcontractstateor“views”supportedbytheViewPlane.ThereareseveralwaystoimplementtheStoragePlaneinacryptocurrency.InBitcoin,theStoragePlanemayberegardedasstoringtheBitcoinledger.TheBitcoinreferenceimplementationtodaybydefaultstorestheentireledger;asaresult,thesystemstoresmanyduplicatesoftheentireledger.TheStoragePlaneinBitcoinacceptsonlywritesthatappenddata,namelynewlyminedblocks,anddoesnotsupportdeleteoperations.TheonlygenerallysupportedreadoperationfortheBitcoinStoragePlanedownloadsthecontentsoftheentireledger,aprocessthatrequiresfourdays(seeSection2).(Giventhecurrentheightoftheblockchain,adownloadedledgermaybeauthenticatedbyreferencetothegenesisblock.)Thus,Bitcoin’sStoragePlanehasnotableineﬃciencies.OtherimplementationsofandinterfacesfortheStoragePlanearepossible.ThecommunityhasproposedinterestingideasthatcanessentiallyshardthestorageofaUTXOdatastructure[38](seebelow).ItisnotclearhowtheseideaswouldgeneralizetootherformsofstatethatmightgointotheStoragePlane,e.g.,thestateassociatedwithsmartcontracts.Howtoshardageneral-purposeStoragePlanesuchthatnotallconsensusnodeshavetostoreitinitsentiretyandsuchthatitscontentscanbeauthenticatedduringreadoperationsisanopenresearchchallenge.DistributedHashTables(DHT)areapossiblestart,coupledwithsuitabledataauthenticationtechniques.4.4ViewPlaneForBitcoinminers,itisunnecessarytooperateonthefullledgerthatstorestheentiretransactionhistory.ThusminersandnodesinBitcoinlocallycom-puteandoperateonaviewoftheledgercalledtheunspenttransactionoutputs(UTXO)set,whichineﬀectspeciﬁesthecurrentbalanceofallentitiesinthesys-tem.Similarly,inEthereumsmartcontractscandeﬁnestatethatresidesintheledger.Partiestoasmartcontractmaywishtoaccessandauthenticatethisstatewithoutreadingotherpartsoftheledger.Forthisreason,akeyperformancerequirementincryptocurrencies(bothdecentralizedandprobablycentralized)issupportforviews.3Aviewisadatastructurederivedfromthefullledgerwhosestateisobtainedbyapplyingalltransactions.Forperformancereasons,aviewmaybestoredintheStoragePlaneanddistributedinanauthenticatedfashion—Bitcoindidnotimplementthisoptimization,andthereforenewminerswouldnowneedfourdaystoreconstructtheUTXOset(whichcanbeconsideredasaview)fromthebeginningoftime.Ingeneral,theviewcanbeanarbitraryfunctionofthefullledger,notnecessarilytheUTXOset.AsapieceofdataintheStoragePlane,aviewmustbedeterminedeitherimplicitlyorexplicitlybytheConsensusPlaneandmustbeauthenticablebyanyentityexecutingaReadoperationagainstit.Thereareanumberofoptionsforimplementingaview,includingthefollowing.Viewsviareplication.Bitcoin[40],Ethereum[50],andotherpopulardecen-tralizedcryptocurrenciesrequireallconsensusnodestoverifyalltransactions(and/orsmartcontracts),andbasedontheresultofthecomputation,updatetheirrespectiveviews,e.g.,UTXOsets,locally.Inthiscase,theviewisanim-plicitoutputoftheConsensusPlaneandmayberegardedasresidingintheStorageoutput:providedthatitiscorrectlycomputed,itrepresentsthecom-putationthatanhonestsetofconsensusnodeswouldproduce,andofcourseithashighavailability.Outsourcingviewsviacryptography.Itispossibletooutsourcethecom-putationofaviewtoathird-partyserviceprovider.Thisprovidermayreleaseacryptographicdigest(e.g.,Merkle-treeroot)ofthisviewalongwithaproofofitscorrectness.Byrelyingonveriﬁablecomputationtechniquessuchassuc-cinctnon-interactiveargumentsofknowledge(SNARKs)[18,41],theprovidercanproduceaproofofcorrectnessforthedigest,supportingauthenticationoftheview.TheviewmaythenbeinsertedintotheStoragePlane.Ifavailabilityisnotessential,theviewcanalternativelybestoredwithinsomeotherpartofthesystem,e.g.,bytheprovideritself,ratherthanintheStoragePlane.3Weadapttheterm“view”fromitsmeaningindatabasetheory,whereitreferstotheresultsetofastoredquery.Oneadvantageofthisapproachisthatconsensusnodesnowneednotstoretheentireledger.Theycaninsteadoperateoversuitablychosenviews.Akeyquestionthatmustbeanswered,however,iswhethercryptographictechniquessuchasSNARKsarepracticallyviable.Inthefullversionofourpaper[10],wepresentexperimentalresultsshowingthattheamortizedcostofemployingSNARKscanbeaslowas$0.0154pertransactionforcomputingasimpleviewthatessentiallystoresallusers’balances.4.5SidePlaneMuchassidechainsallowoﬀ-the-main-chainconsensus,wecanconsideroﬀ-chainfunctionalities.Oﬀ-chaintransactionshavebeendemonstratedinpaymentnetworks[13,22,42],inwhichpaymentsareroutedalongpathsofpre-established“collateral”channels.Eachsuchchannelrepresentsaquantityofbitcoinreservessetaside,suchthatpartiescanrepeatedlyadjusttheirrelativestakebyexchang-ingout-of-bandmessagesuntilthechannelisﬁnalized(andthereservespaidout).WhilepaymentnetworkshavebeenheraldedasasolutiontoBitcoin’sin-herentlimitations,muchoftheiroperation,andtheguaranteestheycanoﬀer,relycriticallyonthenatureofthelinksformedbetweenparties.EvenwhenpaymentnetworksusethesameunderlyingtransactionformatasBitcoin,asdotheLightningNetwork[42]andfullduplexchannels[22],theyessentiallyformaseparateNetworkPlaneaswellasanindependent,peer-to-peerConsen-susPlane,backedbyBitcoin.Asaresult,theircapacity,abilitytoﬁndroutes,achievedthroughput,latency,andprivacyguaranteesdependfundamentallyonemergentpropertiesofthepaymentnetworkgraph,suchasthevaluecapacityofpeer-to-peerchannels,thediscoverabilityofroutes,theonlinestatusofnodesinvolved,andsoon.Further,paymentchannelsmayembodyasimilartradeoﬀbetweenperformanceandcentralizationinthepaymentnetwork;acentralizedhub-and-spoketopologythatsimpliﬁesroutingembodiesinherentproblemswithcentralization,suchaslossofprivacy.Thedesignofprotocolsforeﬃcient,scal-able,privacy-preservingpaymentnetworksisanongoingareaofresearch:itisfarfromagiventhattheycanoutperformBitcoin’sNetworkandConsensuslayersoverall.5ConclusionThispaperexploredthechallengesinscalingBitcoinandblockchainsingen-eral.Supportedbymeasurementstudies,weshowedthatreparametrizationoftheblocksizeandintervalinBitcoinisonlyaﬁrststeptowardsubstantialthroughputandlatencyimprovementswhileretainingsigniﬁcantsystemdecen-tralization.Moreaggressivescalingwillinthelongertermrequirefundamentalprotocolredesign.Throughastructuredpresentationofthedesignlandscapeforblockchainprotocols,weillustratedthevarietyofpotentiallysuccessfulap-proachestosuchscaling,categorizedarangeofrecentlyproposedandnewideas,andframedanumberofimportantopentechnicalchallengesforthecommunity.AcknowledgementsThisworkissupportedinpartbyNSFgrantsCNS-1314857,CNS-1453634,CNS-1518765,CNS-1514261,CNS-1518899,aPackardFellowship,aSloanFel-lowship,twoGoogleFacultyResearchAwards,andaVMWareResearchAward.References1.https://en.bitcoin.it/wiki/Scalability.2.https://en.bitcoin.it/wiki/Mining_hardware_comparison.3.https://blockchain.info/charts/hash-rate.4.https://blockchain.info/charts/n-transactions-per-block.5.https://bitnodes.21.co/dashboard/?days=365.6.https://gist.github.com/gavinandresen/e20c3b5a1d4b97f79ac2.7.Amazonec2pricing.http://aws.amazon.com/ec2/pricing/.accessed2015-10-30.8.Antminers5+hardware.https://bitmaintech.com/productDetail.htm?pid=0002015081407532655504JMKzsM067B.accessed2015-10-30.9.Litecoin,opensourceP2Pdigitalcurrency.https://litecoin.org.10.Onscalingdecentralizedblockchains—apostionpaper.http://www.initc3.org/scalingblockchain/.11.HowaVisatransactionworks.http://web.archive.org/web/20160121231718/http://apps.usa.visa.com/merchants/become-a-merchant/how-a-visa-transaction-works.jsp,2015.12.NXT.org,DecentralizedFinancialEcosystem.http://nxt.org/,2015.13.abhishelatandR.Pass.Micropaymentsforpeer-to-peercurrencies.InCCS,2015.14.G.Andresen.Increasemaximumblocksize(bip101).https://github.com/bitcoin/bips/blob/master/bip-0101.mediawiki,retrievedOctober2015.15.B.AwerbuchandC.Scheideler.TowardsascalableandrobustDHT.InSPAA,2006.16.A.Back,M.Corallo,L.Dashjr,M.Friedenbach,G.Maxwell,A.Miller,A.Poelstra,J.Tim´on,andP.Wuille.Enablingblockchaininnovationswithpeggedsidechains.https://www.blockstream.com/sidechains.pdf,retrievedNov26,2015.17.E.Ben-Sasson,A.Chiesa,E.Tromer,andM.Virza.Scalablezeroknowledgeviacyclesofellipticcurves.InCRYPTO.2014.18.E.Ben-Sasson,A.Chiesa,E.Tromer,andM.Virza.Succinctnon-interactivezeroknowledgeforavonneumannarchitecture.InSecurity,2014.19.I.Bentov,C.Lee,A.Mizrahi,andM.Rosenfeld.Proofofactivity:Extendingbitcoin’sproofofworkviaproofofstake.https://eprint.iacr.org/2014/452/.20.M.Corallo.High-speedBitcoinrelaynetwork.https://github.com/TheBlueMatt/RelayNode,December2015.21.C.DeckerandR.Wattenhofer.Informationpropagationinthebitcoinnetwork.InIEEEP2P,pages1–10.IEEE,2013.22.C.DeckerandR.Wattenhofer.Afastandscalablepaymentnetworkwithbitcoinduplexmicropaymentchannels.InStabilization,Safety,andSecurityofDistributedSystems,pages3–18.Springer,2015.23.S.DolevandN.Tzachar.Spanders:Distributedspanningexpanders.Sci.Comput.Program.24.P.W.EricLombrozo,JohnsonLau.Segregatedwitness(consensuslayer).https://github.com/CodeShark/bips/blob/segwit/bip-codeshark-jl2012-segwit.mediawiki.25.R.Escriva,B.Wong,andE.G.Sirer.Warp:LightweightMulti-KeyTransactionsforKey-ValueStores.http://arxiv.org/abs/1509.07815.26.I.Eyal,A.E.Gencer,E.G.Sirer,andR.vanRenesse.Bitcoin-NG:AScalableBlockchainProtocol.Technicalreport,CoRR,2015.27.J.Garzik.Blocksizeincreaseto2mb(bip102).https://github.com/bitcoin/bips/blob/master/bip-0102.mediawiki,retrievedOctober2015.28.J.Garzik.Makingdecentralizedeconomicpolicy.http://gtf.org/garzik/bitcoin/BIP100-blocksizechangeproposal.pdf,retrievedOctober2015.29.C.Georgiou,S.Gilbert,R.Guerraoui,andD.R.Kowalski.Asynchronousgossip.J.ACM,60(2),May2013.30.L.Glendenning,I.Beschastnikh,A.Krishnamurthy,andT.Anderson.ScalableConsistencyinScatter.InSOSP,2011.31.R.Guerraoui,F.Huc,andA.-M.Kermarrec.Highlydynamicdistributedcomput-ingwithbyzantinefailures.InPODC,2013.32.H.D.Johansen,R.V.Renesse,Y.Vigfusson,andD.Johansen.Fireﬂies:Asecureandscalablemembershipandgossipservice.ACMTrans.Comput.Syst.,2015.33.R.Karp,C.Schindelhauer,S.Shenker,andB.Vocking.Randomizedrumorspread-ing.InFOCS,2000.34.S.KingandS.Nadal.PPCoin:Peer-to-PeerCrypto-CurrencywithProof-of-Stake,August2012.35.A.Kosba,Z.Zhao,A.Miller,Y.Qian,H.Chan,C.Papamanthou,R.Pass,abhishelat,andE.Shi.Howtousesnarksinuniversallycomposableprotocols.Cryp-tologyePrintArchive,Report2015/1093,2015.http://eprint.iacr.org/.36.C.LawandK.-Y.Siu.Distributedconstructionofrandomexpandernetworks.InInIEEEInfocom,pages2133–2143,2003.37.Y.Lewenberg,Y.Sompolinsky,andA.Zohar.Inclusiveblockchainprotocols.InFC,2015.38.G.Maxwell.https://bitcointalk.org/index.php?topic=314467#msg3371194.39.Y.Minsky,A.Trachtenberg,andR.Zippel.Setreconciliationwithnearlyoptimalcommunicationcomplexity.InIEEETrans.onInformationTheory,2003.40.S.Nakamoto.Bitcoin:APeer-to-PeerElectronicCashSystem.http://bitcoin.org/bitcoin.pdf,2009.41.B.Parno,J.Howell,C.Gentry,andM.Raykova.Pinocchio:Nearlypracticalveriﬁablecomputation.InS&P,2013.42.J.PoonandT.Dryja.Thebitcoinlightningnetwork.https://lightning.network/lightning-network-paper.pdf,retrievedNov26,2015.43.P.Rizun.Atransactionfeemarketexistswithoutablocksizelimit.2015.44.S.SenandM.J.Freedman.Commensalcuckoo:Securegrouppartitioningforlarge-scaleservices.SIGOPSOper.Syst.Rev.,2012.45.L.Shin.Bitcoinblockchaintechnologyinﬁnancialservices:Howthedisruptionwillplayout.Forbes,14September2015.46.Y.SompolinskyandA.Zohar.Securehigh-ratetransactionprocessinginbitcoin.InFC,2015.47.TradeBlock.Bitcoinnetworkcapacityanalysis.https://tradeblock.com/blog/bitcoin-network-capacity-analysis-part-1-macro-block-trends.48.R.vanRenesse,D.Dumitriu,V.Gough,andC.Thomas.Eﬃcientreconciliationandﬂowcontrolforanti-entropyprotocols.InLADIS,2008.49.L.Wilson.Averageelectricitypricesaroundtheworld.http://shrinkthatfootprint.com/average-electricity-prices-kwh.50.G.Wood.Ethereum:Asecuredecentralizedtransactionledger.http://gavwood.com/paper.pdf,2014.