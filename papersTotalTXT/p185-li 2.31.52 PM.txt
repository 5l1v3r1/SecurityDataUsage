Watching Videos from Everywhere: A Study of the PPTV

Mobile VoD System

Zhenyu Li†, Jiali Lin†, Marc-Ismael Akodjenou†,

Gaogang Xie†, Mohamed Ali Kaafar (cid:2) ‡, Yun Jin(cid:3), Gang Peng(cid:3)

†ICT, CAS, China,

‡INRIA France, (cid:2)National ICT Australia,

(cid:3)PPlive, China

{zyli, linjiali, akodjenou, xie}@ict.ac.cn, kaafar@inrialpes.fr,

{yunjin, gangpeng}@pptv.com

ABSTRACT
In this paper, we examine mobile users’ behavior and their
corresponding video viewing patterns from logs extracted
from the servers of a large scale VoD system. We focus
on the analysis of the main discrepancies that might exist
when users access the VoD system catalog from WiFi or
3G connections. We also study factors that might impact
mobile users’ interests and video popularity. The users’ be-
havior exhibits strong daily and weekly patterns, with mo-
bile users’ interests being surprisingly spread across almost
all categories and video lengths, independently of the con-
nection type. However, by examining the activity of users
individually, we observed a concentration of interests and
peculiar access patterns, which allows to classify the user-
s and thus better predict their behavior. We also ﬁnd a
skewed video popularity distribution and then demonstrate
that the popularity of a video can be predicted using its very
early popularity level. We further analyzed the sources of
video viewing and found that even if search engines are the
dominant sources for a majority of videos, they represen-
t less than 10% (resp. 20%) of the sources for the highly
popular videos in 3G (resp. WiFi) network. We report that
both the type of connections and mobile devices in use have
an impact on the viewing time and the source of viewing.
Based on our ﬁndings, we provide insights and recommen-
dations that can be used to design intelligent mobile VoD
systems and help improving personalized services on these
platforms.

Categories and Subject Descriptors
C.2.4 [Computer Applications]: Distributed application-
s; C.4 [Performance of Systems]: Measurement tech-
niques

Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’12, November 14–16, 2012, Boston, Massachusetts, USA.
Copyright 2012 ACM 978-1-4503-1705-4/12/11 ...$15.00.

General Terms
Measurement, Performance, Human Factors

Keywords
Mobile VoD, user behavior, video popularity, view source

1.

INTRODUCTION

The advanced wireless technologies (e.g. WiFi, 3G and
4G) and smart mobile devices (e.g. iPad, iPhone, Android
systems) enable users to watch Internet videos from almost
everywhere. Today video content providers often, if not al-
ways, oﬀer client applications that can be installed on mobile
users’ tablets and smart phones, making the video viewing
ubiquitous and contributing to the growing popularity of
mobile video services.

A recent report [1] indicated an increase of 50% of the
global mobile video traﬃc in 2011 compared to the previous
year, and expected that the volume of video traﬃc will reach
25 times its current volume by 2016. Video providers natu-
rally strive to meet such a huge demand through the design
of better system architectures. Understanding the current
system’s artifacts, e.g. users’ behavior, viewing patterns and
trends of video popularity is of tremendous importance to
design and optimize the eﬃciency of the systems, from the
consumption of network resources to the economic models.
User- and video-related trends are two key factors combin-
ing to inﬂuence the day-to-day performance of the VoD dis-
tribution network. Analyzing and predicting these factors
is highly valuable to build scalable and robust distribution
networks and caching systems.

There have been several measurement studies on landline
based video systems, e.g.
[15][14][5] for VoD systems, [10]
for P2P VoD systems, [9] for P2P live streaming, [3] and [7]
for IPTV systems. However, the observations reported so
far may not be applicable to mobile video systems because
of mobility-related constraints, limited bandwidth and smal-
l screen size of mobile devices. For example, Li et al. [12]
found that viewing patterns in mobile TV systems are dif-
ferent from those observed in landline-based TV broadcast
and VoD systems.

In this paper, we analyze the viewing behavior of mobile
users and study the patterns of video consumptions using a
unique dataset extracted from the log servers of PPTV, a
leading video provider in China oﬀering both live streaming

185and VoD services. The dataset spans over 14 days in De-
cember 2011 and consists in a collection of approximately 86
million videos requests generated by more than 3.5 million
users. This unique dataset enables us to dig into both mo-
bile users’ behavior and video consumption patterns. From
a user behavior perspective, we focus on temporal pattern-
s, viewing time, user interests and individual users’ activity,
while for video-related patterns, we analyze the level of video
popularity and sources of video viewing. We are particularly
interested in identifying the impact of types of connection
and mobile device on these metrics. Our main ﬁndings and
observations are summarized as follows:
• We observe that the behavior of users shows strong daily
and weekly patterns, with a relatively short viewing time.
Longer viewing times are associated with the use of WiFi
rather than 3G and with the use of tablets (e.g.
iPad)
compared to smart phones (e.g. iPhone). We also found
a surprisingly high number of requests of long videos
from 3G users. The completion rate (i.e. the viewing
time normalized by the video length) for short videos is
on average around 0.5, with lower rates observed for long
videos. This is however varying with the time of the day,
as we observed that completion rates are much higher in
early morning.
• We analyze the activity of individual users by aggre-
gating the number of views and ﬁnd that it follows a
stretched exponential distribution model. The stretched
factor is correlated with the connection type. Interest-
ingly, the users viewing videos through a mix of both
WiFi and 3G connections watch a higher number of videos
than those using exclusively one type of connection.
• We study the interests of users according to video cate-
gory and found that such interests vary over the course
of the day. The interests are also correlated with geo-
locations. In general, individual users request and view
videos from only a few categories, pointing to a high con-
centration of interests.
• We measure that 10% of the requested set of top pop-
ular videos attracted more than 80% of the views, in
accordance with the Pareto principle (“a minor propor-
tion of causes generate a major proportion of eﬀects”).
Although the observation period of 14 days is relatively
short to assess general behavior of video popularity dis-
tributions, we ﬁnd a high correlation between the amount
of early viewing of videos and their near-future popular-
ity, especially for animation videos and variety shows.
• We ﬁnally observe that even though the view source is
dependent on the type of access to the network, overall
the category page is the primary source of views and is
often used to request highly popular videos. Another
source is the PPTV video search engine which is the
main source of views for more than half of the total video
catalog, especially for low-popularity videos. The video
search engine thus contributes to the diversity of video
views.

In the light of these results, it is desirable that the research
community investigates the inclusion of several features into
the design of intelligent mobile VoD systems. Firstly, the
Pareto principle of video popularity indicates that it might
be necessary for content delivery networks (CDNs) to cache
only the 10% top popular videos, since they contribute to

more than 80% of the views. The high correlation coeﬃcien-
t between early view records of videos and their popularity
can be used to decide whether a video should be cached just
a few hours after its release. Secondly, it is important to
notice that the eﬀectiveness of the cache can be optimized
by allocating most of the capacity to store the ﬁrst chunks
of videos, since the normalized viewing time of the vast ma-
jority of views is low. Thirdly, despite the variety of users’
behaviors, users’ interests reside in a few categories only,
which could be leveraged to design eﬃcient recommenda-
tion systems and targeted advertisement. Finally, the types
of connection and mobile device should be considered as im-
portant factors. The CDN can better predict the peculiar
behavior of its mobile users by taking these factors into ac-
count and thus optimize further the placement of servers
and the routing strategies.

The remaining of this paper is organized as follows: Sec-
tion 2 describes the dataset. In Section 3, we perform an
in-depth analysis of users’ behavior. Section 4 examines
video popularity patterns, followed by an analysis of viewing
source in Section 5. In section 6, we evaluate the design of
a caching system that uses the observations we made. We
discuss the related work in Section 7. Section 8 concludes
our work.

2. DATASET

2.1 Dataset Description

Our dataset was collected from the log servers of PPTV1,
a leading video content provider oﬀering live streaming and
VoD services in China. PPTV provides free access to 22
categories of videos, including movies, TV series, animation
or variety shows. Users can view videos either through a
Web browser or through a free client application available for
various types of mobile devices (e.g. iPad, iPhone, Android
pads and Android phones).

Table 1: Main ﬁelds of logs

Example
Field
13:10:01 Dec. 4 2011
Timestamp
Geo-location
BJ, SH, overseas, etc.
Connection type WiFi, 3G or unknown
User ID
33ab8c95437fd
File name
Tom and Jerry episode1.mp4
Video category Movie, TV series, animation
Device
Viewing time
Viewing source
Streaming type

iPhone, iPad, Android phone, etc.
55 seconds
video search, category page, etc.
VoD, live

Since most of the views of mobile accesses are generated by
mobile devices-based software (as opposed to web browsers),
we only consider the views records from the software. After
a view is terminated, a record is pushed to the log servers.
Table 1 lists an example of the main ﬁelds contained in the
logs.

The timestamp ﬁeld is formatted as GMT+8 (Beijing’s
time zone). The geo-location ﬁeld can refer to one of the
provinces in mainland China, HongKong-Macao-Taiwan or

1http://www.pptv.com/

186an overseas location. Connection type has three possible val-
ues: WiFi, 3G and unknown. A unique user ID is generated
when a client application is installed on a mobile device.
Note that it is possible for some users to share a device (e.g.
members of the same household) and as such a user in this
paper relates to a client application which may correspond
to diﬀerent users sharing the same device. The video name
ﬁeld contains a unique identiﬁer of the video. The view-
ing time ﬁeld contains the duration of a view in seconds,
not including the possible pauses in viewing. Finally, the
viewing source ﬁeld identiﬁes how users discover videos, i.e.
category page, video search, recent views, recommendation,
favorite, top popular videos, cover and next episode.

We uniformly sampled the logs of VoD and live streaming
requests that came from the client application on mobile
devices for a period spanning two weeks from Dec. 1st,
2011 to Dec. 14th, 2011. Overall we collected 111,702,242
view logs, out of which 108,851,161 views are VoD requests.
By ﬁltering out the logs with unknown connection type, the
data ﬁnally contained 86,521,403 logs, with a proportion of
92.58% access with a WiFi connection and 7.42% via a 3G
connection. These views were generated by 3,759,129 users
watching 427,316 unique videos. Hereafter, we will refer to
this ﬁnal ﬁltered dataset as the mobile dataset and use it
as the base of our analysis.

Table 2: Dataset statistics

Access
method

3G
WiFi

WiFi+3G

% of views from

Tablets

Smart phones

(iPad+aPad)

(iPhone+aPhone)

5.37
44.89
42.08

94.63
55.10
57.91

others
∼0
0.01
0.01

Table 2 shows the distribution of views generated by dif-
ferent types of mobile devices. Almost all the views are from
four types of mobile devices, i.e. iPad, iPhone, Android pad
and Android phone (the latter two are abbreviated aPad
and aPhone in this paper). The number of views from s-
mart phones and tablets is similar when a WiFi connection
is used while for 3G accesses most of the views come from
smart phones.
2.2 Limitations

The dataset contains 14 days of viewing logs. This rela-
tively short period of time does not allow us to fully observe
users’ behavior and videos’ consumption patterns, as the
series of viewing rates and video popularity trends usually
span larger time scales. Besides, the dataset is a uniform
sample and not a total collection of logs. We will thus fo-
cus on normalized values and avoid metrics that might be
aﬀected by a sampling bias.

Another limitation is that the dataset does not contain
detailed video attributes, such as video length, video up-
loading time, video tags, bit rate or others. Among these
attributes, video length is certainly one of the most impor-
tant for the analysis of viewing time.
In order to obtain
this information, we used another large sample of viewing
logs from the Web portal of PPTV (with 91 million entries,
mostly from PCs). In this Web sample the video length is
included, along with an identiﬁer for the video ﬁle with the
same format as in our mobile dataset. We were then able

to obtain the corresponding length of 268,867 videos that
were contained in both samples. Although these videos only
cover 62.9% of the unique videos in mobile dataset, they
still account for 95.8% of the views.

Finally, even though the viewing behavior during user’s
mobility would be of interest in this work, the dataset does
not contain any relevant location information.

3. USERS’ BEHAVIOR AND INTERESTS

We analyze in this section both aggregated viewing be-
havior and individual behavior of the users, and discuss the
implications of our key observations.
3.1 Daily and Weekly Patterns

System designers need insights on the workload of the
systems to perform adequate capacity design. In this article,
we deﬁne workload as the number of video requests to the
system. Figure 1 plots the variation of this workload over
time, for both WiFi and 3G connection types. Each of the
two curves is produced in the following way: we aggregate
the number of views with a bin for each hour and counted
the number of views of the same hour of week. Finally the
number of views per hour is normalized by the total number
of views through WiFi and 3G, respectively. Note that since
the total number of views through WiFi is diﬀerent from
the number of views through 3G, one cannot quantitatively
compare the two curves.

WiFi

3G

 

1.5

1

0.5

)

%

(
 
s
w
e
v
 
f

i

o

 
.
c
r
e
P

 

0
Mon

Tue Wed

Thu

Fri

Sat

Sun

Time

Figure 1: Weekly patterns of access using WiFi and 3G

Both WiFi and 3G workloads exhibit strong daily and
weekly patterns. The lowest level of workload happens be-
tween 5AM and 7AM every day. The number of views reach-
es its ﬁrst minor peak at 1PM in weekdays and at 2PM in
weekends. The peak of day is observed around 11PM dur-
ing both weekdays and weekends. We also observe that the
number of views in the afternoon of the weekends is much
higher than weekdays for both WiFi and 3G workloads.

Comparing 3G and WiFi workload patterns is also en-
lightening. The gap between the ﬁrst minor peak (around
1PM) and the peak of the day (around 11PM) in WiFi net-
work is much larger than that in 3G network, especially in
weekends. The most probable reason is that the peak of
the day happens during nights when users are most likely at
home, thus favoring WiFi to obtain a better quality of video
streaming and to save cost.

The daily pattern is similar to the one observed in landline-
based VoD systems [10]. However the weekly pattern we
observed is diﬀerent from mobile TV systems [12], where for
the 3G connections the viewing pattern of the weekend was
almost the same as the pattern of the weekdays.

1870.03

0.02

0.01

i

s
w
e
v
 
f
o
 
.
c
a
r
F

0
 
1s

0.03

0.02

0.01

i

s
w
e
v
 
f
o
 
.
c
a
r
F

0
 
1s

Animation

 

WiFi

Short variety show

Movie trailer

TV series

10s

2min

7min

22min45min

 

3G

10s

2min

7min

22min45min

Viewing time

Figure 2: Distribution of viewing time via WiFi and 3G
connections

3.2 Video Viewing Time

Viewing time is another indicator of workload, which can
be also used for cache policy design. In particular, if most
of the views last only a few minutes, it would be eﬃcient
to cache the ﬁrst chunks of videos in content delivery net-
works (CDNs) so as to maximize the eﬀectiveness of system
storage.

Figure 2 shows the histogram distribution of viewing time
for WiFi and 3G connection types. The y-axis is the normal-
ized number of views. For both connection types, a consider-
able fraction of views last less than 10 seconds and generally,
the number of views decreases with the growth of viewing
time. There are noticeable peaks around 2 minutes, 7 min-
utes, 21 minutes and 45 minutes in both distributions. They
correspond to typical video length for the following types of
videos: movie trailer, short variety shows, animation and
TV series. The peaks correspond to users watching entirely
these types of videos. The variations in 3G viewing time
distribution are not as marked as in the WiFi viewing time,
indicating that there are fewer users watching full videos in
3G. A possible reason is that the 3G network has a relative-
ly lower speed and obviously higher cost. Another possible
reason is the limited power capacity of smart phones, which
make up the most of the views via 3G connections as shown
in Table 2.

Table 3: Cumulative distribution of viewing time

0 s

10s

20 min
23.9% 32.3% 48.7% 74.4% 83.8%
42.7% 54.5% 67.5% 88.5% 94.1%

10 min

1 min

WiFi
3G

Table 3 summarizes the cumulative distribution of viewing
time. The number of views with 0 seconds is considerably
large, especially for views via 3G. 32.3% of the views via
WiFi connections and 54.5% via 3G connections last less
than 10 seconds. This can be due to the low access speed or
to the poor rendering quality of mobile devices, with which
users would quickly abandon the viewing of the video. Ex-
amining the views with longer durations, we ﬁnd that only
26% of views via either WiFi or 3G last more than 10 min-
utes.

We further evaluate the impact of mobile devices on view-

Table 4: Impact of devices on viewing time (WiFi)

Device
iPad

iPhone
aPad

aPhone

50th prctile (s)

95th prctile (min)

121
44
80
58

45.1
34.7
45.8
42.8

ing time in Table 4. We only consider views via WiFi s-
ince views are more evenly distributed on tablets and smart
phones as shown in Table 2. Views from tablets tend to
last longer than those from smart phones. This may be
explained by the smaller screen size and lower power capac-
ity of smart phones. We also observe a small proportion
of views with very long viewing time, often caused by the
viewing of movies and TV series. Additionally, we ﬁnd that
views from Android phones last longer than the views from
iPhones. While Android phones have various types of hard-
ware with various screen sizes and battery capacities, all
iPhones have the same type of hardware. Some Android
phones with larger screens or longer battery life may oﬀer
better video streaming quality than iPhone, which in turn
contributes to making the viewing time longer. We conclude
that the type of connections and mobile devices impact the
viewing time, with the larger screen size and longer battery
life being possible factors lengthening the viewing time.
3.3 Normalized Viewing Time

The viewing time is also aﬀected by video length, which
varies from several seconds to more than 2 hours. In order
to have a better grasp of how complete are the viewings,
we deﬁne a rate of completion of a video as the normalized
viewing time (NVT), which is the ratio of the viewing time
to the total length of the video. By deﬁnition, NVT can also
be considered as a good indicator of the user’s interest in a
video.

0.8

0.6

0.4

0.2

 

WiFi: 50th prctile
WiFi: average
3G: 50th prctile
3G: average

e
m

i
t
 

i

g
n
w
e
v
 

i

d
e
z

i
l

a
m
r
o
N

0

 

1m

7m

20m
Video length

40m 1h

2h 3h

Figure 3: Normalized viewing time against video length

We bin the views by video length in minutes and compute
the average and median NVT for each bin. Figure 3 shows
the NVT against video length for WiFi and 3G connection
types. As expected, the NVT for WiFi is larger than for 3G.
It is however interesting to notice that the NVT for WiFi and
3G share similar patterns. In general, the NVT for shorter
videos is higher than longer videos. For example with WiFi
connections, while the NVT is around 0.4 for videos with
length smaller than 12 minutes, it is only around 0.1 for
those longer than 1.5 hours. We also observe several abrupt
variations as the video length increases. The most noticeable
is around the 7-minute length (the typical length for short

188variety shows). The median NVT value with length around
7 minutes even reaches 0.7 for WiFi connections.

Table 5: Average NVT against popularity of videos

Top
WiFi
3G

0.5%
0.205
0.074

1%
0.222
0.083

5%
0.275
0.109

10% 50% 100%
0.336
0.284
0.124
0.229

0.304
0.173

Yu et al. [15] found that in landline-based VoD systems,
the viewing time is inversely proportional to the popularity
of videos. We observe similar behavior in the PPTV mobile
VoD systems as shown in Table 5. Regardless of the con-
nection type, on average, the NVT grows with the decrease
of video popularity. With WiFi connections the NVT grows
from 0.205 for the top 0.5% of videos to 0.336 for all videos;
with 3G connections the NVT grows from 0.074 for top 0.5%
videos to 0.229 for all videos.

Fri., Dec. 2

Sat., Dec. 3

0.35

0.3

0.25

0.2

 

T
V
N
e
g
a
r
e
v
A

4

8

12

16

18

24

4

8

12

16

18

24

Time in hour

Figure 4: Normalized viewing time evolution over time of
day

We further examine the evolution of NVT over time of
days for WiFi connections in Figure 4. Note that the evo-
lution of NVT for 3G networks exhibits the same trend as
for the WiFi connections. Views are binned by 5-minute
time frames and then the average of each bin is computed.
Figure 4 shows the results for two days. We observe that
the average NVT in early morning is higher than in other
time of days, which is consistent with what was observed in
mobile TV systems [12]. The NVT remains stable during
day time and reaches its minimum in the evening.
3.4 User Interest

Internet video providers often store popular videos accord-
ing to users’ interest on CDN servers close to users. The
storage locations of a video should be chosen by taking into
account several factors, including the variation of users’ in-
terests over time and users’ geo-locations. Here we measure
user interest using the categories of the videos that the users
watched.

3.4.1 User interests over time

Figure 5 depicts the popularity (measured by the propor-
tion of views) of diﬀerent categories over 2 days. Other days
exhibit similar trends as shown in the ﬁgure. We bin the
views by 5-minute time frames and compute the popularity
for each category. For both WiFi and 3G connections, the
top 4 categories, i.e. movies, TV series, animation and va-
riety shows, make up about 94% of views. While TV series
is the top category in terms of views for both connection
types, we observe a rather unexpected fact that 3G users
watch more movies than WiFi users. By further examining
the movie views for 3G connections, we found that 58% of

views were abandoned before playback. Several factors may
contribute to explain this observation, including low speed
of 3G connections, high connection costs, etc. We are un-
fortunately unable to investigate further these factors using
the limited information contained in our dataset.

Movie

TV series

Animation

Variety

0.5

0.4

0.3

0.2

0.1

s
w
e
v
 
f

i

o

 

n
o

i
t

a
r
F

 

WiFi

0
 
0 

4 

12

8 
Fri. Dec. 2nd

16

20

24

4

8

12

16
Sat., Dec. 3

20

24

s
w
e
v
 
f

i

o

 

n
o

i
t
c
a
r
F

0.5

0.4

0.3

0.2

0.1

0
 
0 

 

3G

4 

8 

12

16

20

24

4

8

12

16

20

24

Time (hours)

Figure 5: # of views from diﬀerent categories over time

Looking at the evolution in time of the number of views,
the curves for 3G connections are slightly less stable than
those for WiFi connections. That may be however due to
the fact that there are fewer samples in each time bin for
the 3G connections, making the curves less smooth.

The popularity of movies and TV series share similar evo-
lution trends: decreasing at early morning, remaining at a
high level from 8AM to 4PM, decreasing again after 4PM,
and climbing up from 8PM. The popularity trend of anima-
tion vidoes, as opposed to movies and TV series, exhibits a
diﬀerent shape. The popularity reaches its ﬁrst peak around
8AM and grows fast from 4PM to reach a daily peak around
7PM. We believe the main reason behind these diﬀerences
is that the majority of animation audiences are young stu-
dents, who watch videos after study time.

The popularity of variety shows is less variable, but ex-
hibits peaks around 6AM. A closer inspection of the data
for this type of video revealed that at this time of day, the
fraction of views from overseas reaches its peak. As shown
later in this section, overseas users prefer to watch variety
shows. By comparing the trends on Friday and Saturday,
we observe a higher fraction of animation views in Saturday
than in Friday. This might also be explained by the viewing
of videos by young students.

3.4.2 User interest across locations

We ﬁrst bin views by locations (i.e. provinces) and ex-
amine the popularity of categories for each location. We
ﬁnd that users from the provinces of mainland China share
similar interests. However, the views from overseas and
HongKong-Macao-Taiwan (HMT) show high discrepancies
with mainland China on video categories. We thus further
group the provinces of mainland China as one cluster and
compared users’ interests between mainland China, overseas
and HMT in Figure 6. In the ﬁgure, ”M-WiFi” is short for
”Mainland China-WiFi”, ”O-WiFi” is short for ”Overseas-
WiFi”.

Overall, about 7% (resp. 6%) of the views are from o-
verseas (resp. HMT). We see diﬀerent patterns of users’

189l

y
t
i
r
a
u
p
o
p

 
y
r
o
g
e
a
c
 
f

t

 

o
n
w
o
d
k
a
e
r
B

1

0.8

0.6

0.4

0.2

0

 

Movie

TV

Animation

Variety

Others

 

e
m

i
t
 

M−WiFi M−3G HMT−WiFi HMT−3G O−WiFi O−3G

d
e
z

i
l

a
m
r
o
N

i

g
n
w
e
v
 

i

Figure 6: Popularity of categories across locations

interests in diﬀerent locations. The users located in HMT
are mainly interested in animation videos which represent
35.3% of the views, about twice as many as the percentage
for other locations. Figure 6 also shows that overseas user-
s tend to prefer videos of variety shows a little more than
users from other locations. The users from mainland China
on the other hand favor TV series.

While the impact of the connection type on HMT mea-
surements seems very limited, it is clear that 3G users in
mainland China and overseas favor viewing movies more
than users with WiFi connections. This observation is con-
sistent with the insight oﬀered by Figure 5.
3.5 Activity of Individual Users

Understanding individual user behavior is important for
the design of recommendation systems and targeted adver-
tisement.
In our dataset, users are identiﬁed by a unique
user ID in the log entries. We divide users into 3 cate-
gories according to their connection types, i.e. WiFi, 3G
and mixed-access users. WiFi and 3G users are deﬁned as
those viewing videos exclusively through either connection
type during the observation period, while a mixed-access us-
er is deﬁned as one who accessed via each connection type
at least once.

Table 6: Statistics for individual user activity

50th

% of # of views (percentile)
users
83.57
8.49
7.94

95th
89
39
186

6
3
27

WiFi
3G

Mixed

Table 6 gives the number of users for the 3 categories and
shows statistics for individual user activity. The number of
views is aggregated for individual users from the dataset.
We observe that the number of WiFi users is one order of
magnitude greater than that of 3G and mixed-access users.
WiFi users view twice as many videos as 3G users. For
mixed-access users, the median number is about one order
of magnitude larger than that for 3G users.

3.5.1 Per user NVT analysis

We now focus on the possible correlation between the
number of views and the normalized viewing time for in-
dividual users. We bin users by their number of views and
compute the average NVT for each bin. In Figure 7, the re-
lationship between the number of views and the NVT shows
an interesting feature. The measured NVT grows with the
number of views but the growth seems to stop when the
number of views reached a level of 100 views. Above this

0.6

0.4

0.2

0
 
100

WiFi
3G
Mixed

 

101

102

# of views

103

104

Figure 7: Average NVT against number of views

level the average NVT is more dispersed, but the relation
is globally reversed as the average NVT decreases with the
number of views.

3.5.2 Distribution of user activity

x
 
=
>
 
k
n
a
r
 
y
b
d
e
r
a
h
s
 

 

e
m

i
t
/
s
w
e
V

i

1

0.8

0.6

0.4

0.2

0

 
0

 

# of views
Agg. viewing time

0.2

0.4

0.6

0.8

1

Normalized user rank

Figure 8: Rank distribution for users’ activities

User activity can be quantiﬁed in our dataset through the
per-user viewing time and the number of views. We examine
the rank distribution of users for both viewing time and
aggregated number of views and plot the results in Figure
8. The ﬁgure gives the important insight that the top 20% of
the users generated 75% of the views and 80% of the viewing
time. Since viewing time can be directly mapped to system
workload, it means 80% of the workload is generated by 20%
of users, following the Pareto principle.

We next examine the activity distribution per category of
users. For each category, we sort the users according to the
number of views in a descending order. We then plot the
rank distribution of individual users’ activity in Figure 9,
i.e. rank index i versus the number of views made by the
i-th ranked user. Note that the x-axis and the right y-axis
are in logarithmic scale.

The well-known power law rank distribution would be ob-
served as a straight line in log-log scale. It can be seen on
Figure 9 that the rank distribution for the three connection
types WiFi, 3G and mixed-access signiﬁcantly deviate from
such a straight line. We can clearly see a ﬂat head and a thin
tail, showing that the distributions do not follow a power law
model.

Laherrere et al. [11] suggest a stretched exponential (SE)
distribution, also known as the complementary Weibull dis-
tribution, to model such a deviation from the straight line
in a log-log plot. The complementary cumulative distribu-
tion function (CCDF) of the SE distribution is given as
P (X ≥ x) = e
, where c is the stretched factor and
x0 is a constant parameter. In the rank-ordering technique,
N objects are ranked in a descending order of their reference

−( x
x0

)c

1903555

1838

data in log−log scale

104

 
 

103

4724

1656

data in log−log scale

104

 
 

103

5793

3216

data in log−log scale

104

 
 

103

c

l

)
e
a
c
s
 

y
(
 
s
w
e
v
 
f
o
 
#

i

736

163

c = 0.42, a= 1.890, b = 25.835
R2 = 0.989887

 
 

1
100
100

data in log−yc scale
SE model fit

101

102
102

103

Rank (log scale)
(a) WiFi

l

)
e
a
c
s
 
g
o
l
(
 
s
w
e
v
 
f
o
 
#

i

102

101

c

l

)
e
a
c
s
 

y
(
 
s
w
e
v
 
f
o
 
#

i

415

54

c = 0.23, a= 0.454, b = 6.720
R2 = 0.998812

l

)
e
a
c
s
 
g
o
l
(
 
s
w
e
v
 
f
o
 
#

i

102

101

c

1412

l

)
e
a
c
s
 

y
(
 
s
w
e
v
 
f
o
 
#

i

355

c = 0.48, a= 3.432, b = 45.463
R2 = 0.953965

l

)
e
a
c
s
 
g
o
l
(
 
s
w
e
v
 
f
o
 
#

i

102

101

104
104

105

100

 
 

1
100
100

data in log−yc scale
SE model fit

101

102
102

103

Rank (log scale)
(b) 3G

104
104

105

100

 
 

1
100
100

data in log−yc scale
SE model fit

101

102
102

103

Rank (log scale)
(c) Mixed

104
104

105

100

Figure 9: Rank distribution of aggregated number of views for individual users

numbers. Then P (X ≥ xi) = i/N , where i (1 ≤ i ≤ N ) is
the number of objects with reference numbers larger or e-
qual to xi. That is log(i/N ) = −( x
x0 )c. By substituting xi
c and b = y1
c.
for yi, we have yi
The log-yc plot of ranked data following a SE distribution
should be a straight line.

c = −a log i+b, where a = x0

We leverage the SE ﬁt method provided by Guo et al.
[8], where the parameters for the distribution are obtained
by maximum likelihood estimation. The goodness of ﬁt is
measured by the coeﬃcient of determination, R2. In Figure
9, the left y-axis is in yc scale. As it can be seen the ﬁt is
very good for all 3 types of connections although exhibiting
diﬀerent stretched factors. The ﬁrst several points in Figure
9c are signiﬁcantly higher than the SE model predictions,
which is known as the “King eﬀect” [11].

Taking a closer look at the estimates of the distributions,
the distribution for 3G connections has the smallest stretched
factor, implying that it is more skewed towards (a few) core
users. We further divide users in each category into sub-
categories by the type of mobile devices (e.g. iPad, iPhone,
etc.). Although not shown here, we also observed SE distri-
butions for each subcategory with a stretched factor equal
to the factor measured for the category. For example, al-
l the 3G subcategories are with the same stretched factor
0.23. We believe that diﬀerent stretched factors for diﬀerent
types of users reﬂect the intrinsic characteristics of users’
speciﬁc activities.

3.5.3

Interests of individual users

Internet video systems often rely on individual users’ in-
terests in videos for personalized recommendation. We in-
vestigate whether a user tends to watch videos from a small
number of categories only. To this end we compute category
entropy, which is introduced in [4] and deﬁned for a user i
as:

− (cid:2)K

pik × lnpik
lnK

k=1

ei =

(1)

uik
ui , uik is the
where K is the number of categories, pik =
number of videos viewed by user i and belonging to cate-
gory k, ui is the total number of videos viewed by user i.
The category entropy is a number between 0 and 1, with “0”
corresponding to a user viewing videos of a single category
only and “1” when the user watches videos uniformly chosen
from all possible categories. PPTV oﬀers K = 22 categories
of videos for VoD streaming. We divide users into 2 groups,

those viewing more than 1 video and those viewing more
than 50 videos within 14 days. Figure 10 shows the distri-
bution of the category entropy.

1

0.8

0.6

0.4

0.2

F
D
C

WiFi User

 

1

3G User

 

1

Mixed User

 

0.8

0.6

0.4

0.2

0.8

0.6

0.4

0.2

>1
>50

>1
>50

0

 
0

0.5

Entropy

1

0

 
0

0.5

Entropy

1

0

 
0

0.5

Entropy

>1
>50

1

Figure 10: CDF of category entropy

Almost all users have a category entropy less than 0.5,
independent of the number of viewed videos. Focusing on
the users who view more than 50 videos, we observe as many
as 29% of the users with 3G connections viewing videos of
only 1 single category, which is larger than the WiFi (9%)
and mixed users (15%). We conclude that individual users
tend to view videos from a limited set of categories.
3.6 Summary and Implications
Our ﬁndings on user behavior are summarized as follows.
• Users’ behavior through both WiFi and 3G connections
shows strongly daily and weekly patterns. As opposed
to previous work, we observed at large scale signiﬁcantly
diﬀerent 3G and WiFi weekly patterns.
• In general, the viewing time is very short. Only about
25% of the views via either WiFi or 3G last longer than
10 minutes, and we note that a considerable fraction of
views are abandoned before playback. The views via
WiFi connections last longer than those via 3G. Mobile
devices also have an impact on the viewing time, with
larger screen sizes and longer battery life being possible
factors explaining this longer viewing time.
• Longer videos have shorter normalized viewing time (N-
VT). The NVT is inversely proportional to the popular-
ity of the videos and varies during the course of the day.
The views taking place in the early morning have longer
average NVTs.

191• Movies and TV series account for 60% of views, indepen-
dently from the connection type. There are surprisingly
more views via 3G to request movies than via WiFi, al-
though more than half of them are abandoned before
playback. Users’ interests also change over time and we
observed diﬀerent video “tastes” according to users’ geo-
location.
• Individual users’ activity follows the Pareto principle: a
minor proportion of causes generate a major proportion
of eﬀects. About 20% of users generate 80% of views
and users requesting videos via both 3G and WiFi con-
nections view a higher number of videos. The aggregated
number of views per user follows a stretched exponential
model with a stretched factor depending on the connec-
tion type. Besides, individual users and especially those
using 3G connections tend to focus on videos from a lim-
ited set of categories.

These observations might prove useful for caching policy
of CDNs, buﬀering policy in client software, system design,
recommendation and advertisement systems:
• The system maintenance and upgrade operations should
be scheduled between 5AM and 7AM to minimize the
impact on users. Since the system’s capacity is designed
according to the peak workload, a major part of the sys-
tem resources would be not used in the early morning.
• Short viewing time implies that the eﬀectiveness of cache
could be optimized by allocating most of the capacity
to store the ﬁrst chunks of videos on the CDN servers.
The fact that the viewing time is also impacted by the
connection type points to the need for diﬀerent caching
policies for diﬀerent types of network access.
• A ﬂexible buﬀering policy in the client application could
consider the length, popularity of videos and the time
of day to perform eﬀective buﬀering, which is key for
user engagement [5]. Firstly, client software should not
aggressively buﬀer several chunks of videos, but rather
adopt a more eﬃcient adaptive caching policy. Second-
ly, video providers’ customized client applications would
beneﬁt from the pre-fetching of more chunks of videos for
buﬀering in the early morning, since views exhibit a high
completion rate during this period. Finally, as noticed
previously, buﬀering policies should take into account the
type of connection and the type of mobile device used.
• Recommendation systems and content providers could
exploit the patterns we observed to better ﬁt users’ vari-
able interests across time and locations. A time-aware
recommendation system could weight the candidate item-
s based on the time of day, and for example propose
to its users animation videos with a higher probability
after school time. Advertisers could consider the fact
that users with 3G connections are more likely to watch
movies than those with WiFi connections.

4. VIDEO POPULARITY

In this section, we focus on the video popularity in the
PPTV mobile VoD system. The video popularity character-
istics not only help us to understand the underlying human
collective behaviors, but also provide insights into optimiza-
tion of the cache policy and deployment of CDNs.

Individual videos are identiﬁed by the unique ﬁle names of
videos in the PPTV video system. Video popularity can be

x
 
=
>
 
k
n
a
r
 
y
b
 
d
e
r
a
h
s
 
s
w
e
V

i

100

80

60

40

20

0

 
0

 

WiFi: all
3G: all

20

40

60

80

100

Normalized video rank

Figure 11: Pareto principle for video popularity

measured by either the number of views or the aggregated
viewing time. We examine the correlation between these
two popularity metrics with the Spearman rank correlation
coeﬃcient ρ. The coeﬃcient ρ is deﬁned as

ρ = 1 − 6

(cid:3)
(xi − yi)2
n(n2 − 1)

(2)

where xi and yi are the ranks of the i-th video according to
two diﬀerent metrics, n is the total number of videos under
consideration. It is a non-parametric measure of correlation,
which quantiﬁes how well an arbitrary monotonic function
could describe the relationship between two variables. The
coeﬃcient lies in [-1,1], a value of “1” indicating perfect pos-
itive correlation and “-1” indicating perfect negative corre-
lation.

The value of the correlation coeﬃcient of the two pop-
ularity metrics is ρ = 0.884, indicating a high correlation.
Thus, in the following we will use the number of views as
the measure of video popularity. Unless otherwise speciﬁed,
we consider the aggregated number of views to be the popu-
larity of a video for the time period covered by our dataset.

4.1 Video Popularity Distribution

We examine the video popularity distribution by ranking
videos by popularity. We normalize video ranks between 0
and 100 and compute the normalized aggregated views of the
least x-th popular videos. Figure 11 shows a highly skewed
distribution for both WiFi and 3G connections. The top
10% of the popular videos attract more than 80% of views.
The distribution for 3G connections seems to be slightly less
skewed than the WiFi’s. The diﬀerences of viewing source
between the two types of connections could be a contributing
factor. As will be shown next, users with 3G connections are
more likely to use search portals to discover videos than users
with WiFi connections, which makes the video viewing of a
more diverse origin. The skewed distribution indicates that
the video popularity follows the Pareto principle, in this case
that a very small number of top popular videos attract the
majority of views.

Although not shown here, we found that the overlap rate
of top ranked videos via WiFi and 3G connections is mod-
erately high. For example, the overlap rate of the top 1,000
popular videos is 0.75.

These observations imply that by caching only the top
10% of popular videos on CDNs, more than 80% of requests
can be satisﬁed. However, the popularity of videos changes
overtime and is the object of the following subsection.

1924.2 Video Rank Stability

We bin views of WiFi and 3G connections by 30-minute
time frames. The rank stability coeﬃcient for the top k
popular videos in the i-th (i > 1) bin is deﬁned as

Rk(i) =

|Sk(i) ∩ Sk(i − 1)|

k

(3)

where Si is the set of top k popular videos during the i-th
time frame. The coeﬃcient has values within [0, 1], where a
value of “1” indicates no change and a value of “0” that all
the videos in the top list change.

1

0.8

0.6

0.4

0.2

t

i

n
e
c
i
f
f

e
o
c
 
y
t
i
l
i

b
a

t
s
 
k
n
a
R

0

 
0

 

WiFi: top 10
WiFi: top 100
3G: top 10
3G: top 100

 

 

5000

4000

3000

2000

1000

i

s
w
e
v
 
f
o
 
#

Rank: 1st
Rank: 10th
Rank: 50th

 

0
day 1 2

3

4

5

6

8

7
9
Time (days)

10

11

12

13

14

(a) WiFi

1000

800

600

400

200

i

s
w
e
v
 
f
o
 
#

Rank: 1st
Rank: 10th
Rank: 50th

 

0
day 1 2

3

4

5

6

8

7
9
Time (days)

10

11

12

13

14

(b) 3G

6

12

18

24

6

12

18

24

Time in hour

Figure 13: Popularity over time for top videos

Figure 12: Video rank stability coeﬃcient over time

Figure 12 shows the change of the coeﬃcient of the top
10 and top 100 popular videos over 2 days. Our ﬁrst ob-
servation is that the top videos for WiFi connections have
between 20% and 30% more stability than for 3G. This can
be explained by the fact that there are fewer views in each
bin for 3G and the diﬀerence in the number of views among
popular videos is smaller. Thus a small variation of views
would change the rank ordering of videos, which in turn re-
sults in a lower rank stability. We note that the top videos
are less stable in the early morning and more stable after
noon, which is the highest workload period of the day. This
observation is consistent with the results in landline-based
VoD systems [15] and mobile IPTV systems [12]. We also
observed that the top 100 videos have similar stability as the
top 10 videos, independently of the connection type, while
in landline-based VoD systems [15], the top 100 videos are
less stable than the top 10 videos.

The cache should adaptively change the top popular videos
it stores to maximize eﬃciency. An important question at
this point and that we examine in the following is whether
it is possible to predict the near-future popularity of videos.

4.3 Video Popularity Evolution and Prediction
Focusing on the evolution of video popularity, we examine
videos by ranking them in a descending order according to
their popularity for WiFi and 3G connections. We select the
1st-ranked video (i.e. the most popular video), the 10th-
ranked video and the 50th-ranked video for both types of
connections and plot their popularity evolution trends over
time in Figure 13. We note that popular videos watched via
WiFi attract more views than via 3G, probably because of
the higher number of views in WiFi network.

Figure 13 shows that both 3G and WiFi exhibit similar
patterns in terms of video popularity evolution, including
a strong daily pattern similar to the pattern of the total
aggregated views of Figure 1. The ﬁgure shows that the
number of views of popular videos has a clear decreasing

trend after the peak day and thus that a given video rarely
belongs to the top list for a long time.

Another interesting ﬁnding is that the 10th-ranked videos
for both WiFi and 3G connections experience a sharp in-
crease in popularity immediately after their uploading, in-
dependently of when they were uploaded in the course of the
day.

The above observation motivates us to examine whether
it is possible to predict the near-future popularity of videos
using their early views records. We unfortunately couldn’t
extract the exact upload time of videos from our data. We
form an estimate of the upload time in the following way:
we consider a video as being a fresh upload if it was not
viewed in the three preceding days (i.e. from Dec. 1 to Dec.
3, 2011) and mark its upload time to be the ﬁrst time it was
viewed in our dataset. A drawback of this method is that
it would consider the least popular videos uploaded before
Dec. 1, 2011 to be freshly uploaded videos. In order to avoid
this eﬀect and since we are only interested in top popular
videos, we further ﬁlter out the videos with less than 10
views.

Table 7: Pearson correlation coeﬃcient between early views
records and the popularity of videos

Network

type

WiFi (19,312)

3G (9,403)

k hours after uploading

1h

0.542
0.049

2h

0.836
0.777

4h

0.841
0.926

8h

0.813
0.944

16h
0.888
0.961

With this method, we can estimate the upload time of
videos uploaded after Dec. 3, 2011. We ﬁrst focus on pop-
ularity prediction of videos uploaded on Dec. 4, 2011. Ta-
ble 7 shows the Pearson correlation coeﬃcient between the
number of views a video attracted within k hours after it-
s estimated upload time and the number of views of that
video in the dataset. The Pearson correlation coeﬃcient is a

193measure of the correlation (linear dependence) between two
variables X and Y deﬁned as

ρX,Y =

E[(X − μX )(Y − μY )]

σX σY

(4)

where E is the expected value operator, μX is the expected
value of X and σX is its standard deviation.

We also present the number of videos under consideration
in Table 7. For both WiFi and 3G connections, the ﬁrst
4-hour viewing volume yields an accurate estimation with
higher correlations. The early records of a longer duration
only increase the correlations marginally, especially for WiFi
connections.

Table 8: Pearson correlation coeﬃcient between the ﬁrst 4-
hour viewing volume and the popularity on diﬀerent days

Dec. 4 Dec. 5 Dec. 6 Dec. 7
0.913
0.841
0.926
0.861

0.630
0.575

0.880
0.712

WiFi
3G

We also evaluate the Pearson correlation coeﬃcient be-
tween the ﬁrst 4-hour viewing volume and the near-future
popularity for other days, including Dec. 5, Dec. 6 and
Dec 7. The results are shown in Table 8. The coeﬃcients
are moderately high for all days: ranging from 0.63 to 0.913
for WiFi connections and from 0.575 to 0.926 for 3G. These
results indicate that video popularity can be accurately pre-
dicted only with early views records.

We conjecture that such a high correlation is due to the

fact that users are expecting the regular upload of new episodes
of TV series, animation series and variety shows. To con-
ﬁrm our conjecture, we divide the videos by categories and
compute the correlation coeﬃcients between the ﬁrst 4-hour
viewing volume and the video popularity. The results are
shown in Table 9.

Table 9: Correlation coeﬃcient between the ﬁrst 4-hour
viewing volume and the popularity for diﬀerent categories
on Dec. 4

Movie

TV series
Animation

Category WiFi (19,312)
0.304(2.9%)
0.802(40.3%)
0.982(14.1%)
0.993(9.9%)
0.884(32.8%)

Variety
Others

3G (9,403)
-0.026(7.6%)
0.292(46.9%)
0.996(25.3%)
0.984(7.9%)
0.822(12.3%)

We see a very high correlation for animation and variety
videos for both types of connection, ranging from 0.982 to
0.996. While the correlation for TV series for WiFi connec-
tions is moderately high (0.802), it is very low for 3G. This
diﬀerence suggests that users using 3G connections tend to
not watch TV episodes just after their release date. The very
low correlation for movies indicates that it is challenging to
accurately predict the popularity of such content using only
the very early viewing volume.
4.4 Summary and Implications

The key observations on video popularity are summarized
below.
• Video popularity follows the Pareto principle. The top
10% of the popular videos attract more than 80% of

views for both WiFi and 3G connection types. The over-
lap rate of the top ranked videos is moderately high for
both connection types.
• The videos’ popularity constantly changes overtime. The
video rank stability for WiFi connections is between 20%
and 30% higher than in 3G.
• Top popular videos exhibit a sharp increase of views sev-
eral hours after their release. The early viewing volume
of videos and their popularity are highly correlated, es-
pecially for animation videos and variety shows.

These observations have the following implications:
• Independently of the connection type, the quality of more
than 80% of the views can be improved if the caching
policy considers only the top 10% of popular videos.
• The popularity prediction can greatly beneﬁt from the
early viewing volume of the videos and can be used by
designers to improve system performance.
• The ﬂash crowd just after the release of popular videos, e-
specially for TV episodes, animation videos, variety shows
via WiFi connections, suggests an opportunity to lever-
age P2P techniques to reduce server loads.

5. VIEW SOURCE

The PPTV mobile VoD system provides 8 sources for users
to discover videos: category page (i.e. the front page of each
category), video search in PPTV, recent views (of the client),
recommendation, favorites, top popular videos, cover (i.e.
the ﬁrst page of the client software) and next episode (of
TV series or variety shows). An in-depth understanding of
how users discover videos in WiFi and 3G networks and its
correlation with video popularity is useful for both software
developers and advertisers.

5.1 Sources of Views

50

40

30

20

10

i

s
w
e
v
 
d
e
r
a
h
s
 
f

o

 

e
g
a
t
c
r
P

 

WiFi
3G

e

g

a

 
a t e .  p

0

C

a r c

e

S

h

R

ct vie

w

s
R

o

c

e

m .

m

v

o

C

e r
o

T

p  vid

s

o

e

o rit e

pi

xt  e

e

N

v

a

F

Figure 14: Percentage of views from diﬀerent sources in
WiFi and 3G networks

Figure 14 depicts the distribution of views from each source
for WiFi and 3G connections. Category page and video
search are the two main sources of views for both types of
connections. They account for more than 60% of the views.
We see that users with WiFi connections are more likely to
use the category pages than those with 3G, while the latter
use the search engine more often. These observations also
show that users with 3G connections tend to ﬁnd the videos
of their interests directly rather than browse video pages.

194 

WiFi
3G

s
o
e
d
v
 
f

i

o

 

e
g
a

t
c
r
e
P

60

50

40

30

20

10

0

 

e

S

h

a r c
C

a t e .  p

g

a

e

R

ct. vie

w

s
R

o

c

e

m .

m

s

o

e

v

a

F

o rit e
o
T

p  vid

e r

v

o

C

xt  e

e

N

pi.

Figure 15: Percentage of videos dominated by diﬀerent view
sources

5.2 Dominant Sources for Individual Videos

We now look at the dominant sources for individual videos.
We deﬁne the source which accounts for the largest propor-
tion of views as a video’s dominant source [16]. We extract
the dominant source for each video and plot the result in
Figure 15. We observe that the category page and the video
search are the dominant view sources for 85% of the videos.
However, in contrast to Figure 14, video search is the top
source of views for individual videos. There are more in-
dividual videos dominated by search with 3G connections
than with WiFi connections, which is consistent with our
previous observation.

i

s
o
e
d
v
 
f
o
 
n
o
i
t
c
a
r
F

60

50

40

30

20

10

0

 

WiFi

 

0~10

10~100 100~1000

1000~

60

50

40

30

20

10

0

 

3G

 

Search
Cate. P.
Others

0~10

10~100 100~1000

1000~

Figure 16: Percentage of videos for dominant sources with
diﬀerent views

Focusing on the view source of popular videos, we bin
videos by their popularity and examine the dominant sources.
Figure 16 shows the distribution of dominant sources for
each bin for WiFi and 3G connections. All the other sources,
except search and category page, are grouped as ”Others”.
With both types of connections, while video search is the
dominant source for low-popularity videos, category pages
are favored to access highly popular videos. Video searches
represent less than 10% (resp. 20%) of the sources for the
highly popular videos with 3G (resp. WiFi) connections.
This observation suggests that videos are more likely to be-
come popular if they are pushed to the category pages. It is
also interesting to note that with 3G connections, half of the
highly popular videos are not dominated by category pages
as with WiFi connections but rather by a collection of other
sources. Users with 3G connections would seem to carefully
choose videos, before viewing from various sources.
5.3 The Impact of Search

We have found that video searches are the dominant source
of viewing for individual videos, especially for low-popularity

videos. Intuitively, one might consider that video search en-
ables users to quickly ﬁnd various videos matching their in-
terests, which would result in an increase of the diversity
of views. In order to verify this intuition, we use the Gini
coeﬃcient to measure statistical dispersion and examine the
distributional inequality [16].

Sorting the videos in an ascending order according to their

popularity, the Gini coeﬃcient is deﬁned as:

G = 1 − n(cid:2)

(Xk − Xk−1)(Yk + Yk−1)

(5)

k=1

where n is the number of videos, Xk is the fraction of the
ﬁrst k videos, and Yk is the fraction of the views attracted
by the ﬁrst k videos. A Gini coeﬃcient of “0” indicates
a perfect equality where views are uniformly shared by all
videos, while “1” indicates a maximum inequality, e.g. one
video alone attracts the entire views.

Table 10: Gini Coeﬃcient with/without video search

Network type w/ search w/o search

Wiﬁ
3G

0.918
0.884

0.941
0.930

In order to evaluate the impact of video search, we com-
pute the Gini coeﬃcient under two scenarios: when video
search is present (i.e. the actual dataset) and when video
search is removed. In order to evaluate the second scenari-
o, we updated the popularity of each video by excluding
the views from video search. The Gini coeﬃcients with and
without video search with WiFi and 3G connections are list-
ed in Table 10.

The coeﬃcients are above 0.88 for both types of connec-
tions, implying a dispersed distribution of video views. The
3G connections have a lower coeﬃcient than the WiFi con-
nections, indicating a lower dispersion. By removing the
views from video search the coeﬃcient increases by 0.023
for WiFi and 0.046 for 3G. This indicates that video search
increases the diversity of viewing and that the video search
plays a more important role with 3G than with WiFi con-
nections.

5.4 Summary and Implications

Our two main ﬁndings of view source analysis can be sum-
marized as follows.
• While category page is the primary source of views over-
all, video search is the dominant source of viewing for
most of individual videos, especially for low-popularity
videos. Users with 3G connections tend to use video
search to discover videos more often than those with
WiFi connections.
• Videos that are present on category pages are more like-
ly to become popular, while video search increases the
diversity of views.

Our ﬁndings oﬀer insights on how video content is discov-
ered in a large video repository. They emphasize the impor-
tance of diﬀerent content discovery and give indications to
content providers and advertisers on video promotions. The
diﬀerences between WiFi and 3G connections should also be
taken into account.

1956. APPLICATION: DESIGN OF AN EFFI-

CIENT CACHING SYSTEM

An eﬃcient caching system typically stores replicas of
videos as close as possible to end users, in order to improve
user experience and alleviate server load.
In the preced-
ing sections we observed that caching the top 10% popular
videos and the ﬁrst few chunks of the videos could be part of
a caching strategy to optimize the overall performance. In
this section, we aim to evaluate such a performance gain us-
ing trace-driven simulations and comparing diﬀerent caching
strategies. We ﬁrst assume a global virtual cache, where re-
quests are ﬁrst sent to the cache. Since we are primarily
interested in the performance improvement potentially ob-
tained by leveraging our ﬁndings, we do not assume any par-
ticular distribution for the locations of content cache servers.
We assume that a video can be cached at chunks level and
that it is divided in a set of 1-minute chunks. We consider
the following 3 caching strategies:

1. Full caching: Each day the cache is refreshed with the
top 10% popular videos as observed the day before.
All the chunks of the selected videos are stored in the
cache.

2. Partial caching: Each day the cache is refreshed with
the top 10% popular videos as observed the day before.
However as suggested by our ﬁndings, we only cache
the ﬁrst few chunks of each video. The fraction of
cached chunks of each video is computed as a function
of the normalized viewing time (NVT), as depicted on
Figure 3. Speciﬁcally, considering the video lengths
(in minutes), we estimate the expected video’s viewing
time with the average NVT. The number of chunks
for each video to be cached corresponds then to the
fraction of chunks covering the expected viewing time.

3. Full caching with limited size: In this strategy we fur-
ther take into account the constraint of limited cache
size. The daily cache size is set to the size used in
the partial caching strategy of the same day. But all
chunks of the selected videos are stored in the cache,
which is populated with the top popular videos until
it has reached it maximal capacity. Due to the limited
cache size, less than 10% of the top popular videos will
be stored.

For a viewing request i, let hi denote the number of chunks’
hits and let ri denote the number of requested chunks, then
the cache hit rate of the view i is deﬁned as Ci = hi
ri . We
perform the simulations by replaying the requests of 13 days,
from Dec. 2 to Dec. 14. Table 11 shows the average cache
hit ratio over all viewing requests. Note that the cache size
is deﬁned as the number of stored chunks in the cache. The
table also shows the average value of each day’s cache size.

Table 11: Cache performance

Cache scheme

avg. cache size

avg. hit rate

Full

Partial

Full+limited

658,630
133,019
133,019

75.3%
63.3%
52.6%

10% previously observed popular videos. Compared to the
full caching strategy, the partial caching oﬀers a reduction of
80% in cache size, at the expense of a reduction of only 12%
of the hit rate. Our results also suggest that the variant of
the full caching with limited size yields a lower hit rate when
compared to the partial caching. This preliminary analysis
indicates that the partial caching strategy provides a better
tradeoﬀ between cache size and hit rate.

7. RELATED WORK

User behavior and video consumption patterns in Inter-
net video systems have been examined in the context of VoD
[15][14] [5], IPTV [7][3], P2P VoD [10] and live streaming [9],
including YouTube[2]. By measuring a VoD system, Yu et
al. [15] made several observations on user arrival rate, video
popularity and the impact of recommendation. Yin et al.
[14] analyzed a live VoD system from the 2008 Olympic-
s, focusing on how the dynamic nature of the system im-
pacted user behavior. Dobrian et al. [5] examined the im-
pact of video quality on user engagement and found that the
buﬀering ratio is the most important factor. Guo et al. [8]
modelized the video access patterns of several Internet video
systems with stretched exponential distributions.

Another major type of video services is IPTV. Cha et al.
[3] measured an IPTV system and analyzed the character-
istics of viewing sessions and the patterns of channel popu-
larity. Gopalakrishnan et al. [7] and Qiu et al. [13] modeled
interactive usage and user activity in IPTV systems.

Measurement studies [10][9] on P2P-based VoD and live
streaming systems emphasized the aspects of peer stabili-
ty, chunk availability and scheduling mechanisms. We have
discussed the possibility of using P2P techniques on mobile
VoD systems in this paper. As a UGC (user-generated con-
tent) video system, YouTube constitutes a huge repository
of short videos in the context of VoD streaming. Cha et
al. [2] characterized the video popularity in YouTube. They
identiﬁed several popularity distributions and gave sugges-
tions on the design of caching and P2P content distribution.
Watching videos with mobile devices becomes more and
more popular. Li et al.
[12] analyzed traﬃc patterns and
user behavior for a mobile TV system. They showed that
the wireless connectivity allowed smooth video viewing with
mobile devices and modeled the sojourn time in channels
with two piecewise distributions. Finamore et al. [6] com-
pared YouTube traﬃc generated by mobile devices with traf-
ﬁc generated by PCs. Their key observation is that aggres-
sive buﬀering policies cause a considerable waste of band-
width for mobile devices.
In this paper, we observed the
short viewing times and suggested adaptive caching policies
which could be also leveraged in YouTube.

As opposed to previous research, to the best of our knowl-
edge, our paper is among ﬁrst to systematically analyze the
user viewing behavior and the corresponding video consump-
tion patterns for mobile VoD systems. We examined the im-
pact of the connection type and the type of mobile device on
viewing behavior, video popularity and viewing sources. We
also compared our ﬁndings with landline-based VoD systems
and mobile TV systems where applicable.

8. CONCLUSION

We observe a high average hit rate for the full caching
strategy, showing the eﬀectiveness of only caching the top

Understanding user behavior patterns in mobile video sys-
tems is of prime importance for content providers, system

196designers and researchers. In this paper, using a unique data
from a mobile VoD system, we systematically analyzed user-
s’ behavior and the corresponding video popularity patterns,
emphasizing the impact of the connection type (3G or WiFi)
and the type of mobile device used (tablet or smart phone).
We have made several key observations and discussed their
implications on caching and buﬀering policies and the de-
sign of systems, software and on-line advertising. We ob-
served short viewing times (especially via 3G), a stretched
exponential distribution for user activity, a concentration of
individual users’ interests and that the video popularity con-
formed to the Pareto principle. We also highlighted several
surprising ﬁndings: 3G users request more movies than oth-
er categories of videos; users requesting videos via both 3G
and WiFi view a signiﬁcantly higher number of videos; the
early viewing volume of a video is a good predictor of popu-
larity for animation and variety shows. These observations
constitute useful insights for system designers, CDNs and
developers alike.

Substantial study remains to address issues such as the im-
pact of the type of client application (e.g. wired clients, web
browsers and mobile clients) on video consumption patterns;
the reasons underlying the diﬀerences in user behavior de-
pending on whether they connect using WiFi or 3G; how to
design better content delivery (e.g. P2P delivery) in mobile
VoD systems as well as designing eﬀective caching strategies
in content delivery networks. Identifying the main discrep-
ancies that might exist between the wired and wireless-based
accesses to VoD content would also be worth investigating.
In future work, we will study these potentially fundamental
diﬀerences, exploiting both mobile and Internet-based VoD
datasets.

Acknowledgement
The authors would like to thank PPLive for providing the
dataset and Yi Sun from ICT-CAS for the useful discus-
sions. We are also grateful to our shepherd Ming Zhang
and anonymous reviewers for their feedback. This work was
supported in part by National Basic Research Program of
China with Grant 2012CB315801, by National Natural Sci-
ence Foundation of China (NSFC) with Grants 61133015
and 60903207, by Strategic Priority Research Program of
the Chinese Academy of Sciences with Grant XDA06010303.
The work was also supported by the NSFC-ANR (France)
pFlower project and EC EINS project.

9. REFERENCES
[1] Cisco visual networking index: Global mobile data
traﬃc forecast update, 2011-2016. Technical report,
Cisco, 2012.

[2] M. Cha, H. Kwak, P. Rodriguez, Y.-Y. Ahn, and

S. Moon. I tube, you tube, everybody tubes:
analyzing the world’s largest user generated content
video system. In Proceedings of IMC ’07, 2007.

[3] M. Cha, P. Rodriguez, J. Crowcroft, S. Moon, and

X. Amatriain. Watching television over an ip network.
In Proceedings of IMC ’08, 2008.

[4] Y. Ding, Y. Du, Y. Hu, Z. Liu, L. Wang, K. Ross, and
A. Ghose. Broadcast yourself: understanding youtube
uploaders. In IMC ’11, 2011.

[5] F. Dobrian, V. Sekar, A. Awan, I. Stoica, D. Joseph,

A. Ganjam, J. Zhan, and H. Zhang. Understanding
the impact of video quality on user engagement. In
Proceedings of the ACM SIGCOMM, 2011.

[6] A. Finamore, M. Mellia, M. M. Munaf`o, R. Torres,

and S. G. Rao. Youtube everywhere: impact of device
and infrastructure synergies on user experience. In
Proceedings of IMC’11, 2011.

[7] V. Gopalakrishnan, R. Jana, K. K. Ramakrishnan,

D. F. Swayne, and V. A. Vaishampayan.
Understanding couch potatoes: measurement and
modeling of interactive usage of iptv at large scale. In
Proceedings of IMC ’11, 2011.

[8] L. Guo, E. Tan, S. Chen, Z. Xiao, and X. Zhang. The

stretched exponential distribution of internet media
access patterns. In Proceedings of PODC ’08, 2008.
[9] X. Hei, C. Liang, J. Liang, Y. Liu, and K. Ross. A

measurement study of a large-scale p2p iptv system.
IEEE Transactions on Multimedia, 9(8):1672 –1687,
dec. 2007.

[10] Y. Huang, T. Z. Fu, D.-M. Chiu, J. C. Lui, and
C. Huang. Challenges, design and analysis of a
large-scale p2p-vod system. In Proceedings of
SIGCOMM ’08, 2008.

[11] J. Laherrere and D. Sornette. Stretched exponential
distributions in nature and economy: “fat tails” with
characteristic scales. The European Physical Journal
B, 2:525–539, January 1998.

[12] Y. Li, Y. Zhang, and R. Yuan. Measurement and

analysis of a large scale commercial mobile internet tv
system. In Proceedings of IMC ’11, 2011.

[13] T. Qiu, Z. Ge, S. Lee, J. Wang, J. Xu, and Q. Zhao.

Modeling user activities in a large iptv system. In
Proceedings of IMC’09, 2009.

[14] H. Yin, X. Liu, F. Qiu, N. Xia, C. Lin, H. Zhang,

V. Sekar, and G. Min. Inside the bird’s nest:
measurements of large-scale live vod from the 2008
olympics. In Proceedings of the ACM IMC ’09, 2009.

[15] H. Yu, D. Zheng, B. Y. Zhao, and W. Zheng.

Understanding user behavior in large-scale
video-on-demand systems. In Proceedings of EuroSys
’06, 2006.

[16] R. Zhou, S. Khemmarat, and L. Gao. The impact of
youtube recommendation system on video views. In
Proceedings of IMC ’10, 2010.

197