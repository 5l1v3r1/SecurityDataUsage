Understanding Mobile Trafﬁc Patterns of Large Scale

Cellular Towers in Urban Environment

Huandong Wang1, Fengli Xu1, Yong Li1, Pengyu Zhang2, Depeng Jin1

1Tsinghua National Laboratory for Information Science and Technology

Department of Electronic Engineering, Tsinghua University, Beijing 100084, China

{liyong07, jindp}@tsinghua.edu.cn, pyzhang@cs.umass.edu

2University of Massachusetts Amherst

ABSTRACT
Understanding mobile traﬃc patterns of large scale cellular
towers in urban environment is extremely valuable for In-
ternet service providers, mobile users, and government man-
agers of modern metropolis. This paper aims at extracting
and modeling the traﬃc patterns of large scale towers de-
ployed in a metropolitan city. To achieve this goal, we need
to address several challenges, including lack of appropriate
tools for processing large scale traﬃc measurement data,
unknown traﬃc patterns, as well as handling complicated
factors of urban ecology and human behaviors that aﬀect
traﬃc patterns. Our core contribution is a powerful model
which combines three dimensional information (time, loca-
tions of towers, and traﬃc frequency spectrum) to extract
and model the traﬃc patterns of thousands of cellular tow-
ers. Our empirical analysis reveals the following important
observations. First, only ﬁve basic time-domain traﬃc pat-
terns exist among the 9,600 cellular towers. Second, each of
the extracted traﬃc pattern maps to one type of geograph-
ical locations related to urban ecology, including residential
area, business district, transport, entertainment, and com-
prehensive area. Third, our frequency-domain traﬃc spec-
trum analysis suggests that the traﬃc of any tower among
the 9,600 can be constructed using a linear combination of
four primary components corresponding to human activi-
ty behaviors. We believe that the proposed traﬃc patterns
extraction and modeling methodology, combined with the
empirical analysis on the mobile traﬃc, pave the way to-
ward a deep understanding of the traﬃc patterns of large
scale cellular towers in modern metropolis.

Categories and Subject Descriptors
C.2.0 [Computer Communication Networks]: General–
Data communications; C.4 [Performance of Systems]:
Modeling techniques

Permission to make digital or hard copies of all or part of this work for per-
sonal or classroom use is granted without fee provided that copies are not
made or distributed for proﬁt or commercial advantage and that copies bear
this notice and the full citation on the ﬁrst page. Copyrights for components
of this work owned by others than the author(s) must be honored. Abstract-
ing with credit is permitted. To copy otherwise, or republish, to post on
servers or to redistribute to lists, requires prior speciﬁc permission and/or a
fee. Request permissions from Permissions@acm.org.
IMC’15, October 28–30, 2015, Tokyo, Japan.
Copyright is held by the owner/author(s). Publication rights licensed to
ACM.
ACM 978-1-4503-3848-6/15/10 ...$15.00
DOI: http://dx.doi.org/10.1145/2815675.2815680

General Terms
Measurement, Traﬃc

Keywords
Mobile data traﬃc; Measurement study; Traﬃc patterns;
Geographical location

1.

INTRODUCTION

The past few years have seen a dramatic growth in cellu-
lar network traﬃc, contributed by billions of mobile devices
as the ﬁrst-class citizens of the Internet. The global cellular
network traﬃc from mobile devices is expected to surpass
24 exabytes (1018) per month by 2019 [1], 9× larger than
the traﬃc served by existing cellular network. While we
are embracing a world with ambient cellular connectivity,
however, we are facing a critical and challenging problem —
we have limited understanding about the patterns of traf-
ﬁc experienced by cellular towers deployed in urban areas,
especially when 3G and LTE networks are widely available
in current modern metropolis[1, 2, 5]. We do not complete-
ly understand how urban functional regions and ecologies,
such as business district, aﬀect the mobile traﬃc of cellular
towers[2]. In addition, the dominant factors that aﬀect their
traﬃc variations are still unknown. Such limited knowledge
signiﬁcantly increases the cost of operating thousands of cel-
lular towers in big cities.

Despite of the aforementioned lack of knowledge, under-
standing the traﬃc patterns of cellular towers in the large
scale urban environment is extremely valuable for Internet
service providers (ISP), mobile users, and government man-
agers of modern cites[6, 16, 21]. If we can identify and model
the patterns of cellular towers, instead of using the same s-
trategy to provide services, such as using the same load bal-
ancing and data pricing algorithms on each tower, an ISP
can exploit the modeled traﬃc patterns and customize the s-
trategies for individual cellular towers. For example, an ISP
can potentially have diﬀerent pricing on individual cellular
tower based on the traﬃc it experiences. In addition, mobile
users will beneﬁt from the traﬃc modeling as well because
they can choose towers with predicted lower traﬃc and en-
joy better services. Surprisingly, management departments
of government will beneﬁt from the traﬃc modeling as well
because they may infer the land usage and human economy
activities by looking at the patterns of cellular traﬃc[14].

On the other hand, understanding the traﬃc patterns of
cellular towers is challenging for three reasons. First, the
traﬃc experienced by thousands of cellular towers deployed

225in large scale modern cities is complicated and hard to ana-
lyze. For example, our dataset includes 9,600 cellular towers
and 150,000 subscribers, where lots of redundant and con-
ﬂict logs are observed. To identify traﬃc patterns embedded
in the thousands of towers, we need to design a system that
is able to clean and handle the data of large scale cellular
traﬃc. Second, we do not have the priori about the existence
of patterns that can be used for representing the behavior
of thousands of cellular towers. To make matters worse,
even if such patterns exist, we do not know their proﬁles.
Without these proﬁles, it is challenging to group thousands
of cellular towers into a small number of patterns. Third,
the traﬃc of a cellular tower is aﬀected by many factors,
such as time and locations, etc. These factors, sometimes,
compound with each other and further complicate our anal-
ysis. For example, signiﬁcant traﬃc variation is observed
at both ﬁne-grained (hours) and coarse-grained (days) time
scale, and across towers deployed in diﬀerent locations[25,
16]. By addressing these challenges, in this paper, we inves-
tigate how to extract and model the mobile traﬃc patterns
of thousands of cellular towers in a large scale urban envi-
ronment via credible dataset collected by one of the largest
commercial mobile operators.

Our core contribution is a powerful model which combines
three dimensional information, including time, locations of
towers, and traﬃc frequency spectrum, for extracting and
modeling the traﬃc patterns of thousands of cellular tow-
ers. A breakdown of the core contribution comprises three
parts. First, we design a system which leverages machine
learning to identify and extract ﬁve patterns from the traf-
ﬁc of thousands of cellular towers. Our system is built with
processing large scale data in mind and is able to process the
traﬃc of thousands of towers with granularity of 10 minutes.
Second, we identify the geographical context of traﬃc expe-
rienced by cellular towers by investigating the correlation
between time-domain traﬃc characteristics and geographi-
cal locations of towers. Therefore, by looking at the traﬃc
pattern of a tower, we can infer the type of location where
it is deployed and the type of users it serves. Third, our
frequency-domain traﬃc spectrum analysis reveals that any
traﬃc of the 9,600 cellular towers can be constructed us-
ing a linear combination of four primary components cor-
responding to human activity behaviors. This observation
provides an unique angle (frequency) for analyzing cellular
traﬃc and signiﬁcantly simpliﬁes the process of analysis by
a linear model.

Through investigating the traﬃc of 9,600 cellular towers,
we ﬁnd following interesting observations. First, the 9,600
cellular towers can be classiﬁed into ﬁve groups using fea-
tures extracted from time-domain traﬃc. This experimental
result conﬁrms our motivation that a small number of pat-
terns do exist among thousands of cellular towers. Second,
each of the traﬃc pattern maps to one type of geographi-
cal locations, including resident, oﬃce, transport, entertain-
ment, and comprehensive area. Therefore, the traﬃc pat-
tern of a cellular tower does suggest the urban ecology and
geographical location context where it is deployed as well
as the type of users it serves. Third, our frequency-domain
analysis reveals that the transition between the ﬁve traﬃc
patterns encodes the mobility of human. For example, when
the phase of residential pattern moves toward the phase of
transport pattern, people start their commute from home to
work. In summary, we believe that the proposed traﬃc pat-

terns extraction and modeling, combined with the empirical
study on large scale cellular towers, pave the way toward
a deep understanding of the traﬃc patterns of large scale
cellular towers.

This paper is structured as follows. In Section 2, we pro-
vide details about the utilized dataset, and present some ba-
sic observations of traﬃc spatio-temporal distributions. In
Section 3, we design our traﬃc processing system and iden-
tify the key traﬃc patterns of the large scale cellular towers.
Based on the discovered ﬁve traﬃc patterns, in Section 4 and
5, we conduct a deep analysis and reveal the correlation a-
mong data traﬃc, urban ecology and human behaviors in the
time and frequency domain respectively. After discussing re-
lated work in Section 6, we summarize our discoveries and
discuss potential investigations in Section 7.

2. DATASET AND VISUALIZATION

In this section, we provide details about the dataset we
investigate as well as the needed preprocessing. In addition,
we visualize the spatial-temporal distribution of cellular traf-
ﬁc.

2.1 Dataset Description

The dataset is an anonymized cellular trace collected by
an ISP from Shanghai, a big city in China, between Aug
1st and Aug 31st 2014. Each entry of the trace contains de-
tailed mobile data usage of 150,000 users, including the ID
of devices (anonymized), start-end time of data connection,
base station ID, address of base station, and the amount of
3G or LTE data used in each connection. The trace logs
1.96 billion tuples of the described information, contribut-
ed by approximately 9,600 base stations all over Shanghai.
The trace contains 2.4 petabytes (1015) logs, 77 terabytes
(1012) per day and 8 gigabytes (109) per base station on av-
erage. This large scale and ﬁne-grained dataset guarantees
the credibility of our traﬃc pattern analysis and modeling.

2.2 Preprocessing

The trace collected by the ISP needs to be preprocessed
because of the existence of redundant and conﬂict traﬃc
logs as well as the incomplete information of base stations’
locations. The preprocessing includes three steps. First, we
eliminate the redundant and conﬂict logs, such as the iden-
tical traﬃc logs, introduced by technical issues. Second, to
solve the problem of incomplete information, we convert the
addresses of base stations to their geographical longitudes
and latitudes through APIs provided by Baidu Map, the
most popular online map service provider in China. This
conversion gives us the precise geographical location of a
base station, which is important for analyzing the ground
truth of urban functional regions. The last step of prepro-
cessing is computing the traﬃc density (byte/km2) across
the city. The obtained traﬃc density allows us to under-
stand the spatial distribution of cellular traﬃc.

2.3 Data Visualization

Before diving into a deep analysis of mobile data traﬃc,
we ﬁrst visualize the spatial-temporal traﬃc distribution of
the 9,600 base stations, where we ﬁnd two interesting obser-
vations.

First, the data embeds fundamental temporal patterns of
mobile data traﬃc. Figure 1 shows the aggregated traf-
ﬁc of the 9,600 towers at diﬀerent time scales. Figure 1(a)

226i

)
s
e
t
u
n
m
 
0
1
 
r
e
p
 
s
e
t
y
b
(
 
c
i
f
f
a
r
T

i

)
s
e
t
u
n
m
 
0
1
 
r
e
p
 
s
e
t
y
b
(
 
c
i
f
f
a
r
T

)
y
a
d
 
r
e
p
 
s
e
t
y
b
(
 
c
i
f
f
a
r
T

Time (hour)
(a) Hourly

Time (day)
(b) Daily

Time (week)
(c) Weekly

Figure 1: The temporal distribution of cellular traﬃc at diﬀerent time scales.

shows the traﬃc distribution of a day (Aug 7th 2014, Thurs-
day) where we observe that the aggregated network traﬃc
is tightly coupled with the sleep pattern of humans. High
cellular traﬃc is observed during the day and low traﬃc is
experienced during midnight. There are two traﬃc peaks in
each day: one around 12PM and the other around 10PM.
Similar patterns are observed in Figure 1(b). The timing of
the two peaks suggests that most people tend to consume
data traﬃc heavily after lunch and before sleep. Figure 1(b)
shows the traﬃc distribution of a week (from Aug 4 to Aug
10 2014) and Figure 1(c) shows the traﬃc distribution of
a month (from Aug 3 to Aug 31 2014). Both ﬁgures show
that the traﬃc exhibits a periodical pattern on the scale of
a week, where weekend’s traﬃc is less than weekday’s traf-
ﬁc. Such traﬃc variation comes from people’s weekly work
schedule.

On the other hand, our trace also records the spatial distri-
bution of mobile data traﬃc. Surprisingly, we ﬁnd that the
spatial and temporal characteristics of traﬃc are correlated.
Figure 2 shows the geographical traﬃc density (bytes trans-
mitted per hour per km2) at 4AM, 10AM, 4PM and 10PM.
As shown in the color bar, the red one indicates higher traﬃc
and the blue one stands for lower traﬃc. We ﬁnd the fol-
lowing observations. First, towers deployed at the center of
the city experience high traﬃc despite of the time of a day.
Second, at 4AM, most areas of the city are covered by dark
color, which suggests that traﬃc demand is small because of
human sleep. In contrast, at 10AM, most areas of the city
are covered by light color, suggesting that traﬃc demand
becomes high because people start working. Therefore, the
areas of peak traﬃc map to areas occupied by human, such
as residential housing or central business district (CBD).

3.

IDENTIFYING TRAFFIC PATTERNS OF
CELLULAR TOWERS

Now, we investigate the data traﬃc of the thousands of
3G/LTE cellular towers and design a system that is able
to identify key traﬃc patterns of large scale cellular towers.
We start from understanding the traﬃc patterns of a few
cellular towers to motivate our study.

3.1 Motivation and Problem Statement

Our cellular network traﬃc measurement and analysis are
motivated by a key observation — the traﬃc pattern of one
cellular tower is vastly diﬀerent from another. Through on-
line map service, we randomly select four towers from the
positions of residential areas and four towers from business

(a) 4AM

(b) 10AM

(c) 4PM

(d) 10PM

Figure 2: The spatial distribution of cellular traﬃc
at diﬀerent time.

districts, and plot their normalized traﬃc proﬁle in the left
and right column of Figure 3, respectively. We can clearly
observe the diﬀerence of traﬃc between these two types of
cellular towers, where the traﬃc proﬁles of residential tow-
ers have two peaks within a day and remain high across
night, while the traﬃc proﬁles of towers in business distric-
t experience only one peak within a day and get close to
zero across night. This comparison clearly reveals the dif-
ference of traﬃc patterns between the two speciﬁc types of
cellular towers. However, from the perspective of an ISP,
which manages thousands of cellular towers, is the traﬃc
pattern of one cellular tower vastly diﬀerent from another?
To understand this problem, we conduct a large scale mea-
surement and investigate the recorded 9600 cellular towers
in our dataset of Shanghai.

Figure 4 shows the normalized traﬃc variations within
one day with 40 randomly selected cellular towers for each
0.01 degree latitudes or longitudes respectively. The x-axis
shows the time in hours and y-axis shows the logical po-
sitions of the selected cellular towers in terms of latitude
(a) or longitude (b). For example, the ﬁrst row of pixels
in Figure 4(a) represent the traﬃc variations of one cellular
towers, of which the latitude is around 121.60 and the longi-
tude is randomly selected. Traﬃc measured on each cellular

227e

l
i
f
o
r
P
 
c
i
f
f
a
r
T
 
d
e
z

i
l

a
m
r
o
N

Time (h)

Figure 3: Cellular traﬃc experienced by base sta-
tions deployed in the residential area and business
district.

tower is normalized by its maximum, and the color presents
the normalized value where red color indicates higher traﬃc
and blue color stands for lower traﬃc as shown in the col-
or bar.
In these measurements, we ﬁnd two observations.
First, the peak hour of one cellular tower, which is marked
as red, is vastly diﬀerent from another during the day time
when serving mobile users. In fact, the variance of the peak
among the selected towers is about 10 hours. Second, while
most of towers experience low traﬃc in early morning, the
ﬁrst several towers in Figure 4(a), of which the latitude is
around 121.60, also have low traﬃc during evening. There-
fore, signiﬁcant diﬀerences of data traﬃc are observed across
cellular towers. Such diﬀerences cause troubles for an ISP
to manage its cellular network. For example, because of the
unique pattern of individual traﬃc, an ISP cannot obtain
the optimal performance by using the same load balancing
strategy, which is built on top of traﬃc patterns, on diﬀer-
ent towers. Therefore, a natural question to ask is that is it
possible to model the traﬃc pattern of thousands of cellular
towers? More speciﬁcally, can we utilize a few simple pat-
terns to present the traﬃc of thousands of cellular towers?
Identifying these patterns of cellular towers would give an
ISP signiﬁcant beneﬁts on network management, including
load balancing, pricing, etc.

Our investigation suggests that at least two, maybe more,
traﬃc patterns exist among thousands of cellular towers.
Figure 5 shows the normalized traﬃc proﬁle of 40 selected
cellular towers deployed in residential area and in business
district for each 0.01 degree latitudes. Compared with the
disorder in both temporal and spatial dimension exhibited
in Figure 4, traﬃc variations for cellular towers in a single
kind of regions are more regular and similar to each other.
In addition, we ﬁnd other two observations in this investi-
gation. First, in terms of the traﬃc of residential area, all
residential towers experience similar traﬃc patterns where
the peak traﬃc is present around 9PM. In addition, only a
small amount of traﬃc is observed between 8AM and 4PM
because most users leave home for work. Similar conclu-
sion can be drawn for towers deployed in business district.
Second, the traﬃc pattern of residential towers is diﬀerent
from towers deployed in business district where peak hour

(a) Latitudes

(b) Longitudes

Figure 4: Cellular traﬃc experienced by base sta-
tion randomly selected from diﬀerent latitudes and
longitudes. Large traﬃc variations are observed.

(a) Residential Area base s-
tations

(b) Business District base sta-
tions

Figure 5: Cellular traﬃc experienced by base sta-
tions selected from residential and business district.

appears around 1PM. Inspired by these two observations,
we conclude that traﬃc patterns do exist among thousands
of cellular towers. One key question addressed by this pa-
per is ﬁnding out how many traﬃc patterns exist among
thousands of cellular towers and how to identify them.

3.2 Identifying Trafﬁc Patterns of Cell-towers
Investigating traﬃc patterns among thousands of cellular
towers is extremely challenging for three reasons. First, we
have little prior knowledge about the data traﬃc, and do not
know which cell towers may share the same traﬃc pattern
and how the pattern may look like. Second, the measured
cellular traﬃc data is huge in terms of tracing 9,600 cellular
towers for a month. To make matters worse, the measured
data is not clean in terms of unstructured logs. Last but
not least, the measured cellular traﬃc data is noisy where
large variation of traﬃc is observed because the absolute
traﬃc depends on the number of mobile users served. All
these factors make the analysis of cellular traﬃc patterns ex-
tremely challenging. To tackle these challenges, we design,
implement, and evaluate a system which is able to identify
the key traﬃc patterns of such large scale cellular tower-
s. Our system is composed by three key elements: traﬃc
vectorizer, pattern identiﬁer and metric tuner.
Traﬃc vectorizer: We implement a traﬃc vectorizer on
Hadoop platform to convert the large scale unstructured
traﬃc logs into traﬃc usage vectors. The key of designing
the traﬃc vectorizer is a parallel transformer, which takes
the time-domain traﬃc logs of thousands of cellular tow-
ers as its input and converts each cell tower’s logs into a
time-domain traﬃc vector. The vector is constructed in t-
wo phases — aggregation and normalization.
In the ﬁrst
phase, each cellular tower’s traﬃc logs are segmented into
thousands of chunks, with each chunk contains 10-minutes

228traﬃc logs. Then we aggregate the traﬃc logs in each chunk
and generate a traﬃc usage vector.
In the second phase,
we perform zero-score normalization on each vector to elim-
inate their diﬀerences in amplitude, in order to ﬁnd out the
similar traﬃc patterns without the interference of diﬀerent
amplitude. We deﬁne the traﬃc vector of cellular tower j as
Xj = (xj[1], ..., xj[N ])T , with xj[i] stands for the normalized
traﬃc amount in the ith 10-minute time slot. We remove 3
days from the month to make the duration consist of four
entire weeks. Thus, N is number of 28 days’ 10-minutes
segmentation, i.e., 4032 in our analysis.
Pattern identiﬁer: Pattern identiﬁer takes the vector-
ized data from the vectorizer and runs an unsupervised ma-
chine learning algorithm for identifying the key patterns of
cellular tower traﬃc. The pattern identiﬁer addresses one
key challenge of the mining process — unknown patterns,
by exploiting hierarchical clustering[4]. The basic idea of
hierarchical clustering is iteratively merging the nearest t-
wo clusters. It ﬁrst considers each input point as a cluster
and then bottom-up iteratively merges the nearest two clus-
ters until the stop condition is met. In the clustering, we
use the euclidean distance as the distance metric and deﬁne
the distance between clusters as average-linkage distance. In
addition, we set a threshold value as stop condition, which
stops the clustering when the distance between two clusters
is above the threshold value.
Metric tuner: As the number of traﬃc patterns is un-
known, a key question is when the identiﬁer should stop its
clustering. In our system, we use Davies-Bouldin index [18]
to explicitly inform the identiﬁer that the optimum number
of patterns have been identiﬁed. Davies-Bouldin index is
utilized because it measures both the separation of clusters
and cohesion within clusters, which mathematically guaran-
tees good clustering result. The mathematic formulation of
Davies-Bouldin index is as follows,

minimize

1
R

R

max

j=1,j6=i

Si + Sj

Mi,j

,

subject to Mi,j = ||Ai − Aj||2,

R

Xi=1

Si =

1
Ti

Ti

Xk=1

||Xk − Ai||2,

where the objective function is the Davies-Bouldin index, Xi
is the vectorized data of cellular tower i, Ai is the centroid
of each cluster, R is the number of clusters and Ti is the
numbers of towers within the ith cluster. We minimize the
Davies-Bouldin index by considering two factors — the dis-
tance between clusters Mi,j and Si, which are the average
distance from points to their cluster’s centroid. When the
minimum Davies-Bouldin index is obtained, the optimum
number of patterns is identiﬁed. The variation of DBI is
shown in Figure 6(a), according to which we set the stop
condition—threshold value at 16.33 to achieve optimal clus-
tering result.

Figure 6 shows the ﬁve time-domain patterns identiﬁed
by our system from the 9,600 cellular towers((c) to (g)) and
each cluster’s CDF of points’ distance to its centroid(b). The
ﬁve clusters diﬀer in terms of the time where peak traﬃc
appears as well as the amount of traﬃc experienced during
weekday and weekends. Figure 6(b) shows that the distance
CDF curves of clusters are similar and all of them increase
rapidly as distance increases. 80% of points’ distance to

1

0.8

F
D
C

0.6

0.4

0.2

 

0
4

 

#1
#2
#3
#4
#5

6

12
Euclidean Distance of Each Cluster

10

8

(a) DBI variation

(b) CDF of distance

(c) #1:Resident area

(d) #2:Transport area

(e) #3:Oﬃce area

(f) #4:Entertainment area

(g) #5:Comprehensive area

Figure 6: Patterns of the ﬁve identiﬁed clusters and
CDF of clustering distance.

their clusters’ centroid are less than 10, which implicates the
clustering result is good. The percentage of each cluster’s
cell towers is shown in Table 1, which indicates the third
cluster has most cell towers and second cluster the least.

In conclusion, we implement a system that is able to i-
dentify the key traﬃc patterns among thousands of cellular
towers in this subsection. Since the ﬁve clusters are given
by the hierarchical classiﬁer, an interesting question to ask
is what are the geographical locations where these ﬁve types
of towers are deployed?

3.3 Geographical Context of Trafﬁc Patterns
To understand the geographical locations of cell towers
of the ﬁve clusters, we ﬁrst manually label typical towers
in the ﬁve patterns with urban functional regions and then
validate the labels of all towers in each pattern with ground
truth.

Cluster Index Functional Regions Percentage

1
2
3
4
5

Resident
Transport

Oﬃce

Entertainment
Comprehensive

17.55%
2.58%
45.72%
9.35%
24.81%

Table 1: Percentage of cell towers classiﬁed in each
cluster.

229Table 2: Distribution of POI at Chosen Point.

Points of Interest
Resident Transport Oﬃce
19
56

Entertain

51
36
157
2165

26

1016
108
179

Point

A

B

C

D

E

195
68
151
16
59

0
2
1
0
0

Figure 7: Geographical distribution of base stations
from the ﬁve identiﬁed patterns.

3.3.1 Label Patterns with Urban Functional Regions
To understand the geographical context of traﬃc pattern-
s, we label the ﬁve traﬃc patterns using urban functional
regions. This process is nontrivial because given thousand-
s of cellular towers, labelling cannot be done one by one
manually. To address this challenge, we use a few human-
labeled areas and combine with points of interests (POI)
distribution to achieve accurate labelling. POI is a speciﬁc
point location of a certain function such as restaurant and
shopping mall. An area’s POI distribution reﬂects its func-
tion. Therefore, studying POI distribution of one location
can help us to accurately identify patterns’ labels. The POI
data we study is collected via APIs provided by Baidu Map
introduced before. For calculating the POI distribution, we
measure the number of four main types of POI, which are
resident, transport, oﬃce and entertainment, within 200m
of each cell towers. Figure 7 shows the geographical density
map of towers in each cluster where deep color stands for
higher density. Zooming in the urban area, for each clus-
ter we pick the point with the highest tower density and
calculate their POI distribution as summarized in Table 2.
Then, we infer the urban function region of each cluster by
checking the geographical location information in Figure 7
and POI distribution in Table 2. We obtain the following
geographical labels for the ﬁve clusters.

Resident area:
Figure 7 shows that the towers in this
cluster (green color) are mainly distributed on the surround-
ing areas of the city. In addition, the highest density point,
A, is located in a large resident neighborhood. Table 2 also
shows that the number of residential points in A is more
than others. Therefore,we label the area covered by this
cluster’s cell towers as residential area.

Transport area:
In Figure 7, the second cluster’s high-
est density point B is close to an area with three subway
stations and one overpass. In addition, Table 2 shows that
around location B the number of transport POI is high-
er than the rest even though its absolute number is small.
Therefore, we label this cluster as transport area.

Oﬃce area: Figure 7 shows that the highest density point
C is a well-known business district in Shanghai. This loca-
tion mark is also veriﬁed by the third row of Table 2 where
the number of oﬃce POI is dominant for the area 200m from
C . As a result, we label this cluster as oﬃce area.

(a) Area A

(b) Area B

Figure 8: Two case studies for validating the geo-
graphical context of the ﬁve identiﬁed patterns.

Entertainment area:
The highest density point D in
Figure 7 is a large shopping mall and entertainment park in
Shanghai. Table 2 also shows that its number of entertain-
ment POI is more than the rest. Therefore, we label this
cluster as entertainment area.
Comprehensive area: Figure 7 shows the tower density
map of the last cluster, where we observe uniform distri-
bution of towers across the city.
In addition, the highest
density point, E , is a comprehensive area, which includes
all kinds of urban functions, including residential area, of-
ﬁces, etc. The POI distribution of point E does not suggest
obvious land mark either. Therefore, it is labeled as com-
prehensive area.

3.3.2 Validate the Labels

In this section, we validate the labels of the ﬁve patterns
in both micro and macro scale. Our labels are obtained by
checking the geographical locations of a few towers in each
cluster and verifying with the corresponding POI distribu-
tion. However, the correctness of labelling across all 9,600
cellular towers remains unknown. Therefore, we perform
further analysis to validate our labels with POI data from
micro and macro two perspectives.
Validate with case study: To validate our labels in mi-
cro scale, we randomly choose two areas shown in Figure 8.
According to the POI data, we ﬁrst color diﬀerent functional
regions in the area with diﬀerent colors. Green represents
residential area, yellow represents transport area, red rep-
resents oﬃce area, and blue represents entertainment area.
After that, we investigate the labels of cell towers locating in
the area. Observing both Figure 8(a) and (b), we ﬁnd that
the labels attached to the cell towers exactly match with the
functional regions, which justiﬁes our labels’ correctness.
Validate with 9,600 towers’ POI: To validate our la-
bels in macro scale, we perform further analysis on all 9,600
towers’ POI. However, diﬀerent types POI vary in magni-
tude signiﬁcantly because of their diﬀerent nature. To elim-
inate this interference, we ﬁrst perform min-max normaliza-
tion on each type’s POI and then average them by clusters,

230Table 3: Averaged normalized points of interest of
ﬁve clusters.

Cluster

#1
#2
#3
#4
#5

Points of Interest

Resident Transport Oﬃce
0.0232
0.0528
0.1012
0.0473
0.0439
0.1034
0.0976
0.0474
0.0508
0.0453

0.0285
0.2000
0.0813
0.1201
0.0373

Entertain
0.0269
0.1020
0.0515
0.1674
0.0403

Figure 9: Pie chart of averaged normalized points of
interest of ﬁve clusters.

which is summarized in Table 3. The maximum of each row
and column is marked with color, which shows the dominan-
t urban function in each cluster. Figure 9 explicitly shows
each POI’s percentage in ﬁve clusters. According to Table 3
and Figure 9, transport type POI dominates the region la-
beled as transport area, with 44% of this area’s POI, while
entertainment area is dominated by entertainment type POI
for 39%. These measurements validate the labels obtained
from the sampled towers of each cluster.

To conclude, in this subsection we verify our identiﬁed key
traﬃc patterns as well as establish their relationships with
urban functional regions.

4. UNDERSTANDING MODELED TRAFFIC

PATTERNS: TIME DOMAIN ASPECT

Understanding the hidden physical meanings of traﬃc pat-
terns is important for exploiting them to solve practical
problems, such as traﬃc load balancing or land usage iden-
tiﬁcation. Although we have identiﬁed key traﬃc patterns
and linked them to corresponding urban functional regions,
we still have little knowledge of the hidden physical meaning
of these patterns. In this section, we conduct an analysis to
reveal the time and geographical characteristics of modeled
traﬃc patterns.

We start from quantifying the distinct time-domain char-
acteristics of each pattern and ﬁnd out the interrelationships
between these patterns. These time-domain characteristics

o

i
t

a
r
 
y
e

l
l

a
v
−
k
a
e
P

140

120

100

80

60

40

20

0

 

 

Weekday
Weekend

Resident Transport

Office

Entertain. Comprehen.

Urban functional regions 

(a) Weekday-weekend traﬃc
amount ratio.

(b) Weekday and weekend’s
peak-valley ratio

Figure 10: Time-domain characteristics of the ﬁve
identiﬁed patterns.

have not been quantiﬁed and the interrelationships between
these traﬃc patterns remain unknown, which are two ob-
stacles preventing us from further understanding these traf-
ﬁc patterns. Therefore, in order to understand the hidden
meaning of modeled patterns, we conduct the following s-
tudies.

4.1 Quantify Time-Domain Characteristics

It is obvious that traﬃc patterns of diﬀerent urban func-
tional regions possess diﬀerent characteristics in time-domain.
In this subsection, we dedicate to quantify these character-
istics and provide insights of traﬃc behaviours in diﬀerent
urban functional regions.

Weekday-Weekend traﬃc amount ratio: Observing
Figure 6, traﬃc amount during weekday is signiﬁcantly dif-
ferent from weekend in transport area and oﬃce area. We
quantify this characteristic by computing the ratio between
weekday’s traﬃc amount and weekend’s, which is presented
in Figure 10(a). According to Figure 10(a), one day’s traﬃc
amount in resident area, entertainment area and comprehen-
sive area is almost identical between weekday and weekend.
However, weekday-weekend traﬃc amount ratio in transport
area is 1.49 and the ratio in oﬃce area is 1.79, which sug-
gests weekday’s traﬃc amount of those two regions is much
more than weekend. This phenomenon makes sense because
people typically go to work in weekday while they do not in
weekend.

Peak-valley features: Observing Figure 6, all traﬃc pat-
terns experience periodic peaks and valleys. However, the
traﬃc patterns are signiﬁcantly diﬀerent in peak value, val-
ley value and peak-valley ratio. We quantify these char-
acteristics and summarize them in Table 4. According to
Table 4, in transport area and oﬃce area weekend’s maxi-
mum traﬃc and minimum traﬃc is much less than weekday,
which is consistent with last paragraph’s ﬁnding. What’s
more, the transport’s peak-valley ratio is much higher than
other regions, which is explicitly presented in Figure 10(b).
However, transport area’s maximum traﬃc is less than oth-
er regions both in weekday and weekend. It suggests that
transport area has the least traﬃc amount and the largest
peak-valley traﬃc diﬀerence, while resident area and com-
prehensive area are the opposite.

Time of traﬃc peak and valley: Diﬀerent urban func-
tional regions’ traﬃc patterns diﬀer not only in peak volume,
but also in peak time. We quantify this characteristic and
present it in Table 5. We leave the blank unﬁlled, if there
is not a periodic peak or valley. Observing Table 5, we ﬁnd

231❤

❤

❤

❤

Features

❤

❤

❤❤

maximum traffic

minimum traffic
peak-valley ratio

Regions

resident area

transport area

office area

entertainment area

comprehensive area

weekday
7.77 × 108
8.70 × 107

weekend
7.99 × 108
8.71 × 107

weekday
2.76 × 108
2.07 × 106

weekend
1.55 × 108
1.35 × 106

weekday
4.69 × 108
2.04 × 107

weekend
2.78 × 108
1.74 × 107

weekday
4.55 × 108
1.41 × 107

weekend
4.90 × 108
1.42 × 107

weekday
7.36 × 108
7.77 × 107

8.93

9.17

133.33

114.81

22.99

15.98

32.27

34.51

9.47

weekend
7.38 × 108
7.29 × 107

10.12

Table 4: Peak-valley features

Regions

resident area

transport area

office area

weekday

weekend

weekday

weekend

weekday

weekend

❤

❤

❤

Features

❤

❤

❤

❤❤

entertainment area
weekday
weekend

comprehensive area
weekday
weekend

time of peak
time of valley

21:30
5:00

21:30
5:00

8:00 18:00

4:00

4:30

10:30
5:00

12:00
5:00

18:00
5:00

12:30

5:0

5:00

5:00

Table 5: Time of traﬃc peak and valley

c
i
f
f

a
r
T
 
d
e
z

i
l

a
m
r
o
N

1

0.5

0

 

1

0.5

0

 

1

0.5

0

 

Resident
Transport

 

4 8 12 16 20 24

Hour

4 8 12 16 20 24 4 8 12 16 20 24

Office
Transport

 

4 8 12 16 20 24

Hour

4 8 12 16 20 24 4 8 12 16 20 24

Comprehensive
All

 

4 8 12 16 20 24

Hour

4 8 12 16 20 24 4 8 12 16 20 24

Weekday

Weekend

Figure 11: Understanding the interrelationships be-
tween traﬃc patterns.

that traﬃc valley always takes place in 4:00∼5:00. In week-
day, transport area has two peaks in 8:00 and 18:00, which
are probably caused by rush hour. In entertainment area,
weekday’s traﬃc peak time is 18:00 while weekend’s traﬃc
peak time is 12:30. It suggests that people go for entertain-
ment later in weekday because of work.

To conclude, we quantify the time-domain characteristics
of each identiﬁed traﬃc pattern, which paves the way to-
wards a deep understanding of cellular traﬃc patterns.

4.2 Interrelationships Between Trafﬁc

Patterns

We compare the interrelationships between normalized
modeled traﬃc patterns in Figure 11. The ﬁrst row of Fig-
ure 11 compares the modeled traﬃc patterns of residential
areas and transport hot spots. The peak of residential area
is about 3 hours later than the second peak of transport,
and the slope of these two peaks is almost identical. In ad-
dition, when we compare traﬃc patterns of transport hot
spots and business district shown in Figure 11, we ﬁnd that
the peak in business district takes place in the time period
between the two peaks of transport hot spots. Both obser-
vations suggest that the traﬃc patterns in these three areas
are related. These three traﬃc patterns probably depict the
daily routine of working populations, for them rush through

heavy traﬃc area to work in morning and rush back home
in evening.

In the third row of Figure 11, blue line stands for the traf-
ﬁc pattern in comprehensive area, and red line stands for
the average traﬃc pattern of all cell towers. In fact, we ﬁnd
that these two patterns are of great similarity, which sug-
gests that comprehensive area really is a mixture of other
four kinds of functional areas. In conclusion, we analyze the
interrelationships between the traﬃc patterns of diﬀerent
urban functional regions, which provides insightful under-
standing.

5. FREQUENCY-DOMAIN REPRESENTATION

FOR TRAFFIC MODELING

In this section, we conduct frequency-domain analysis.
Such frequency-domain analysis is motivated by observing
the inherent time-domain periodicity of traﬃc and the dis-
advantages of pure time-domain traﬃc analysis, where time-
domain traﬃc identiﬁcation is not easy, especially when cel-
lular towers are deployed in the comprehensive areas with
couples of behaviors. For example, we know that traﬃc of
cellular tower in the oﬃce area reaches the valley in week-
ends, and traﬃc of cellular tower in transport area has two
peaks in one day, but for an arbitrary cellular tower which
has both characteristics, we do not know which of the two
will predominate. On the other hand, in frequency domain,
we can quantify these characteristics by using the ampli-
tude and phase of frequency corresponding to one day and
one week. Thus, we can grasp the key points and compare
the strength of diﬀerent characteristics of traﬃc for one cel-
lular tower, which is not intuitive in time domain. Here, a
natural question to ask is what are the most discriminating
and essential features to present traﬃc patterns of cellular
towers. Motivated by answering this question, we conduc-
t frequency domain analysis on the ﬁve extracted patterns
and reveal several important discoveries.

5.1 Frequency Transform

In order to analyze the strong periodicity existing in time
domain, we ﬁrst carry out discrete fourier transform (DFT)
on the time-domain traﬃc vector X = (x[1], ..., x[N ])T . X
can be either the time-domain traﬃc vector of one cellular
tower, i.e., Xj for cellular tower j, or the aggregate traﬃc

vector of a cluster, i.e., Pj∈C Xj for the cluster C. The

process can be formulated as the following:

N

x[n]e−2πikn/N ,

ˆX[k] =

Xn=1

232T
F
D

8

6

4

2

0

10

x 10

(4−week)

(28−day)

(56−half day)

0

10

20

30

40

50

60

70

80

90

100

Frequency
(a)

Original

Reconstructed

 

7
x 10

10

5

)
e

t
y
b
(
c
i
f
f

a
r
T

0

 
0

e
d
u

t
i
l

p
m
a

 
f

 

o
e
c
n
a
i
r
a
V

0.03

0.025

0.02

0.015

0.01

0.005

(4−week)

(28−day)

(56−half day)

0

0

10

20

30

40

60

70

80

90

100

50
k

1

2

3
4
Time(day)
(b)

5

6

7

Figure 13: Variance of the frequency components
across the ﬁve identiﬁed patterns.

Figure 12: Time-domain traﬃc reconstructed by the
three principal frequency-domain components (k=4,
28, 56).

where N is the number of traﬃc samples, that is 28 days’ 10-
minutes segmentation, i.e., 4032 as discussed before in our
ˆX[k] is the frequency spectrum of time-domain
analysis.
traﬃc X. Figure 12(a) shows the DFT of the aggregate
traﬃc of all cellular towers, where three peaks are observed,
i.e. k =4, 28, 56. Since the duration of our series is 4 weeks,
the 4th point is corresponding to time-domain periodic pat-
terns of one week. Similarly, the 28th and 56th points stand
for the time-domain periodic patterns of one day and half a
day, respectively. The absolute values of the three compo-
nents are much higher than the rest of points, which suggests
that most information of the time-domain traﬃc could be
retained by the three components. Motivated by this hint,
we use the three components for presenting the time-domain
traﬃc. To evaluate the information loss of ignoring the rest
of frequency components, we reconstruct the time-domain
traﬃc using the three main frequency components, which is
expressed as follows:

0,

ˆX r[k] =( ˆX[k],


N PN −1

xr[n] = 1

k=0

if k =0, 4, 28, 56, N -4, N -28, N -56,
otherwise,

ˆX r[k]e2πikn/N ,

where xr[n] is the reconstructed time-domain traﬃc. The
reconstructed time-domain traﬃc of the aggregate traﬃc
of all cellular towers is also shown in Figure 12(b). From
the result, we can observe that the reconstructed curve is
very close to the original curve. Speciﬁcally, the lost energy,
n=1 x[n]2, is less than 6% relative to the to-
n=1 x[n]2, which suggests
the negligible energy contributed by frequency components
beyond the three main components.

PN
n=1 xr[n]2 −PN
tal energy of the original traﬃc PN

To further understand the capability of signal reconstruc-
tion using the three points, we analyze the variance of am-
plitude of DFT at each frequency component for diﬀerent
cellular tower, and the result is shown in Figure 13. We can
observe that the DFT variances of the three frequency com-
ponents are larger compared to the rest. In addition, we use
the DFT to analyse the aggregate traﬃc for cellular towers

Resident

 

Transport

 

Office

 

Entertainment

0

1

2

3

4

5

6

Time

7

 

1000

500

0

 
0

Resident
Transport
Office
Entertainment

10

20

30

40

50

60

70

80

90

100

Frequency

Figure 14: Reconstructed time-domain traﬃc of the
ﬁve patterns using the three principal frequency do-
main components.

of the four primary traﬃc patterns in Figure 14. We can
ﬁnd that the reconstructed curves are also very close to the
original curves, and their DFT spectrum varies most signif-
icantly at the three frequency components, which suggests
that these three frequencies are the most important compo-
nents in distinguishing towers of diﬀerent traﬃc patterns as
well as constructing a time-domain traﬃc.

5.2 Visualized Analysis in Frequency Domain
In order to better understand the ﬁve traﬃc patterns of
towers in frequency domain, we now provide visualized fre-
quency analysis of them. In addition, based on our earlier
observation in Section 5.1, we only analyze the three fre-
quencies corresponding to one week, one day, and half a
day. Since each DFT point is a complex number, we ana-
lyze the distribution of its amplitude and phase extracted

2334

3

2

1

0

−1

−2

−3

k
e
e
w
e
n
o

 

 
f

o

 

e
s
a
h
P

−4

 
0

0.1

 

3.5

3

2.5

2

1.5

 

y
a
d
e
n
o

 
f

 

o
e
s
a
h
P

Resident area
Transport area
Office area
Entertainment area
Comprehensive area

 

4

3

2

1

0

−1

−2

−3

y
a
d

 

a

 
f
l

a
h

 
f

 

o
e
s
a
h
P

Resident area
Transport area
Office area
Entertainment area
Comprehensive area

 

Resident area
Transport area
Office area
Entertainment area
Comprehensive area

0.3

0.2
0.5
Amplitude of one week

0.4

(a) k=4

0.6

0.7

 

1
0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

−4

 
0

0.1

Amplitude of one day

(b) k=28

0.3

0.2
0.5
Amplitude of half a day

0.4

0.6

0.7

(c) k=56

Figure 15: Phase and amplitude distribution of the three principal frequency components in the frequency
domain.

(a) Week

(b) One day

(c) Half a day

Figure 16: Means and standard deviations of amplitude and phase for cellular towers from the ﬁve identiﬁed
patterns.

by the following expressions:

(Am

P m

k = ||X m[k]||,
k = arg X m[k],

k and P m

where Am
k are the amplitude and phase of DFT
for tower m at the kth frequency component. The larger
amplitude reﬂects the stronger periodicity at corresponding
frequency, while diﬀerent phases of DFT indicate diﬀerent
peak time or valley time. Intuitively, for example, larger Am
indicates the cellular tower m is located at the area that
is signiﬁcantly inﬂuenced by the holiday at the weekend,
such as oﬃce and entertainment area. On the other hand,
since the traﬃc peak at oﬃce area tends to be reached at
weekdays, while it at entertainment area tends to be reached
at weekends, their P m
28 will have much diﬀerence. Thus,
by frequency analysis, we can quantify the inherent time-
domain periodicity of traﬃc, which is diﬃcult to achieve by
the time domain analysis.

28

Figure 15 shows the distribution of the amplitude and
phase of towers deployed in the comprehensive, residential,
oﬃce, transport, and entertainment areas. Meanwhile, mean-
s and standard deviations of the amplitude and phase for
towers at the three frequency components of towers in the 4
types of areas are presented in Figure 16.

From Figure 15(a) and Figure 16(a), we can observe that
towers in oﬃce area have the strongest periodicity of one
week. Their phases mainly concentrate around 1.35, while
the phase of towers in residential and entertainment area

centers around -1.65, about π away from 1.35. This π sepa-
ration suggests that towers in residential and entertainment
area have reverse traﬃc characteristics as that in the oﬃce
area in the scale of one week.

As we can observe in Figure 15(b), the distribution of
towers is continuous with respect to the phase of one day.
Moreover, it shows a smooth traﬃc transition from residen-
tial area to comprehensive and transport area, and ﬁnally
to oﬃce area. On the other hand, according to our priori
knowledge, the human migration ﬂow usually leads to the
peaks of traﬃc of areas appear sequentially with the same
order that the ﬂow passes through, which coincides with
our observed phenomenon. Thus, such transition suggests
the human migration ﬂow from home to oﬃce via transport
during rush hours.
In Figure 16(b), we can also observe
that the means of their phase are incremental with the same
order.

Figure 15(c) and Figure 16(c) show characteristics of the
amplitude and phase of the frequency component which s-
tands for half a day. The amplitude of this frequency com-
ponent indicates the strength of double-hump characteris-
tic.
In Figure 16(c), we can observe that the amplitude
of towers in transport area is the largest, indicating their
strongest double-hump characteristic. This result coincides
with our priori knowledge that there are two rush hours of
transport area in the morning and evening, respectively. In
Figure 15(c), we ﬁnd that traﬃc of residential and oﬃce area
are not separated by traﬃc of transport area. This observa-
tion is not contradictory to our pervious analysis because the

234directions of people commute in the morning and afternoon
are reversed.

Overall, the amplitude and phase of the three frequency
components show a strong capability of diﬀerentiating tow-
ers with diﬀerent traﬃc patterns. Based on the observations,
we make the following statements. First, the most represen-
tative tower in each cluster is not the centroid. In fact, it
is the farthest non-noise point from the hyperplanes, which
separate clusters. To understand this problem, let us think
about the points around a hyperplane, where we observe
similar traﬃc patterns of points even though they belong
to diﬀerent clusters. In geographical context, these towers
are deployed in areas of mixed urban functions. In contrast,
the points far from the separating hyperplane are located
at areas of a single urban function. Although perhaps not
the most representative points, cluster centroids can well
characterize the traﬃc patterns since they are distant from
others clusters.

Second, the frequency-domain features of towers are dis-
tributed in a polygon. Such polygon is formed because the
proﬁle of each cluster in Figure 15 has a cigar shape. Thus,
diﬀerent features of towers can be regarded as being linear
relevant or piecewise linear relevant approximately, which
overlayed with a Gaussian noise can form the cluster with
the cigar shape. As a result, a point in the frequency domain
can be seen as a linear combination of the four vertex of the
polygon, i.e., the four most representative points, which we
call as the four primary components.

To illustrate these two statements, we plot the distribu-
tion of towers and corresponding polygon in Figure 17. For
better understanding, we only show three features, includ-
ing amplitude and phase of one day, and amplitude of half
day. According to our ﬁrst statement, the most representa-
tive tower in each cluster is the furthest one from the hyper-
plane. Speciﬁcally, we do not calculate the hyperplanes, and
only search for points with largest distance from points of
other clusters. In addition, we use the density of the towers,
i.e., the number of towers within a ﬁxed distance away from
it in the feature space, as a decision function to ensure that
the tower is not a noise point. Figure 17 shows that all the
towers are distributed in or along the edge and plane of the
polygon, as we discussed above.

5.3 Component Analysis of Cellular Towers

in Comprehensive Area

Based on the statements above, we may use a linear com-
bination of the four most representative cellular towers to
present each point in the polygon. By looking at the coef-
ﬁcient of each primary component, we can obtain the per-
centage of corresponding urban function of the area where
an arbitrary cellular tower is deployed. We formulate the
process of obtaining the coeﬃcients as a quadratic program-
ming problem, which is shown below:

where ||·|| is the 2-norm of a vector, F is the feature of the
target tower, F 0
is the feature of the most representative
i
tower for cluster i in the frequency domain, and xi is the
obtained coeﬃcient for cluster i. In this example, the fea-
ture of tower m, F m, is (Am
28 ,P m
28 ,

56), where Am

28 , Am

28, P m

||F − F r||2
i=1 F 0
i=1 xi = 1,

i xi = F r,

xi ≥ 0,

i = 1, ..., 4,

minimize

subject to 


P4
P4

Figure 17: Three-dimensional view of the distribu-
tion of cellular towers in the frequency domain.

Am
56 are the amplitude of one day, phase of one day, and
amplitude of half a day for tower m, respectively. We use
the quadratic programming to solve the problem because
the traﬃc of an actual tower is usually overlayed with var-
ious noises, such that these points close to the plane of the
the polygon may be driven out of the polygon. By solving
this quadratic programming, for points inside the polygon,
we can ﬁnd their exact convex combinations, while for some
point outside the polygon, we can ﬁnd the point in the poly-
gon with the smallest distance to the target point, which is
a good approximation.

We dedicatedly select a list of towers in the comprehen-
sive area. Then, we use the method presented above to solve
the convex combinatorial coeﬃcients of them. We compare
these coeﬃcients with a transform of the previously intro-
duced POI, i.e., the term frequency-inverse document fre-
quency (TF-IDF) of the corresponding types and locations.
TF-IDF is a numerical statistic that is intended to reﬂec-
t how important a word is to a document. Similarly, it is
used to reﬂect how important the POI of a speciﬁc type is
in our analysis, which has been proposed in existing works,
i.e., Yuan et al. [27] provided a TF-IDF-based method to
cluster regions of diﬀerent functions, which solely uses the
POI data. Speciﬁcally, TF-IDF can be calculated as the
following:

(IDFi = log(M/Mi),

TF-IDFm

i = IDFi · log(1 + POIm

i ),

where M is the total number of towers, and Mi is the number
of towers of which the POI of type i appears within a speciﬁc
distance, and POIm
is the times that the POI of type i
i
appears within a ﬁxed distance of tower m. To be better
compared with, we normalize the TF-IDF of each tower by
the sum of TF-IDF of all the four types for this tower, which
is called as the normalized TF-IDF (NTF-IDF). This process
can be formulated as the following:

NTF-IDFm

i = TF-IDFm
i /

TF-IDFm
j .

4

Xj=1

235Table 6: Convex combination coeﬃcients and NTF-
IDF.

Coeﬃcient

2

3

1

4

NTF-IDF

3
0

4
0

1
1

2
0

F1
F2
F3
F4
P1
P2
P3
P4
P5

1.00 0.00 0.00 0.00
0.00 1.00 0.00 0.00 0.00 0.81 0.05 0.14
0.00 0.00 1.00 0.00 0.00 0.00 1.00 0.00
0.00 0.00 0.00 1.00 0.00 0.00 0.28 0.72
0.79 0.13 0.08 0.00 0.44 0.36 0.04 0.16
0.09 0.07 0.00 0.84 0.36 0.39 0.03 0.22
0.23 0.00 0.15 0.62 0.68 0.00 0.07 0.25
0.00 0.29 0.42 0.29 0.00 0.68 0.07 0.24
0.35 0.18 0.22 0.25 0.12 0.55 0.05 0.28

The obtained NTF-IDF is proportional to the POI for each
type, which roughly represents the density of the corre-
sponding function in the corresponding area. Speciﬁcally,
NTF-IDF close to 0 indicates this area do not have the cor-
responding function. However, the largest NTF-IDF do not
completely indicate the corresponding function is dominant
in the area, since it is also inﬂuenced by the size of related
points and corresponding distance. For example, a large and
close subway station has more inﬂuence than a small and far
residential building on a cellular tower.

Then, the result is shown in Table 6. Expect for the towers
in the comprehensive area, the NTF-IDF of the four most
representative towers is also provided in the table. We can
observe that their NTF-IDF of corresponding types is much
larger than others, which is very close to 1, indicating the
areas where they are located have a single type of function.
As for towers in the comprehensive area, There are multiple
relative large NTF-IDF for a cellular tower. As discussed
earlier, this may lead to inaccuracy since the inﬂuence of
the size of related points and corresponding distance. Thus,
we only consider the consistency of the small NTF-IDF and
combination coeﬃcients. We can observe that the majori-
ty of the smallest NTF-IDFm
in all m for some ﬁx i cor-
i
responds to the smallest coeﬃcient in all m for the same i,
respectively. For example, NTF-IDFP 3
1 are
0, and their corresponding coeﬃcients are also 0. Thus, the
obtained convex combination coeﬃcients coincide with the
POI distribution, indicating the correctness of our theory.

2 and NTF-IDFP 4

To further illustrate the convex combination, we take the
tower P5 in Table 6 as an example, and show its combination
of frequency and time domain, respectively in Figure 18 and
Figure 19. For a point inside the polygon, we can ﬁnd its
exact convex combination, that is:

4

4

F = F r =

F 0

i xi = F 0

3 +

xi(F 0

i − F 0

3 ).

As shown in Figure 18,
in the feature space, the vector
(0, F r) can be divided to the vector (0, F 3) and the weighted
sum of the vector (F 3, F 1), (F 3, F 2), (F 3, F 4). For P5, the
weights are 0.35, 0.18 and 0.25, respectively, which is just as
coeﬃcients of cluster 1, 2, 4 in Table 6 of P5.

On the other hand, in Figure 19, we show the compo-
nents of traﬃc corresponding to four primary clusters for
the comprehensive tower P5. Areas of diﬀerent colors in the
left ﬁgure represent components of diﬀerent primary traf-
ﬁc patterns. To be better distinguished, each component is

Xi=1

Xi=1,i6=3

Figure 18: Convex combination for P5 in Table 6 in
frequency domain.

e

l
i
f
o
r
P
 
c
i
f
f
a
r
T
 
d
e
z

i
l

a
m
r
o
N

Time (day)

Figure 19: Convex combination for P5 in time do-
main.

added with a static bias. In addition, we plot each compo-
nent individually in the right ﬁgure. The result indicates
that traﬃc patterns of an arbitrarily cellular tower can be
approximated by a convex combination of four primary traf-
ﬁc patterns. The size of each component is highly related
to density of corresponding function around the tower. It
further demonstrates the correctness and usefulness of our
frequency analysis method.

6. RELATED WORK

The digital footprints of human activities and network be-
haviors contributed by mobile devices have led to a pletho-
ra of investigations on the intersection between human and
network dynamics[14, 15]. This section summarizes relevant
research from three perspectives — data sources, types of
collected data and targeted applications.

236Dataset collected from mobile devices for investigating hu-
man behaviors and network performance can be divided into
two broad categories: (1) data collected from mobile devices
and (2) traces collected by mobile operators [2]. For the
ﬁrst categories, users or experimenters report their semanti-
cally annotated data about the locations, phone usages and
network performance by installing some Apps in their de-
vices[19, 10]. The limitation of this approach comes from
the limited number of users sampled, which cannot stand
for the global characteristics of a large scale cellular net-
work. On the other hand, in the dataset collected by cellular
operators, users are passively monitored and the operators
decide which information to collect[9, 24]. As a result, the
collected data is continuous as long as devices are connected,
and includes detailed information of users behaviors, such as
duration of each Internet connection. As a result, data col-
lected via the second approach enables the study of overall
network behaviors, such as large scale of human mobility
and call activities analysis. In this paper, we use the data
collected by an ISP for investigating the traﬃc patterns of
large scale cellular towers.

Extensive studies have used various types of cellular data
for understanding the characteristics of large scale cellular
towers. For example, cell phone activities, commonly know
as Call Description Records (CDR), are used for capturing
human communication activities[3].
In addition, it is also
used for recovering the human mobility trajectory[9], infer-
ring demographics[6], and uncovering urban ecology[2]. An-
other type of data is the device-level metric obtained from
mobile devices, such as device and application usage[8, 21],
network access bandwidth[10], energy computation[11], per-
sonal GPS locations[28], etc. With the popularity of 3G
and LTE access, mobile and application data traces become
available as well. Cici et al. [2] characterizes the relationship
between people’s application interests and mobility patterns
based on a population of over 280, 000 users of a 3G mobile
network. Lee et al. [16] demonstrated that the spatial dis-
tribution of the traﬃc density can be approximated by the
log-normal or Weibull distribution. However, mobile data
traﬃc across a city-wide range with diﬀerent time scale and
variations contains complicated interaction between the s-
pace and time, which requires a deep and comprehensive
understanding. The analysis and models in this work pro-
vide such insights.

Cellular network traces have been used for enabling a set
of applications. The footprint of mobile devices and cellular
network has been used to model human mobility and tra-
jectories [9, 7, 24, 5]. Barabasi et al.
[9, 23, 22] studied
the mobility behaviors of 100k mobile users by analyzing
the CDR data, and found that the trajectories of human is
not as random as previously proposed levy ﬂight or random
walk models. Instead, it presents a high conﬁdence of pre-
dictability[23], and temporal and spatial regularity[9]. The
cellular network traces have also been used for characteriz-
ing and modelling the cellular data traﬃc patterns. Shaﬁq
et al. [17] modelled the internet traﬃc dynamics of cellular
[12] characterized data usage pattern-
devices. Jin et al.
s in large cellular network. And Zhang et al.
[26] tried to
understand the characteristics of cellular data traﬃc by com-
paring it to wireline data traﬃc. Other studies combine the
CDR, GPS locations, and application traces to investigate
the land usage[24, 20], social interactions[7], location-based
patterns[5], and web and data access patterns[13, 12].
In

this paper, we focus on investigating the mobile data traf-
ﬁc patterns from diﬀerent domains, including time, location
and frequency, which provides a comprehensive understand-
ing of the traﬃc patterns of large scale cellular towers with
a simple but deep model that is able to characterize the city
geographical features and human communication regularity.
In conclusion, we study a large scale urban mobile data
access traces collected by the commercial mobile operators
involving over 9600 towers and 150,000 subscribers. We ﬁrst
design an analysis framework for processing large scale cellu-
lar traﬃc data. Then, we reveals the basic but fundamental
patterns embedded in thousands of cellular towers, which
paves a way toward a comprehensive understanding of the
connection among mobile data traﬃc, urban ecology and
human behaviors.

7. CONCLUSIONS

In this paper, we carry out, to the best of our knowledge,
the ﬁrst study of traﬃc patterns embedded in large scale
3G and LTE towers deployed in the urban environment. We
propose a powerful model which combines time, location and
frequency information for analyzing the traﬃc patterns of t-
housands of cellular towers. Our analysis reveals that the
dynamic urban mobile traﬃc usage exhibits only ﬁve ba-
sic time domain patterns.
In addition, the traﬃc of any
tower can be reconstructed accurately using a linear combi-
nation of four primary components corresponding to human
activity behaviors. Our analysis provides a systematic and
comprehensive understanding of dynamic and complicated
mobile traﬃc, and opens a set of new research directions.

Acknowledgment
This work is supported by National Basic Research Program
of China (973 Program) (No. 2013CB329105) and National
Nature Science Foundation of China (No. 61301080, No.
91338203, No. 91338102, and No. 61321061).

8. REFERENCES
[1] Cisco visual networking index: Global mobile data

traﬃc forecast. 2014.

[2] B. Cici, M. Gjoka, A. Markopoulou, and C. T. Butts.
On the decomposition of cell phone activity patterns
and their connection with urban ecology. In Proc. of
ACM MobiHoc, pages 317–326, 2015.

[3] B. Cici, A. Markopoulou, E. Fr´ıas-Mart´ınez, and

N. Laoutaris. Quantifying the potential of ride-sharing
using call description records. In Proc. of ACM
HotMobile, page 17, 2013.

[4] F. Corpet. Multiple sequence alignment with
hierarchical clustering. Nucleic acids research,
16(22):10881–10890, 1988.

[5] A. K. Das, P. H. Pathak, C.-N. Chuah, and

P. Mohapatra. Contextual localization through
network traﬃc analysis. In Proc. of IEEE INFOCOM,
pages 925–933, 2014.

[6] Y. Dong, Y. Yang, J. Tang, Y. Yang, and N. V.
Chawla. Inferring user demographics and social
strategies in mobile social networks. In Proc. of ACM
SIGKDD, pages 15–24, 2014.

[7] N. Eagle, A. S. Pentland, and D. Lazer. Inferring

friendship network structure by using mobile phone
data. Proc. of the National Academy of Sciences,
106(36):15274–15278, 2009.

[8] H. Falaki, D. Lymberopoulos, R. Mahajan,

S. Kandula, and D. Estrin. A ﬁrst look at traﬃc on

237smartphones. In Proc. of ACM IMC, pages 281–287,
2010.

[9] M. C. Gonzalez, C. A. Hidalgo, and A.-L. Barabasi.
Understanding individual human mobility patterns.
Nature, 453(7196):779–782, 2008.

[10] W. Hu and G. Cao. Quality-aware traﬃc oﬄoading in

wireless networks. In Proc. of ACM MobiHoc, pages
277–286, 2014.

[11] W. Hu and G. Cao. Energy-aware video streaming on

smartphones. In Proc. of IEEE INFOCOM, 2015.

[12] Y. Jin, N. Duﬃeld, A. Gerber, P. Haﬀner, W.-L. Hsu,

G. Jacobson, S. Sen, S. Venkataraman, and Z.-L.
Zhang. Characterizing data usage patterns in a large
cellular network. In ACM CellNet Workshop, pages
7–12, 2012.

[13] R. Keralapura, A. Nucci, Z.-L. Zhang, and L. Gao.

Proﬁling users in a 3g network using hourglass
co-clustering. In Proc. of ACM MobiCom, pages
341–352, 2010.

[14] M. Kosinski, D. Stillwell, and T. Graepel. Private

traits and attributes are predictable from digital
records of human behavior. Proc. of the National
Academy of Sciences, 110(15):5802–5805, 2013.

[15] J. K. Laurila, D. Gatica-Perez, I. Aad, O. Bornet,
T.-M.-T. Do, O. Dousse, J. Eberle, M. Miettinen,
et al. The mobile data challenge: Big data for mobile
computing research. In Pervasive Computing, number
EPFL-CONF-192489, 2012.

[16] D. Lee, S. Zhou, X. Zhong, Z. Niu, X. Zhou, and

H. Zhang. Spatial modeling of the traﬃc density in
cellular networks. Wireless Communications, IEEE,
21(1):80–88, 2014.

[17] J. A. X. L. J. W. M. Zubair, Shaﬁq Lusheng.

Characterizing and modeling internet traﬃc dynamics
of cellular devices. Performance evaluation review,
39(1):305–316, 2011.

[18] U. Maulik and S. Bandyopadhyay. Performance

evaluation of some clustering algorithms and validity
indices. Pattern Analysis and Machine Intelligence,
IEEE Transactions on, 24(12):1650–1654, 2002.

[19] A. Noulas and C. Mascolo. Exploiting foursquare and

cellular data to infer user activity in urban
environments. In Proc. of IEEE MDM, volume 1,
pages 167–176, 2013.

[20] T. Pei, S. Sobolevsky, C. Ratti, S.-L. Shaw, T. Li, and

C. Zhou. A new insight into land use classiﬁcation
based on aggregated mobile phone data. International
Journal of Geographical Information Science,
28(9):1988–2007, 2014.

[21] M. Z. Shaﬁq, L. Ji, A. X. Liu, J. Pang, and J. Wang.

Characterizing geospatial dynamics of application
usage in a 3g cellular data network. In Proc. of IEEE
INFOCOM, pages 1341–1349, 2012.

[22] C. Song, T. Koren, P. Wang, and A.-L. Barab´asi.

Modelling the scaling properties of human mobility.
Nature Physics, 6(10):818–823, 2010.

[23] C. Song, Z. Qu, N. Blumm, and A.-L. Barab´asi.

Limits of predictability in human mobility. Science,
327(5968):1018–1021, 2010.

[24] J. L. Toole, M. Ulm, M. C. Gonz´alez, and D. Bauer.

Inferring land use from mobile phone activity. In Proc.
of ACM SIGKDD, pages 1–8, 2012.

[25] H. Wang, J. Ding, Y. Li, P. Hui, J. Yuan, and D. Jin.
Characterizing the spatio-temporal inhomogeneity of
mobile traﬃc in large-scale cellular data networks. In
Proc. of ACM HOTPOST, pp. 19-24, 2015.

[26] k. A. Ying Zhang. Understanding the characteristics
of cellular data traﬃc. In ACM SIGCOMM CellNet
Workshop, 42(4):13–18, 2012.

[27] J. Yuan, Y. Zheng, and X. Xie. Discovering regions of
diﬀerent functions in a city using human mobility and
pois. In Proc. ACM SIGKDD, pages 186–194, 2012.

[28] Y. Zheng, Q. Li, Y. Chen, X. Xie, and W.-Y. Ma.

Understanding mobility based on gps data. In Proc. of
ACM UbiComp, pages 312–321, 2008.

238