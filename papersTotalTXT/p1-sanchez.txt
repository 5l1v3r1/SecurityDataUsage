Inter-Domain Trafﬁc Estimation for the Outsider

Mario A. Sanchez†

Fabian E. Bustamante† Balachander Krishnamurthy‡

(cid:63)Niksun, Inc.

◦MIT / TU Berlin

Walter Willinger(cid:63) Georgios Smaragdakis◦

†Northwestern University

‡AT&T Labs Research

Jeffrey Erman‡

ABSTRACT
Characterizing the ﬂow of Internet traﬃc is important in
a wide range of contexts, from network engineering and
application design to understanding the network impact
of consumer demand and business relationships. Despite
the growing interest, the nearly impossible task of col-
lecting large-scale, Internet-wide traﬃc data has severely
constrained the focus of traﬃc-related studies.

In this paper, we introduce a novel approach to character-
ize inter-domain traﬃc by reusing large, publicly available
traceroute datasets. Our approach builds on a simple insight
– the popularity of a route on the Internet can serve as an
informative proxy for the volume of traﬃc it carries. It ap-
plies structural analysis to a dual-representation of the AS-
level connectivity graph derived from available traceroute
datasets. Drawing analogies with city grids and traﬃc, it
adapts data transformations and metrics of route popularity
from urban planning to serve as proxies for traﬃc volume.
We call this approach Network Syntax, highlighting the
connection to urban planning Space Syntax. We apply
Network Syntax in the context of a global ISP and a
large Internet eXchange Point and use ground-truth data
to demonstrate the strong correlation (r2 values of up to
0.9) between inter-domain traﬃc volume and the diﬀerent
proxy metrics. Working with these two network entities, we
show the potential of Network Syntax for identifying critical
links and inferring missing traﬃc matrix measurements.

Categories and Subject Descriptors
C.2.5 [Communication Networks]: Local and Wide-
Area Networks—Internet; C.4 [Performance of Systems]:
Measurement techniques

General Terms
Measurement, Traﬃc

Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for proﬁt or commercial advantage and that copies bear this notice and the full citation
on the ﬁrst page. Copyrights for components of this work owned by others than
ACM must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior speciﬁc permission
and/or a fee. Request permissions from Permissions@acm.org.
IMC’14, November 5–7, 2014, Vancouver, BC, Canada.
Copyright is held by the owner/author(s). Publication rights licensed to ACM.
ACM 978-1-4503-3213-2/14/11…$15.00. 
http://dx.doi.org/10.1145/2663716.2663740.

Keywords
Traceroute; Inter-domain traﬃc; AS-level path

1.

INTRODUCTION

Studies on the Internet inter-domain system have focused
on network connectivity and dynamics and have ranged
from exploring techniques to measure and generate AS-level
graphs [10, 17, 48] to examining the properties of topology
snapshots [23, 40]. There is, however, a growing consensus
on the need to shift focus beyond connectivity towards
understanding Internet traﬃc.

Knowledge of inter-domain traﬃc characteristics is im-
portant in a number of diﬀerent contexts, from capacity
planning to anomaly detection, and performance analysis.
The major impediment to Internet traﬃc research has been
the scarcity of publicly available traﬃc data. Researchers
have typically had to choose between ﬁne-grained data on a
small slice of the network [7,11,14,33], or publicly available,
but coarse-grained and sparse datasets [13]. While detailed
studies of
important network entities such as Internet
eXchange Points (IXPs) [7] and Content Providers [6] can
improve our understanding of the inter-domain traﬃc, en-
listing the cooperation of Internet Service Providers (ISPs),
Content Providers or IXPs requires personal connections
and are thus hard to replicate or scale. On the other
hand, analysis of individual networks for which traﬃc data
is available, seriously limits researchers to a handful entities.
In this paper, we introduce a novel approach to char-
acterize inter-domain traﬃc by reusing the many publicly
available traceroute datasets. Our key observation is that
the popularity of a route on the Internet can serve as an
informative proxy for the volume of traﬃc it carries. While
traceroute measurements allow us to draw the paths taken
by packets when traversing the Internet, the routes identiﬁed
by a large number of traceroutes can be used to infer the
popularity of a path.

Building on this observation, we introduce a new abstrac-
tion of AS-level path and apply structural analysis to a dual-
representation of the AS-level connectivity graph, derived
from traceroute datasets. Drawing analogies with city grids
and traﬃc, we adapt metrics of route popularity from urban
planning to serve as proxies for network traﬃc. We call
this approach Network Syntax, highlighting the connection
to Space Syntax [26, 41], an urban-planning graph-based
approach to study human and vehicular ﬂows by leveraging
the strong correlation between traﬃc and the morphological
property of streets. Network Syntax (as the related Space
Syntax) builds on known abstractions and techniques from

1graph theory, and adapts them to our problem domain to
derive new insights on inter-domain traﬃc from traceroute
data.

We leverage publicly available traceroute datasets and
apply Network Syntax in the context of a global ISP and
a large Internet eXchange Point (IXP).1 To the best of our
knowledge, our work is the ﬁrst to point out and capitalize
on the strong correlation between Internet route popularity
and the volume of traﬃc it carries, showing how this
popularity can be derived from easy-to-perform traceroute
campaigns and available datasets.
In this context, we
present:

• An approach, Network Syntax, that leverages tracer-
oute datasets to tackle a problem that can currently
only be studied by a few researchers with access to
proprietary data.
• A demonstration of the strong correlations between
inter-domain traﬃc volumes and the diﬀerent Network
Syntax metrics applied to traceroute-based AS-level
connectivity graphs (and, in contrast, the weak corre-
lations that result from applying them to BGP-derived
connectivity graphs).
• An analysis of the robustness of Network Syntax to
inherent idiosyncrasies of the underlying traceroute
data (e.g., IP alias resolution problem and inability
to trace through layer 2 clouds) and the particulars
of the measurement platform used (e.g., number and
network location of the vantage points).
• An illustration of the potential of Network Syntax with
two use cases – the prediction of missing traﬃc link
volumes in a connectivity graph, and the ranking of
AS-links based on traﬃc volume.

For validation we rely on traﬃc ground-truth data from an
ISP and an IXP; the fact that, as in most Internet studies,
we cannot reveal the sources or share this data, further
motivates our approach.

2. BACKGROUND

There is a large body of work focused on generating,
modeling and analyzing the inter-domain topology. These
include eﬀorts that examine graph properties of the AS
topology as a logical construct [19, 23, 40], techniques to
measure and infer AS-level connectivity [10, 17, 48], ap-
proaches to model and characterize the Internet topol-
ogy [40], or concentrate on the IXP substrate and its
topological
importance [8, 48]. Other eﬀorts have used
traceroute measurements to augment intra-domain router-
level ISP maps by deriving OSPF link weights that are
consistent with routing [35].

Beyond topology, inter-domain traﬃc has been an active
research topic given its importance in a wide range of
contexts, from network engineering to application design.
However, while some research projects have made selected
network traﬃc traces available to vetted researchers [45],
the nearly impossible task of collecting large-scale, Internet-
wide traﬃc data has seriously restricted the focus of traﬃc-
related studies. Previous eﬀorts have thus investigated
traﬃc estimation and characterization (e.g., [6,22,38,42,46]),
but have to rely on close collaboration with ISPs, content
1We are making our own traceroute dataset and Network
Syntax scripts publicly available.

providers or IXPs [16, 20–22, 33] to gain access to the
necessary traﬃc data or be limited by the coarse-grained
nature of publicly available datasets [13].

Some related eﬀorts have explored techniques and method-
ologies for inferring traﬃc matrix elements that are either
not directly measurable [11,24] or missing [38,50–52]. What
distinguishes our approach from these methods is their
reliance,
in one way or another, on link measurements
obtained from either proprietary data or publicly available
traﬃc measurements.2

3. NETWORK SYNTAX

In this section we expand on our descriptions of Network
Syntax,
its methodology and metrics. Network Syntax
applies structural analysis to a dual-representation of the
AS-level connectivity graph, derived from publicly available
traceroute datasets, and uses diﬀerent metrics to capture
the popularity of a network path as a proxy for the volume
of traﬃc it carries.

Drawing analogies with city grids and traﬃc, our approach
adapts metrics of route popularity from urban planning’s
Space Syntax [26,41] for the analysis of inter-domain traﬃc.
The following paragraphs presents a short overview of Space
Syntax. We refer the reader to Hillier et al. [26] for a more
in-depth description.
3.1 Space Syntax Overview

Space Syntax is a conﬁgurational analysis methodology
ﬁrst introduced in 1984 [25] for predicting pedestrian move-
ment in urban settings based on an analysis of the urban
grid. The key observation behind Space Syntax is that the
conﬁguration of space is the driving force behind how cities
operate. Over the years, this observation has been leveraged
to draw correlations between topological accessibility of
spaces and urban features:
from pedestrian and vehicular
ﬂows to land use, and the geographic distribution of various
types of crime [27].

In Space Syntax, cities are represented as “axial maps”
and then transformed into graphs. Axial maps of cities are
obtained by drawing the smallest number of straight lines
(called axial lines) that pass through all open spaces. These
maps are then transformed into graphs by representing the
axial
lines as nodes and interconnecting the nodes that
intersect in the map. This dual representation of the
graph, where nodes are streets and edges are intersections,
focuses on the connectivity of the streets irrespective of their
width, length and location, and enables the identiﬁcation of
concrete metrics for each street. The centrality of a street
or space in this graph is an indication of its importance in
the city operation. Figure 1 shows an example of such a
transformation.

Space Syntax introduces four core syntactic metrics,
three of which can be mapped to an equivalent graph-
theory metric but described using its own terminology. (1)
Connectivity – also known as degree centrality in graph
theory – is the simplest metric for assessing ranking of
nodes within a connectivity graph, it equals the number
of directly linked or neighboring nodes. A closely related
metric (2) Control value measures the degree to which space
controls access to its immediate neighbors by taking into
account the number of alternative connections that each of

2From networks such as Internet2 or GEANT.

2Figure 1: A sample urban system (a), its axial map (b) and
connectivity graph (c).

these neighbors has [31]. It is calculated by summing the
reciprocals of connectivities between neighbors. This metric
can be linked to clustering coeﬃcient in graph analysis.
(3) Global choice – also known as betweenness centrality
in graph theory – captures how often each line is used
on topologically shortest paths from all lines to all other
lines in the system. Finally, (4) Integration – a type of
normalized closeness centrality metric in graph analysis –
measures the mean distance between every segment and all
other segments in the system [32]. The more integrated
segments are those that are closest on average to all other
segments, while the more segregated segments are those
that are furthest on average from all other segments. Many
empirical studies have shown that the integration metric is
accurate in determining which segments are favored by the
conﬁguration [26, 32].
3.2 Network Syntax

We argue that the construction of AS-level connectivity
graphs as carved out by probes of large traceroute campaigns
contain valuable information that can be leveraged through
the use of similar metrics to those of Space Syntax. Carefully
vetted traceroute measurements allow us to derive partial
AS-level connectivity graphs that highlight the actual routes
traversed by data packets. Given that the popularity
of a route on the Internet can serve as an informative
proxy for the volume of traﬃc it carries, we argue that
by concentrating on all the AS-level paths that traverse
a speciﬁc AS, the application of graph structural metrics
can help us identify the popular links connected to those
networks.

We would not expect, however, that the direct application
of these metrics to just any undirected AS-level graph of the
Internet (such as one derived from BGP data) would yield
similar results.
Indeed, as we show in Section 7.1, using
a non-uniform line representation of AS-level connectivity
and analyzing it by measures that are essentially topological
ignores too much contextual
information to be useful.
The mere direct connectivity between two ASes says little
about the utilization of those links for carrying traﬃc
between diﬀerent parts of the Internet, especially when
many important deciding factors such as routing policy are
ignored. After all, as has been pointed out, there are dangers
in taking available data at face value while ignoring domain-
speciﬁc context [47].
3.3 Connectivity Graphs and Metrics

At a high-level, Network Syntax metrics are applied to
connectivity graphs generated for speciﬁc ASes by extracting
the set of AS-level paths present in a traceroute dataset that
traverse each individual AS. Each of the diﬀerent AS-level

Figure 2: Dual
representation of a partial AS-level
connectivity graph. Each AS-link is represented by node,
while the intersection between AS-links (the Autonomous
Systems they interconnect) are represented as edges.

paths is broken down into pairs of hops which represent a
link between those ASes. The connectivity graph is gener-
ated by adopting a dual representation where each AS-link
is transformed into a node, while the intersection between
AS-links (the Autonomous Systems they interconnect) are
represented as edges. Figure 2 shows a connectivity graph
for a subset of important AS-links.

Metrics. The diﬀerent metrics take a speciﬁc meaning
in the context of the dual representation of the AS-level
connectivity-graph.

Connectivity.
In this context, captures the number of
diﬀerent AS-links that precede or succeed each AS-link in
the graph. A high connectivity indirectly captures the
diversity of the diﬀerent end-to-end AS-level paths that
traverse the link.

Control value of an AS-link is deﬁned as the sum of
the reciprocal of its neighbors’ connectivity.
Similar to
connectivity, it captures the diversity of the AS-level paths
that traverse the AS-link by considering the diﬀerent AS-
links that precede or follow its directly connected links.

Global choice measures the popularity of a link by looking
at how likely it is to be passed through on all shortest paths
from all other AS-links in the network. Important links will
lie on a high proportion of paths between other AS-links in
the network.

Integration attempts to capture link popularity by looking
at the average distance from each AS-link to every other AS-
link in the connectivity graph. Using this metric, important
links are identiﬁed as those that are typically “close” (on
average) to other AS-links in the network.

ALTP-frequency. In our context, the popularity of an AS-
link can also be captured by the number of diﬀerent end-to-
end AS-level paths (discovered by the probes of a traceroute
campaign) that traverse the particular link. That is, the
frequency of AS-link Traversing Paths, or ALTP-frequency.
This metric is speciﬁc to Network Syntax and seems to have
no obvious or commonly known parallel in either graph
theory or Space Syntax. We describe how to compute
ALTP-frequency in Section 4.3.

3Dataset
Ono 2011
Ono 2013

Unique VPs

116,978
51,884

Src ASes Dst ASes Probes
12.9M
13.8M

12,010
12,592

2,095
1,351

Table 1: Number of unique vantage points, unique source
ASes and probes for each resulting dataset after applying
the diﬀerent heuristics described in Section 4.2.

4. FROM NETWORK SYNTAX TO INTER-

DOMAIN TRAFFIC

In this section, we start with a description of our datasets:
a collection of traceroutes launched from topologically di-
verse vantage points and the traﬃc datasets we rely on for
ground truth. We describe then how we leverage the AS-
level paths gathered by the probes of traceroute datasets to
derive a connectivity graph upon which core Network Syntax
metrics can be applied.
4.1 Datasets

We evaluate Network Syntax using a traceroute dataset
and traﬃc data, our ground-truth, from two large network
entities: a large European IXP and a global ISP.

Traceroutes. Our traceroute datasets consist of data
collected in two diﬀerence campaigns by topologically di-
verse vantage points.
It contains the probes launched
towards randomly selected IP addresses from the Ono
BitTorrent extension [18]. Ono peers perform measurements
to randomly selected destinations from the set of connections
established through BitTorrent. The datasets consist of all
the measurements gathered between two 30-day periods in
two diﬀerent years – April 1 to 30, 2011 and April 1 to 30,
2013. Table 1 shows a summary of both datasets. The ﬁrst
one consists of ≈12.9 million probes launched by 116,978
distinct vantage points located in 2,143 unique ASes. The
second dataset includes ≈13.8 million probes launched from
51,884 diﬀerent vantage points located in 1,351 diﬀerent
networks.

Traﬃc. To validate our approach, we perform our analysis
in the context of a large European IXP (IXP ) and a
global Tier-1 Internet Service Provider (ISP ). Ground-
truth traﬃc data for IXP consists of sFlow [30] records,
collected over 1-week periods in April 2011 and April 2013,
capturing the traﬃc exchanged over the public peering fabric
of the IXP. Using a random sampling of 1/16K packets, the
resulting traﬃc matrix contains the estimated number of
bytes exchanged between pairs of ASes peering at the IXP.
This detailed information allows us to rank the peerings
based on the volume of (bi-directional) traﬃc they exchange.
The ground-truth data for ISP consists of the traﬃc
exchanged between the ISP and all
its customer ASes.
The data contains per-customer link utilization from SNMP
records for April 2011 and April 2013, and includes the 95th
percentile utilization during the course of the month of the
hourly port utilizations. Traﬃc data is summarized on a
per-customer basis using link aggregation across diﬀerent
physical interfaces for customers with multiple links.

4.2 Methodology

This traceroute-derived AS-level graph is “partial” in that it
does not capture the complete connectivity graph. Since an
AS-level path is a sequence of AS-level links, we call such
AS-level paths ALTPs, for AS-link Traversing Paths.

The following paragraphs formally deﬁne ALTPs and
describe how they are extracted from traceroute datasets
and how they are used to generate a partial connectivity
graph.

Figure 3: Two instances
ALT P (5, 6):

of AS-link Traversing Path
as1, as2, as3, AS5, AS6, as8(cid:105),(cid:104)as4, AS5, AS6, as7(cid:105)

(cid:104)

AS-link Traversing Paths (ALTPs). Formally, an AS-
level path can be deﬁned as a sequence of unique AS-level
links, each connecting a pair of ASes. We denote an AS-
level path as (cid:104)as1, as2, ..., ask(cid:105). We deﬁne an ALT P (x, y)
as an AS-level path that traverses the AS-link (cid:104)x, y(cid:105), i.e.,
(cid:104)as1, ..., x, y, ..., ask(cid:105). Note that (cid:104)as1, ..., x, y, ..., ask(cid:105) and
(cid:104)ask, ..., y, x, ..., as1(cid:105) are considered two diﬀerent ALTPs.
Figure 3 shows an example of such a path. The ALTP
abstraction is directly applicable to paths that traverse an
IXP whose presence is identiﬁed by the preﬁx assigned by
the responsible Internet Registry. The set of all unique
ALTPs found in a dataset that traverse a speciﬁc AS-link is
called the ALTP-set of that link.

From probes to AS-level paths. We extract AS-level
paths from diﬀerent traceroute datasets using public IP-to-
AS mapping and correcting for inconsistencies with BGP
information [17].
For paths that traverse an IXP, we
follow [10] to assign conﬁdence levels to the discovered IXP-
peerings.

We ﬁrst prune our dataset by eliminating loops and cycles
and ﬁltering private and reserved IP ranges and remove the
associated hops if they appear at the ends of the probe. We
convert IP-level to AS-level paths using the AS mapping
derived from publicly available BGP information. From the
derived set we then conservatively remove any probes with
unknown AS-hops in the path, probes for which the source
or destination AS cannot be mapped3, and probes for which
the ﬁnal AS-level path is too short (probes within the same
AS).

We then apply known heuristics [17] to correct the set of
AS-level paths, but preserving the IP addresses belonging to
known IXP hops. IXP mapping requires a complete list of
preﬁxes assigned to the diﬀerent IXPs and the list of their
AS members which we obtain from centralized databases
like PCH [2], PeeringDb [3] and EuroIX [1], and websites
maintained by the IXPs themselves. We remove obsolete

We generate the partial connectivity graph for a particular
ASX from the total set of AS-level paths that include ASX,
i.e., paths that include AS-level links that connect to ASX.

3Since the removed links appear only in the discarded paths,
they are not popular and their removal has no impact on our
ﬁndings.

4records (inactive IXPs) and match IXPs with diﬀerent
names that represent the same entity. We assign conﬁdence
levels to the discovered IXP peerings following the approach
in [10] labeling as high-conﬁdence those peerings for which
we have probes traversing the peering in both directions
or those for which the ASes at both sides of the peering
have been identiﬁed as members of the IXP from BGP data
collected at the IXP. For our analysis we consider only these
high-conﬁdence peerings.

AS-Link connectivity graphs. To generate the connec-
tivity graph for the various Autonomous Systems we extract
the set of ALTPs present in the dataset that traverse links
connected to each speciﬁc AS. As described in Section 3.2,
each diﬀerent ALTP is broken down into pairs of hops which
represent a link between those ASes, and a dual-connectivity
graph is generated where each AS-link is transformed into a
node, while the intersection between links (the Autonomous
Systems they interconnect) are represented as edges.
4.3 Computing ALTP-frequency

Having introduced partial connectivity graphs and for-
mally deﬁned ALTPs, we can now describe how to compute
the Network Syntax ALTP-frequency metric. Using the
derived set of AS-level paths, we compute the ALTP-sets
for all the AS-links of interest found in those paths.

The relative cardinality of the ALTP-set of an AS-link, in
a set S, is the cardinality of its ALTP-set divided by the
sum of the cardinalities of the ALTP-sets of every AS-link
in S. This relative cardinality is what we refer to as ALTP-
frequency.

5. EVALUATION

In this section, we apply the approach outlined in Sec-
tions 3 and 4 to the links of IXP and ISP present in our
2011 and 2013 traceroute datasets, we then analyze the rela-
tion between the diﬀerent Network Syntax metrics and the
links’ traﬃc volumes. Note that the idea of route popularity
applies equally well to physical and logical AS-links between
ASes. As a result, the Network Syntax approach can be
applied in both our IXP and ISP scenarios for which the
available measurements provide ground truth about traﬃc
traversing physical and logical AS-links, respectively.

In our analysis, we rely on a number of statistical tech-
niques that assume normally distributed variables. However,
as we show next, this assumption does not necessarily
hold for all the variables we are interested in. A well-
known remedy for failure of normality expected by many
parametric tests [9, 28, 44] is to apply appropriately-chosen
transformations.
In our analysis, whenever necessary, we
use the most appropriate transformation for the diﬀerent
variables.
5.1 Trafﬁc distribution

We ﬁrst look at the traﬃc distribution for the subset of
AS-links discovered by the diﬀerent traceroute campaigns
for both ISP and IXP . We extract from the corresponding
traﬃc matrix (derived from the ground-truth traﬃc data)
the amount of traﬃc each link carries, and generate a
histogram of their traﬃc distribution. Figure 4 shows this
histogram for the links of IXP discovered by the April 2011
traceroute campaign. As it is clear from the ﬁgure, the links’
traﬃc follows a power-law distribution with several heaviest

Figure 4: Distribution of traﬃc for all peerings in traﬃc
matrix for IXP , April 2011.

Figure 5: Comparing the goodness of ﬁt of normalized
traﬃc (blue line) with log-normal distribution. Dashed
green line:
log-normal ﬁt starting from the optimal
xmin=23.41, alpha=2.1. Dashed red line: exponential
ﬁt starting from the same xmin.

Figure 6: Complimentary CDF of the cumulative fraction
of traﬃc for all AS-links of ISP and IXP discovered by our
traceroute datasets.

links carrying most of the traﬃc and the majority of the
links carrying very little traﬃc.

Figure 5 shows the goodness of ﬁt statistical conﬁrmation
that indeed the distribution of per-peering traﬃc (showed
in blue) follows a log-normal distribution (represented by
the dashed-green line), which is consistent with the pre-
viously observed property of intra-domain traﬃc matrix
snapshots [13, 39].

We observe similar distributions in the traﬃc carried
by the links discovered by our April 2011 and April 2013
traceroute datasets for both ISP and IXP . This can be

0.000.010.020.030.040.05NormalizedTrafﬁc(bytes/max)050100150200250300350400450Count102103NormalizedTrafﬁc(base103)10−910−810−710−610−510−410−310−210−1100p(X)NormalizedTrafﬁcexponentialﬁtlog-normalﬁt0.00.20.40.60.81.0FractionofAS-links0.00.20.40.60.81.0CumulativeFractionofTrafﬁcIXP-Apr2013ISP-Apr2013IXP-Apr2011ISP-Apr20115(a) Traﬃc

(b) Connectivity

(c) Control Value

(d) Global Choice

(e) Integration

(f) ALTP-frequency

Figure 7: Distribution of the transformed diﬀerent metrics and traﬃc volume for all AS-links discovered in the April 2011
traceroute datasets for IXP . Similar distributions are observed for the other datasets and the two studied network entities.

seen in Figure 6, the complimentary CDF of the cumulative
fraction of traﬃc for all the discovered AS-links.
In all
cases, a small fraction of the links carries the majority of
the traﬃc. To approximate normality in the cases where the
dependent variable denotes traﬃc volume, we use the fourth
root transformation for its highly skewed distribution (see
Figure 7a).

5.2 Network Syntax analysis

We start by selecting, from our traceroute datasets, the
ALTP-sets for all relevant AS-links that traverse IXP and
ISP . We generate separate AS-link connectivity graphs
for each dataset and compute the diﬀerent Network Syntax
metrics for each link present in the graph. Finally we
plot each AS-link against the volume of traﬃc it carries as
indicated by our traﬃc matrix.

To reduce the potential noise on the correlations intro-
duced by particular AS-links (e.g., due to sampling issues),
we use the diﬀerent metrics to order AS-links, breaking ties
based on connectivity, and cluster them in equal sized groups
of ten links 4. For each group, we compute its value for both
the relative corresponding metric and carried traﬃc, as the
average of the individual values of the AS-links within the
group.

The diﬀerent Network Syntax metrics present varied
distributions. As shown in Figure 7e, the integration
metric is already close to normal and is used without
transformation.
Furthermore, while the control metric
(Figure 7c) is approximately normalized with the help of
a logarithmic transformation, for the rest of the metrics, we
achieve the desired approximate normality using the fourth
root transformation (see Figures 7b, 7d and 7f). Having
transformed the distributions of the dependent (i.e., traﬃc
volume) as well as independent variables, we can study

4Diﬀerent clusters sizes yield similar trends.

the relationships between traﬃc volume and the diﬀerent
Network Syntax metrics.

Figures 8 to 11 show the correlations between the ﬁve
Network Syntax metrics and traﬃc volume for the links of
ISP and IXP found in our traceroute datasets. The ﬁgures
are presented side by side to facilitate horizontal and vertical
comparisons between metrics and across datasets.

ALTP-frequency and connectivity have the strongest cor-
relation coeﬃcients, with the integration metric having the
weakest one of all. The correlation with ALTP-frequency
has r2 values as high as 0.95 (ISP in April 2013) with the
lowest value at 0.71 (for IXP in April 2013). We argue
that this strong correlation comes from the fact that ALTP-
frequency more directly captures the popularity of the high-
traﬃc links.

The connectivity metric shows consistently strong correla-
tions as well, with r2 values ranging between 0.61 (for IXP
April 2011) to 0.95 (for ISP April 2013). Recall that this
metric captures the degree of each node in the connectivity-
graph which correspond to a diﬀerent AS-link in our dual
representation of the AS-level connectivity-graph. As such,
a large connectivity value captures the number of diﬀerent
AS-links that precede or succeeds it on the ALTPs identiﬁed.
The connectivity metric, then, captures the diversity of the
ALTPs that traverse through the link; it indirectly captures
the ALTP-frequency of the link.

The correlation between traﬃc volume and the control
value metric, while still strong, is comparably lower with
a minimum r2 value of 0.52 (for IXP April 2013) and a
maximum value of 0.76 (for ISP April 2011). Although
this metric is based on the connectivity values of a link’s
neighbors,
it can overestimate the popularity of an AS-
link given that the high connectivity of a neighbor can be
partially due to AS-links traversed by paths that never cross
the link in question.

The integration metric highlights the AS-links that have
the shortest average path to every other AS-link in the

050100150200250300350400450(Trafﬁc)1/40.0000.0020.0040.0060.0080.010Countµ=99.288,σ=51.7320.050.100.150.200.250.30(Connectivity)1/4051015202530Countµ=0.124,σ=0.033−2.5−2.0−1.5−1.0−0.50.00.51.01.52.0log10(ControlValue)0.00.10.20.30.40.50.6Countµ=−0.778,σ=0.7140.000.050.100.150.200.250.300.350.40(GlobalChoice)1/40123456789Countµ=0.115,σ=0.0510123456789Radius2Integration0.000.050.100.150.200.250.300.350.40Countµ=3.922,σ=1.3201.01.52.02.53.03.54.04.55.0(ALTP-frequency)1/40.00.51.01.52.02.5Countµ=1.352,σ=0.4446(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

(e) ALTP-frequency

Figure 8: Correlation between connectivity, control value, global choice, local integration metric (integration radius 2) and
ALTP-frequency with traﬃc volume for IXP for April 2011.

(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

(e) ALTP-frequency

Figure 9: Correlation between connectivity, control value, global choice, local integration metric (integration radius 2) and
ALTP-frequency with traﬃc volume for IXP for April 2013.

network. The results for this metric present the largest
variations in terms of correlation for the diﬀerent datasets,
ranging from 0.356 (for IXP April 2013) to 0.826 (for ISP
2011).

Finally, recall that global choice takes into account the
relations between each node and the whole system.
It
indexes how often each line is used on topologically shortest
paths from all
lines to all other lines in the system.
It thus, ﬁnds the AS-links that are necessary conduits
for information that must traverse disparate parts of the
network. The ﬁgures show that the correlation of this metric
with traﬃc volume is also signiﬁcant, with r2 values between
0.58 (for IXP April 2013) and 0.90 (for ISP April 2013).

IXP

ISP

Apr 2011 Apr 2013 Apr 2011 Apr 2013

Connectivity
Control Value
Global Choice
Integration
ALTP-freq

0.729
0.685
0.661
0.575
0.799

0.617
0.521
0.580
0.356
0.713

0.789
0.759
0.653
0.826
0.965

0.954
0.750
0.903
0.629
0.958

Table 2: r2 values of the diﬀerent metrics for ISP and IXP .

The values in Table 2 show that, although the diﬀerent
datasets vary in their degree of correlation, the regression
lines are more or less coincident. While varying with
context, a correlation coeﬃcient greater than 0.5 is generally
considered strong, and values greater than 0.8 as very strong
correlation. The table shows the values of the coeﬃcient
of determination resulting from our regression analysis –

nearly all (19/20) the r2 values are above 0.5 and the ALTP-
frequency values range between 0.7 and 0.96.

While the ALTP-frequency metric outperforms the rest
of the metrics, there is a strong correlation between the
diﬀerent metrics and traﬃc. Exploring the relationship
between diﬀerent variables is part of future work.
6. USE CASES

In this section, we illustrate the potential uses of Network
Syntax using two use-cases: (i) predicting missing traﬃc link
volumes in a connectivity graph and, (ii) ranking AS-Links
based on their traﬃc volume.
6.1 Predicting link trafﬁc

We have shown in Section 5.2 that the fraction of traﬃc
carried by the AS-links identiﬁed in massive traceroute
datasets strongly correlates with the diﬀerent Network
Syntax metrics when those links are clustered in small
groups. We now show that it is possible to leverage this
strong correlation to estimate the traﬃc volume of arbitrary
links, in the absence of ground-truth traﬃc data as long
as we have information about the traﬃc for a subset of
the remaining links in the connectivity graph. We do this
using the April 2013 datasets for ISP ; similar results were
obtained using the remaining datasets.

In this analysis we employ a subset of the clusters of AS-
links to compute the correlation and corresponding regres-
sion line between traﬃc volume and the Network Syntax
metric with the strongest correlation: ALTP-frequency. We
then use the computed parameters to estimate the traﬃc
volume of the remaining clusters of links by using their
ALTP-frequency as proxy.

0.050.100.150.200.250.30(Connectivity)1/4050100150200250300(Trafﬁc)1/4r=0.854,r2=0.729−3−2−1012log10(ControlValue)050100150200250300(Trafﬁc)1/4r=0.828,r2=0.6850.00.10.20.30.4(GlobalChoice)1/4050100150200250300350(Trafﬁc)1/4r=0.813,r2=0.661−20246810Radius2Integration050100150200250300(Trafﬁc)1/4r=0.758,r2=0.575012345(ALTP-frequency)1/4050100150200250300(Trafﬁc)1/4r=0.894,r2=0.7990.050.100.150.200.250.30(Connectivity)1/4050100150200250300(Trafﬁc)1/4r=0.785,r2=0.617−3−2−1012log10(ControlValue)050100150200250300(Trafﬁc)1/4r=0.722,r2=0.5210.000.050.100.150.200.250.300.35(GlobalChoice)1/4050100150200250300(Trafﬁc)1/4r=0.762,r2=0.580−202468Radius2Integration050100150200250300(Trafﬁc)1/4r=0.597,r2=0.3560.51.01.52.02.53.03.5(ALTP-frequency)1/4050100150200250300(Trafﬁc)1/4r=0.845,r2=0.7137(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

(e) ALTP-frequency

Figure 10: Correlation between connectivity, control value, global choice , local integration metric (integration radius 2) and
ALTP-frequency with traﬃc volume for ISP for April 2011.

(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

(e) ALTP-frequency

Figure 11: Correlation between connectivity, control value, global choice, local integration metric (integration radius 2) and
ALTP-frequency with traﬃc volume for ISP for April 2013.

To reduce the number of links per cluster as much as
possible, we start by generating clusters of size ten as
described in Section 5.2. We then remove,
from each
individual cluster, the AS-links that diverge from the median
cluster ALTP-frequency by at least one standard deviation
(a total of 25 links out of 147). This allows us to use the
remaining links to generate clusters of half their original size
while maintaining a similarly strong correlation.5 Figure 12
shows this correlation and corresponding regression line for
ISP for clusters of size ﬁve for the remaining 122 links.

We vary the fraction of clusters used to compute the
regression line from 65% to 85% of the available clusters
(in increments of 5%) and compute the diﬀerence, in orders
of magnitude, between the median estimated traﬃc values
and the actual traﬃc values (from the ground-truth) for the
remaining clusters.6
If the estimated and real value fall
within the same order of magnitude (say, between 0 and
10MB or between 10 and 100MB), then the diﬀerence is zero.
A diﬀerence between the estimated and real value of 1, on
the other hand, means we may have under/over-estimated
the traﬃc volume by one order of magnitude (e.g., declaring
it to be in 50MB when it is closer to 5MB).

Figure 13 shows the result of our analysis after repeating
our random selection for each percentage of clusters, 500
times. The ﬁgure plots the median diﬀerence between
estimated and actual traﬃc volumes for each of the diﬀerent
fractions. For the median case, ≈80% of the estimated
5We observed similar results using clusters of size ten,
without removing any links from the original sets.
6We considered the use of OC-based bucketing for this case
study, but decided against it as our analysis compares groups
of links rather than individual ones.

values fall within the same order of magnitude as the ground-
truth values.

To characterize the size estimation errors for the link
clusters with predicted and real values within the same order
of magnitude, we compute the normalized mean absolute
error between the median estimated and ground-truth traﬃc
volumes. Figure 14 plots the mean estimation error for
the diﬀerent fractions of clusters used to compute the
regression line. The ﬁgure shows the standard deviation
logically varies depending on the fraction of clusters used.
That is, increasing the number of points used to compute
the ﬁt decreases the number of clusters left for value
estimation, making estimation errors more noticeable for
smaller clusters. However, although for some clusters of
links the traﬃc prediction estimates can be oﬀ by a large
margin (e.g., predicting traﬃc to be 5MB when it was
close to 1MB yields an error of 500%), the ﬁgure shows
that the mean value remains relatively stable around 0.5,
indicating that, on average, the median estimated traﬃc (in
megabytes) diﬀers from the cluster’s real value by ≈50%.
While we acknowledge that order of magnitude is a coarse
approximation, we argue this is a valuable ﬁrst step at
inferring traﬃc volumes that are not directly measurable
at scale or without access to a collection of proprietary data
(e.g., Arbor Network’s collection of inter-domain traﬃc data
from some 110 commercial networks [33]). For instance, the
approximate nature of alternative methods that formulate
inter-domain traﬃc estimation as a matrix completion prob-
lem [24] is largely unknown.

0.050.100.150.200.250.300.35(Connectivity)1/450100150200250(Trafﬁc)1/4r=0.889,r2=0.789−3−2−1012log10(ControlValue)50100150200250(Trafﬁc)1/4r=0.871,r2=0.7590.000.050.100.150.200.250.300.35(GlobalChoice)1/450100150200250(Trafﬁc)1/4r=0.808,r2=0.65345678910Radius2Integration50100150200250(Trafﬁc)1/4r=0.909,r2=0.8260123456(ALTP-frequency)1/450100150200250(Trafﬁc)1/4r=0.982,r2=0.9650.050.100.150.200.250.300.35(Connectivity)1/450100150200250300(Trafﬁc)1/4r=0.954,r2=0.911−3−2−1012log10(ControlValue)50100150200250(Trafﬁc)1/4r=0.866,r2=0.7500.050.100.150.200.250.300.35(GlobalChoice)1/4100150200250(Trafﬁc)1/4r=0.950,r2=0.903345678910Radius2Integration50100150200250300(Trafﬁc)1/4r=0.793,r2=0.6290123456(ALTP-frequency)1/450100150200250300(Trafﬁc)1/4r=0.979,r2=0.9588traceroute dataset and rank those links a second time, based
on the selected Network Syntax metric. As before, to reduce
the potential noise introduced by the ranking of individual
AS-links, we cluster them in equal-sized groups (ten in this
case). For each group, we compute its ranking for both the
relative Network Syntax metric and carried traﬃc, as the
average of the individual rankings of the AS-links within the
group. Given the strong correlation between the diﬀerent
Network Syntax metrics and traﬃc volume, potentially any
of the metrics could be used to rank the links. For this
analysis we select the two metrics with the highest degree of
correlation: connectivity and ALTP-frequency, and compare
their results.

Figures 15 and 16 show the correlation between traﬃc-
based ranking and connectivity or ALTP-frequency respec-
tively, for both IXP and IXP . The ﬁgures show strong r2
for all four dataset using both Network Syntax metrics.
However ALTP-frequency r2 values are slightly higher than
their connectivity counterpart, with values as high as 0.95 in
the case of ISP and 0.75 in the case of IXP . Regardless, the
results from this analysis show that using Network Syntax
metrics to rank AS-links can be eﬀectively used to rank links
based on the amount of traﬃc they carry.

7. DISCUSSION

In this section, we elaborate on three critical issues: (i)
wether the application of Network Syntax analysis to AS-
level connectivity graphs derived from BGP data works as
intended, (iii) the robustness of the approach to the known
pitfalls of IP-to-AS level mapping for AS topology inference
when using traceroute datasets, and (iii) the impact of
diﬀerent traceroute dataset characteristics on the results
from Network Syntax metrics.
7.1 BGP-derived connectivity-graphs

As we discussed in Section 3.2, Network Syntax can not be
applied to just any AS-level connectivity graph but depends
on the information embedded in the graph inferred from
traceroute datasets. To illustrate this we apply Network
Syntax to the connectivity graph for ISP derived from
the subset of AS-level paths contained in the public BGP
view [5] for April 2011. Speciﬁcally, we extract all the
BGP announcements that contain the AS number for ISP ,
derive their corresponding AS-level paths, and generate the
connectivity-graph. We then compute the diﬀerent Network
Syntax metrics and evaluate our ﬁndings in the context
of the ground-truth traﬃc data for ISP for same time
period. As in Section 5, we ﬁrst rank the links based on the
corresponding metric and create clusters of ten links before
examining the correlation.

Figure 17 shows the results of our analysis for the subset
of 2,016 links identiﬁed in the dataset for the connectivity,
control value, global choice and integration metrics. Since
this analysis is based on AS-level paths extracted from
BGP announcements, no traceroute probes were available
to compute the ALTP-frequency metric.

The ﬁgure shows that, as anticipated, none of the met-
rics are strongly correlated with traﬃc volume.
In most
cases, links are clustered together either on the lower left
side of the plot (corresponding to low traﬃc volume and
nearly identical Network Syntax metric) as is the case in
Figures 17c, 17b and 17c, or mostly grouped on the right
lower side of the plot (which corresponds to high Network

Figure 12: Correlation between ALTP-frequency and traﬃc
volume for ISP for April 2013 with clusters of size 5.

Figure 13: Traﬃc prediction using ALTP frequency.

Figure 14: Traﬃc prediction using ALTP frequency.

6.2 Ranking AS-Links based on Trafﬁc Vol-

ume

As our second use case, we show that ranking AS-links
based on diﬀerent Network Syntax metrics can be used as a
proxy for the traﬃc-volume based ranking of those links.

For this analysis, we start by ranking the AS-links based
on the amount of traﬃc they carry using our ground-truth
traﬃc. We then select the subset of links identiﬁed on our

0123456(ALTP-frequency)1/450100150200250300350(Trafﬁc)1/4r=0.909,r2=0.827012Orderofmagnitudedifference(actual/predicted)02040608010072.727.30.072.627.40.074.825.20.074.825.20.075.724.30.0657075808560657075808590pctclusterstocomputeﬁt0.00.20.40.60.81.0meandeviationfromrealvalue9(a) IXP April 2011

(b) IXP April 2013

(c) ISP April 2011

(d) ISP April 2013

Figure 15: Ranking based on connectivity and traﬃc volume.

(a) IXP April 2011

(b) IXP April 2013

(c) ISP April 2011

(d) ISP April 2013

Figure 16: Ranking based on ALTP-frequency and traﬃc volume.

(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

Figure 17: Correlation between Network Syntax metrics and traﬃc volume (BGP dataset) for ISP April 2011.

Syntax metric and low traﬃc volume) in the case of 17d.
The seemingly moderately strong r2 values are mostly driven
by a few outliers, but it is apparently clear from the ﬁgures
that the cluster of links are not cleanly distributed around
the regression line (in contrast to Figures 10 and 11). This
analysis shows that it is the data-plane and not the control-
plane perspective that is relevant for Network Syntax.

7.2 Errors in traceroute-to-AS mappings

The pitfalls of IP-to-AS level mapping for AS topology
inference are well-known. The common approach of using
longest preﬁx matching to map the routers’ IP addresses of a
traceroute to AS numbers is known to generate potentially

false AS links [49]. Several previous research eﬀorts have
studied these pitfalls [15,17,29,36,37] and identiﬁed common
causes for the mismatch which range from the incomplete-
ness of IP-to-AS mappings gathered from publicly available
BGP feeds, to the constraints inherent to the traceroute
measurement itself (e.g., routers silently dropping probes or
not altering packets’ TTL). We correct our datasets to avoid
these pitfalls, as described in Section 4.2.

In this section we explore the robustness of Network
Syntax when applied to traceroute datasets with some of
these well known problems. We do this by computing the
diﬀerent Network Syntax metrics on the un-corrected April

−1012345Degreepathranking×10+3010002000300040005000Trafﬁcrankingr=0.810,r2=0.656−101234Degreepathranking×10+301000200030004000Trafﬁcrankingr=0.709,r2=0.502−0.50.00.51.01.52.02.53.0Degreepathranking×10+2050100150200250Trafﬁcrankingr=0.964,r2=0.9300.00.51.01.5Degreepathranking×10+220406080100120140Trafﬁcrankingr=0.949,r2=0.900−10123456AS-levelpathranking×10+30100020003000400050006000Trafﬁcrankingr=0.866,r2=0.750−1012345AS-levelpathranking×10+3010002000300040005000Trafﬁcrankingr=0.812,r2=0.6590.00.51.01.52.02.53.0AS-levelpathranking×10+2050100150200250300Trafﬁcrankingr=0.987,r2=0.9750.00.51.01.5AS-levelpathranking×10+220406080100120140Trafﬁcrankingr=0.987,r2=0.9740.050.100.150.200.250.30(Connectivity)1/4050100150200250(Trafﬁc)1/4r=0.632,r2=0.399−4−202log10(ControlValue)050100150200(Trafﬁc)1/4r=0.792,r2=0.627−0.10.00.10.20.30.4(GlobalChoice)1/4050100150200250(Trafﬁc)1/4r=0.681,r2=0.46489101112Radius2Integration050100150200(Trafﬁc)1/4r=0.336,r2=0.11310(a) Connectivity

(b) Control Value

(c) Global Choice

(d) Integration

(e) ALTP-frequency

Figure 18: Correlation between connectivity, control value, global choice , local integration metric (integration radius 2) and
ALTP-frequency with traﬃc volume for ISP for April 2011 using the CAIDA traceroute dataset.

(a) IXP April 2011

(b) IXP April 2013

(c) ISP April 2011

(d) ISP April 2013

Figure 19: Correlation between ALTP-frequency and traﬃc volume for IXP and ISP using CAIDA datasets.

False AS links problems

Internet eXchange Points (IXPs)

Sibling ASes

Unannounced IP addresses
Using outgoing interface IPs
Private peering interface IPs

Table 3: Summary of problems within traceroute-inferred
AS-level paths addressed by the ﬁltering heuristics proposed
in [17].

Ono April 2011

1. Repeated Hop
2. Unk Hop in Path
3. Unk Src or Dst ASN
4. Path too Short

19%
47%
5%
30%

Table 4: Percentage of probes dropped by each of the
extraction rules.

2011 traceroute dataset for ISP and comparing the resulting
correlation with the corrected version.

To generate this alternative dataset we apply the same
basic traceroute sanitation process described in Section 4.2
but stop before the application of the correction heuristics
described in [17], wich we summarize in Table 3. The
basic sanitation process conservatively discards ≈61% of our
initial dataset and reduces the number of probes to 12.9M.

Table 4 presents a summary of the fraction of traceroutes
dropped by each of our basic sanitation rules.

Un-corrected Corrected

Connectivity
Control Value
Global Choice
Integration
ALTP-frequency

0.759
0.708
0.314
0.749
0.919

0.789
0.759
0.653
0.826
0.965

Table 5: r2 values of the diﬀerent metrics for ISP using the
April 2011 dataset.

Table 5 presents a comparison of the r2 values for the
diﬀerent metrics when Network Syntax is applied to the
connectivity graphs that result from both the un-corrected
and corrected versions of the dataset. The results show that
the application of the diﬀerent correction heuristics does
improve correlation between traﬃc volume an the diﬀerent
metrics, but most metrics (with the exception of global
choice) still show signiﬁcant r2 values when computed using
the un-corrected dataset.

When comparing both the corrected and un-corrected
datasets, we note that the amount of traceroutes modiﬁed
by the diﬀerent correction heuristics accounts for ≈16% of
the probes; which ultimately map to approximately 6% of
the end-to-end AS-level in the dataset. The results from
Table 5 highlight the robustness of Network Syntax when
identifying popular AS-links in the presence of mis-mapped
paths in the underlaying connectivity-graph.

0.10.20.30.40.5(Connectivity)1/450100150200250(Trafﬁc)1/4r=0.844,r2=0.713−3−2−1012log10(ControlValue)406080100120140160180(Trafﬁc)1/4r=0.848,r2=0.7190.00.10.20.30.40.5(GlobalChoice)1/450100150200(Trafﬁc)1/4r=0.889,r2=0.791456789Radius2Integration406080100120140160180(Trafﬁc)1/4r=0.858,r2=0.737012345(ALTP-frequency)1/4050100150200250(Trafﬁc)1/4r=0.910,r2=0.829−0.50.00.51.01.52.0AS-levelpathranking×10+3050010001500Trafﬁcrankingr=0.717,r2=0.514−0.50.00.51.01.52.0AS-levelpathranking×10+32004006008001000120014001600Trafﬁcrankingr=0.634,r2=0.402−10123456AS-levelpathranking×10+20100200300400500600Trafﬁcrankingr=0.819,r2=0.671−202468AS-levelpathranking×10+20100200300400500600700Trafﬁcrankingr=0.855,r2=0.731117.3 Other datasets

We have shown that applying Network Syntax metrics
to AS-level connectivity graphs using paths extracted from
massive traceroute datasets reveals a strong correlation
between traﬃc volume and the diﬀerent metrics. We
now apply the same technique to a diﬀerent dataset, one
collected from CAIDA’s Ark monitors for the same time
periods. This tracerotue dataset consist of probes launched
towards randomly selected IP addresses from CAIDA’s Ark
monitors [12] which probe IP addresses from every routable
IPv4 /24 preﬁx in cycles of approximately 48 hours. For
this analysis, we combined data from three diﬀerent probing
cycles completed by diﬀerent sets of Ark monitors between
April 1-7, 2011 and April 1-7, 2013.

Figure 18 shows a comparison of the correlation between
traﬃc volume and the diﬀerent Network Syntax metrics for
the CAIDA 2011 dataset for ISP 7. The observed trends
are similar to those seen in Section 5.2, where the amount
of traﬃc carried by the clustered links strongly correlates
with the diﬀerent Network Syntax metrics. Additionally,
Figure 19 shows a comparison of the correlation of AS-link
ranking based on traﬃc volume versus ranking based on
ALTP-frequency, using the CAIDA dataset for both IXP
and ISP . The same trends as those seen in Section 6.2 can
be observed for both network entities, with clusters of links
carrying larger amounts of traﬃc corresponding to higher
ALTP-frequency links.

Even though in both cases the correlations can still be
observed, the r2 values are smaller than their Ono-dataset
counterpart. We argue that this is due to a fundamental
diﬀerence on how the underlaying traceroutes were collected.
As Table 6 shows, although the tracerotues of both the
Ono and CAIDA datasets contain millions of traceroutes
launched against a large number of diﬀerent destination
ASes; there is a 2-order of magnitude diﬀerence in the
number of source ASes from where the probes were launched.
Even though the correlation is still present, the r2 values
are smaller than their Ono-dataset counterpart. We argue
that this is due to a fundamental diﬀerence on how the
underlaying traceroutes were collected. As Table 6 shows,
although the tracerotues of both the Ono and CAIDA
datasets contain millions of traceroutes launched against a
large number of diﬀerent destination ASes; there is a 2-order
of magnitude diﬀerence in the number of source ASes from
where the probes were launched.

As discussed in [34], one consequence of taking measure-
ments using a small number of sources and relying on an end-
to-end strategy, is that edges are selected disproportionately,
so bias arises when edges incident to a node in the underlying
graph are sampled disproportionately. Thus, an edge is
much more likely to be visible if it is close to the vantage
point that discovered them. To explore this potential issue,
we focus our analysis on the CAIDA 2011 dataset and look
at the discovered AS-links as the intersection of the number
of probes that crossed through them vs the corresponding
number of ALTPs that contain it. We concentrate on the
top AS-link with the largest number of ALTPs which is
seen by almost 10K ALTPs and was discovered by almost
half a million probes. Closer inspection shows that the
link connects AS195 (San Diego Supercomputer Center) and

7Similar trends were observed for both IXP and ISP using
CAIDA’s 2011 and 2013 datasets.

Dataset

Unique VPs

CAIDA 2011
CAIDA 2013

53
65

Src ASes Dst ASes Probes
26.9M
48.9M

36,034
42,440

52
60

Table 6: Number of unique vantage points, unique source
ASes and probes for each dataset.

AS2152 (the California State University Network) at SD-
NAP (an IXP located in San Diego, CA), and that all the
probes responsible for discovering this link correspond to a
CAIDA Ark monitor placed in the San Diego Supercomputer
Center. A similar scenario was observed for the other
top three links. This highlights that the location of the
vantage points can lead to erroneous inferences about a link’s
popularity.

8. CONCLUSIONS AND FUTURE WORK
We advance the state-of-the-art in traﬃc characterization
by presenting a novel technique to infer traﬃc volumes from
AS-level routing graphs carved out by massive traceroute
campaigns. Our Network Syntax approach builds on the
observation that the popularity of a route on the Internet
can serve as an informative proxy for the volume of traﬃc
it carries. Drawing analogies with city grids and traﬃc,
Network Syntax applies structural analysis and metrics to
predict with high accuracy the inter-domain traﬃc volume
carried by diﬀerent links. We demonstrated the eﬀectiveness
of our approach using two months of data (collected two
years apart) from a Tier-1 Internet Service Provider and a
large Internet eXchange Point, by identifying traﬃc-critical
links and inferring missing traﬃc matrix measurements.

We evaluated four diﬀerent publicly available traceroute
datasets, but selected two for inclusion (due to space
constraints) representing diﬀerent standpoints with respect
to type and location of vantage points. Multiple other
datasets collected over the years could be leveraged by
our technique, such as RIPE’s Atlas project [4], or those
collected from the DIMES project [43].

Going forward, Network Syntax opens a rich research
agenda from speciﬁc methodological aspects (e.g., diﬀerent
metrics and datasets attributes) to applications of a better-
understood ﬂow of Internet traﬃc. Could we identify high-
traﬃc links in the context of arbitrary AS-links on the
Internet, i.e. can we establish the relative importance of
a pair AS-links not tied to a speciﬁc network? This could
be used,
for instance, to augment existing AS-topology
maps with the relative importance of links based on traﬃc
carried. Could Network Syntax, perhaps in combination
with existing techniques, be used to complete partial-traﬃc
matrixes? Given our new ability to leverage long-available
traceroute datasets, what could this approach tell us about
the variability and evolution of the Internet over time?

Acknowledgements
We would like to thank our shepherd, Paul Barford, and
the anonymous reviewers for their valuable feedback and
assistance. Georgios Smaragdakis was supported by the
EU Marie Curie International Outgoing Fellowship “CDN-
H” (PEOPLE-628441). This work was supported in part
by the National Science Foundation through Awards CNS

120644062, CNS 0917233 and CNS 0855253 and by a generous
Google Faculty Research Award.

9. REFERENCES
[1] European Internet Exchange Association.

https://www.euro-ix.net/.

[2] Packet Clearing House. https://www.pch.net/.
[3] PeeringDB. https://www.peeringdb.com/.
[4] Ripe. http://www.ripe.net/project/ris.
[5] University of Oregon Route Views Project.

http://www.routeviews.org/.

[6] Adhikari, V. K., Jain, S., and Zhang, Z.-L.

Youtube traﬃc dynamics and its interplay with a
Tier-1 ISP: an ISP perspective. In Proc. of IMC
(2010).

[7] Ager, B., Chatzis, N., Feldmann, A., Sarrar, N.,

Uhlig, S., and Willinger, W. Anatomy of a large
european IXP. In Proc. of ACM SIGCOMM (2012).

[8] Ahmad, M. Z., and Guha, R. Understanding the

impact of Internet eXchange Points on Internet
topology and routing performance. In Proc. of the
ACM CoNEXT Student Workshop (2010).

[9] Atkinson, A. Plots, transformations, and regression.
Oxford science publications. Clarendon Press, Oxford,
1985.

[10] Augustin, B., Krishnamurthy, B., and

Willinger, W. IXPs: Mapped? In Proc. of IMC
(2009).

[11] Bharti, V., Kankar, P., Setia, L., G¨ursun, G.,
Lakhina, A., and Crovella, M. Inferring invisible
traﬃc. In Proc. of ACM CoNEXT (2010).

[12] CAIDA. The CAIDA UCSD IPv4 Routed /24

Topology Dataset - 1-7 April 2011 and 1-7 April 2013.
http://www.caida.org/data/active/ipv4_routed_
24_topology_dataset.xml.

[13] Cardona Restrepo, J. C., and Stanojevic, R. A

History of an Internet eXchange Point. SIGCOMM
Comput. Commun. Rev. 42, 2 (2012), 58–64.

[14] Chang, H., Jamin, S., Morley, Z., and

Willinger, M. W. An empirical approach to
modeling Inter-AS traﬃc matrices. In Proc. of IMC
(2005).

[15] Chang, H., Jamin, S., and Willinger, W. Inferring

AS-level internet topology from router-level path
traces. In Proc. of SPIE ITCom (2001).

[16] Chatzis, N., Smaragdakis, G., Boettger, J.,

Krenc, T., and Feldmann, A. On the beneﬁts of
using a large IXP as an Internet vantage point. In
Proc. of IMC.

[17] Chen, K., Choffnes, D. R., Potharaju, R.,

Chen, Y., Bustamante, F. E., Pei, D., and Zhao,
Y. Where the sidewalk ends: Extending the Internet
AS graph using traceroutes from P2P users. In Proc.
of ACM CoNEXT (2009).

[18] Choffnes, D. R., and Bustamante, F. E. Taming

the torrent: A practical approach to reducing
cross-ISP traﬃc in peer-to-peer systems. In Proc. of
ACM SIGCOMM (2008).

[19] Dhamdhere, A., and Dovrolis, C. Ten years in the

evolution of the Internet ecosystem. In Proc. of IMC
(2008).

[20] Fang, W., and Peterson, L. Inter-AS traﬃc

patterns and their implications. In Global
Telecommunications Conference, 1999.
GLOBECOM’99 (1999).

[21] Feldmann, A., Greenberg, A., Lund, C.,

Reingold, N., Rexford, J., and True, F. Deriving
traﬃc demands for operational IP networks:
Methodology and experience. IEEE/ACM
Transactions on Networking (ToN) (2001).

[22] Feldmann, A., Kammenhuber, N., Maennel, O.,
Maggs, B., De Prisco, R., and Sundaram, R. A
methodology for estimating interdomain web traﬃc
demand. In Proc. of IMC (2004).

[23] Gao, L. On inferring autonomous system relationships

in the internet. IEEE/ACM TON 9, 6 (2001).

[24] Gursun, G., and Crovella, M. On traﬃc matrix
completion in the internet. In Proc. of IMC (2012).

[25] Hillier, B., and Hanson, J. The Social Logic of

Space. Cambridge University Press, 1984.

[26] Hillier, B., Penn, A., Hanson, J., Grajewski, T.,
and Xu, J. Natural movement: or, conﬁguration and
attraction in urban pedestrian movement Environment
and Planning B: Planning and Design, 1994.

[27] Hillier, B., and Sahbaz, O. High resolution

analysis of crime patterns in urban street networks: an
initial statistical sketch from an ongoing study of a
London borough. In Space Syntax Symposium (2005),
p. 451ˆa ˘A¸S478.

[28] Howell, D. Statistical Methods for Psychology.

Thomson Wadsworth, 2007.

[29] Hyun, Y., Broido, A., and claffy, k. On

Third-party Addresses in Traceroute Paths. In Proc.
of PAM (2003).

[30] InMon. Inmon sFlow. http://sflow.org.
[31] Jiang, B. A space syntax approach to spatial

cognition in urban environments. In Workshop on
Cognitive Models of Dynamic Phenomena and Their
Representations (1998).

[32] Kostakos, V. Space Syntax and Pervasive Systems.
Geospatial Analysis and Modeling of Urban Structure
and Dynamics (2010), 21–52.

[33] Labovitz, C., lekel Johnson, S., Oberheide, J.,

and Jahanian, F. Internet inter-domain traﬃc. In
Proc. of ACM SIGCOMM (2010).

[34] Lakhina, A., Byers, J. W., Crovella, M., and

Xie, P. Sampling biases in IP topology measurements.
In Proc. Joint Conference of the IEEE Computer and
Communications Societies (2003).

[35] Mahajan, R., Spring, N., Wetherall, D., and

Anderson, T. Inferring link weights using end-to-end
measurements. In Proc. ACM IMW (2002).

[36] Mao, Z. M., Johnson, D., Rexford, J., Wang, J.,
and Katz, R. H. Scalable and accurate identiﬁcation
of AS-level forwarding paths. In INFOCOM (2004).
[37] Mao, Z. M., Rexford, J., Wang, J., and Katz,

R. H. Towards an accurate as-level traceroute tool. In
Proc. of ACM SIGCOMM (2003).

[38] Medina, A., Taft, N., Salamatian, K.,

Bhattacharyya, S., and Diot, C. Traﬃc matrix
estimation: existing techniques and new directions. In
Proc. of ACM SIGCOMM (2002).

13[39] Nucci, A., Sridharan, A., and Taft, N. The

problem of synthetically generating IP traﬃc matrices:
Initial recommendations.

[40] Oliveira, R., Z. B., and Zhang, L. Observing the
evolution of Internet AS topology. In Proc. of ACM
SIGCOMM (2007).

[41] Penn, A., Hillier, B., Banister, D., and Xu, J.

Conﬁgurational modelling of urban movement
networks. Environment and Planning B 25 (1998).

[42] Peterson, L. Inter-AS traﬃc patterns and their

implications. In in Proc. IEEE GLOBECOM (1999).
[43] Shavitt, Y., and Shir, E. DIMES: Let the Internet

measure itself. ACM SIGCOMM Computer
Communication Review 35, 5 (October 2005).

[44] Tabachnick, B. G., and Fidell, L. S. Using

Multivariate Statistics (5th Edition). Allyn & Bacon,
Inc., Needham Heights, MA, USA, 2006.

[45] The PREDICT Repository. Protected repository

for the defense of infrastructure against cyber threats.
https://www.predict.org/, Aug 2014.

[46] Uhlig, S., and Bonaventure, O. Implications of

interdomain traﬃc characteristics on traﬃc
engineering. European Transactions on
Telecommunications (2002).

[47] Willinger, W., Alderson, D., and Doyle, J. C.

Mathematics and the Internet: A Source of Enormous
Confusion and Great Potential. Notices of the AMS
56, 5 (May 2009).

[48] Xu, K., Duan, Z., Zhang, Z.-L., and

Chandrashekar, J. On properties of Internet
eXchange Points and their impact on as topology and
relationship. Networking 3042 (2004).

[49] Zhang, Y., Oliveira, R. V., Zhang, H., and

Zhang, L. Quantifying the pitfalls of traceroute in as
connectivity inference. In PAM (2010),
A. Krishnamurthy and B. Plattner, Eds., vol. 6032,
Springer, pp. 91–100.

[50] Zhang, Y., Roughan, M., Duffield, N., and

Greenberg, A. Fast accurate computation of
large-scale ip traﬃc matrices from link loads. In Proc.
of ACM SIGMETRICS (2003).

[51] Zhang, Y., Roughan, M., Lund, C., and Donoho,

D. L. Estimating point-to-point and
point-to-multipoint traﬃc matrices: An
information-theoretic approach. IEEE/ACM Trans.
Netw. (2005).

[52] Zhang, Y., Roughan, M., Willinger, W., and
Qiu, L. Spatio-temporal compressive sensing and
internet traﬃc matrices. In Proc. of ACM SIGCOMM
(2009).

14