On the Incompleteness of the AS-level Graph:

a Novel Methodology for BGP Route Collector Placement

Enrico Gregori

Institute of Informatics and
Telematics, Italian National

Alessandro Improta
Information Engineering

Luciano Lenzini

Information Engineering

Department, University of Pisa

Department, University of Pisa

Research Council

Pisa, Italy

enrico.gregori@iit.cnr.it

and Institute of Informatics

and Telematics, Italian

National Research Council

Pisa, Italy

a.improta@iet.unipi.it

Pisa, Italy

l.lenzini@iet.unipi.it

Lorenzo Rossi

Institute of Informatics and
Telematics, Italian National

Research Council

Pisa, Italy

lorenzo.rossi@iit.cnr.it

Luca Sani

IMT - Institute for Advanced

Studies

Lucca, Italy

luca.sani@imtlucca.it

ABSTRACT
In the last decade many studies have used the Internet AS-
level topology to perform several analyses, from discovering
its graph properties to assessing its impact on the eﬀective-
ness of worm-containment strategies. Yet, the BGP data
typically used to reveal the topologies are far from being
complete. Our contribution is three-fold. Firstly, we anal-
yse BGP data currently gathered by RouteViews, RIS and
PCH route collectors, and investigate the reasons for its in-
completeness. We found that large areas of the Internet are
not properly captured due to the geographic placement of
the current route collector feeders and due to BGP ﬁlters,
such as BGP export policies and BGP decision processes.
Secondly, we propose a methodology to select the optimal
number of ASes that should join a route collector project
to obtain a view of the Internet AS level topology closer to
reality. We applied this methodology to the global AS-level
topology and to ﬁve regional AS-level topologies, highlight-
ing that the particular characteristics of the Internet at a re-
gional level cannot be ignored during this process. Thirdly,
we provide a characterization of the ASes that we found to
be part of at least one optimal solution set. By analysing
these ASes we found that the current route collector infras-
tructure is rarely connected to them, highlighting that much
more eﬀort should be made in devising a route collector in-
frastructure that ideally would be able to capture a complete
view of the Internet.

Permission to make digital or hard copies of all or part of this work for
personal or classroom use is granted without fee provided that copies are
not made or distributed for proﬁt or commercial advantage and that copies
bear this notice and the full citation on the ﬁrst page. To copy otherwise, to
republish, to post on servers or to redistribute to lists, requires prior speciﬁc
permission and/or a fee.
IMC’12, November 14–16, 2012, Boston, Massachusetts, USA.
Copyright 2012 ACM 978-1-4503-1705-4/12/11 ...$15.00.

Categories and Subject Descriptors
C.2.1 [Computer-Communication Networks]: Network
Architecture and Design—Network topology; C.2.2 [Com-
puter-Communication Networks]: Network Protocols—
Routing protocols; C.2.3 [Computer-Communication
Networks]: Network Operations—Network monitoring

Keywords
Autonomous Systems, BGP, incompleteness, Internet, mea-
surement, topology

1.

INTRODUCTION

During the last few years, the Internet has become more
and more part of the everyday life of billions of people.
Thanks to the Internet, it is now possible to do things that
just a couple of decades ago would have been impossible,
such as sending mail to the other side of the world in less
than a second, checking one’s bank account from home and
retrieving any kind of information at any time with just a
couple of clicks. Despite its increasing pervasiveness, very
little is known about the real structure of the Internet and
what happens to data once they have left the home router.
This is a major issue, since it means that is impossible to de-
tect any structural problem or Achilles’ heels until an outage
occurs.

To address this problem, several researchers started to
analyse the Internet in a topological perspective in the hope
of revealing any potential weaknesses at any level. The AS-
level topology represents one of the most interesting perspec-
tives. In this topology each node is represented by an AS
that represents an organization (or part of it) that manages
a certain amount of IP subnets, while the edges are rep-
resented by BGP connections between pairs of ASes. The
most common approach is to exploit data gathered by BGP
route collectors and/or Traceroute monitors and, then, to
extract AS-level information about the Internet. Although
several works have highlighted problems in using traceroute

253data to infer AS-level information – such as aliasing [1], bi-
asing [2] and router-to-AS mapping [3, 4] – only a few have
investigated the limitations of the BGP approach, and in
doing so have mainly focused on the incompleteness of data
gathered via BGP route collectors.

Our contribution is threefold. Firstly, we analyse the BGP
data currently gathered by RouteViews, RIS and PCH route
collectors, highlighting and explaining the causes of their in-
completeness. We show that the current view of the Internet
is extremely narrow – due to the extremely low number of
ASes that are actively feeding the route collectors – and bi-
ased – due to the nature of the feeding ASes, which is mostly
managed by worldwide ISPs. This top-down view does not
allow the route collector infrastructure to discover a large
set of p2p connections that may be established among ASes
that are part of the lower part of the Internet hierarchy,
as already highlighted in [5, 6, 7, 8].
In addition to this
classic analysis we developed an innovative metric, named
p2c-distance, which takes into account the presence of BGP
decision processes and BGP export policies crossed by BGP
UPDATE messages before reaching a route collector. This
then provides a better understanding of the level of com-
pleteness of the data gathered. Unlike other approaches, we
are thus able to analyse and quantify the level of incom-
pleteness of BGP data by relying only on the route collector
infrastructure and without exploiting any private data.

Secondly, in order to overcome the large amount of in-
completeness highlighted, we select the minimum number
of ASes that should provide full routing information to the
route collector infrastructure. To do that we formulate a
Minimum Set Cover (MSC) problem that exploits the inter-
AS p2c-distance within a generic AS-level topology. Even
though the MSC has been proved to be NP-complete [9],
our methodology exploits the graph properties extracted the
MSC solution. We ﬁrst reduce the size of the graph in which
the solution has to be searched by a) leveraging on the ex-
treme low densities of the covering matrices, b) applying
classic mathematical reduction techniques to these matri-
ces and c) using a brute force approach on the remaining
uncovered components of the original covering matrix.

Thirdly, we analyse and compare the solutions obtained
by applying this methodology on the global topology and
ﬁve regional AS-level topologies of the Internet, highlighting
the impact that the geographical peculiarities of the Internet
have on the selection of the optimal set of ASes. As already
highlighted in [10], geography plays an important role in
routing decisions inside worldwide ASes and, consequently,
also on the establishment of local economic inter-AS rela-
tionships and on the related BGP export policies. Typically
the routing decisions are carried out at a continental level.
Thus, to have full coverage of a given world-wide AS and its
neighbors, multiple BGP connections with the route collec-
tors need to be set up, one for each continent where the ASes
are located. Furthermore, we also carry out an analysis of
the current status of the route collector regional infrastruc-
ture by identifying how many ASes in the optimal solution
are currently connected to them, by working out how many
new ASes should be connected in each region, and by pro-
viding their typical characteristics. We found that some
parts of the world, such as Africa, completely hide their p2p
connectivity from the current route collector infrastructure.
To the best of our knowledge, this is the ﬁrst work to pro-

vide a constructive and systematic approach to enhance the
coverage of the current route collectors from a geographical
perspective, by identifying the ASes that should feed them
in every continent. We also provide a ranked list of ASes,
which highlights those ASes that should be given more pri-
ority in joining a route collector project.

The paper is organized as follows. Section 2 describes
brieﬂy the state of the art about the studies on BGP data
and its incompleteness. An analysis of the current view
of the route collector infrastructure is given in Section 3.
In Section 4 we describe the proposed monitor placement
methodology and we deﬁne the p2c-distance. Section 5 anal-
yses the results of the methodology on the global topology
and on the ﬁve regional topologies. Section 6 concludes the
paper.

2. RELATED WORK

Some issues about the extent of the incompleteness of
BGP data were initially raised in [11], but only several years
later was the ﬁrst attempt to quantify such incompleteness
performed. In [12], the authors compared the topology in-
ferred from BGP data and the topology inferred from data
contained in the Internet Routing Registries (IRRs), high-
lighting that about 40% of connections were missing in BGP-
derived topologies. This topic was then to some extent ne-
glected, but was recently re-evaluated in [13] and [5]. In [13]
there is an analysis of the BGP data obtained from each AS
participating in RouteViews and RIS, and their contribution
was found to be heavily redundant. A completely diﬀerent
approach was applied in [5]. The AS-level topology inferred
via BGP data was compared with a ground truth made up of
proprietary router conﬁgurations of two major ISPs (a Tier-
1 and a Tier-2 ISP), of two research networks (Abilene and
GEANT) and several content providers. Their results were
signiﬁcant, but they are not reproducible and are heavily bi-
ased by the ground truth selected. Nevertheless, this work
can still be considered a milestone in the analysis of the in-
completeness of BGP data. Its most relevant result was that
economic relationships established between ASes strongly
aﬀect the information that can be revealed by each monitor.
The main rationale behind this lies in the economic-driven
nature of the inter-domain routing introduced in [14], where
the most common types of inter-AS economic relationships
– provider-to-customer (p2c), customer-to-provider (c2p),
peer-to-peer (p2p) and sibling-to-sibling (s2s) – are identi-
ﬁed and where the related BGP export policy are described.
In particular, an AS announces to its customers and siblings
the routes obtained by its peers, customers, providers and
siblings, while it announces to its providers and peers only
the routes related to its customers (see Fig. 1). This means
that p2p connections are hidden from any of the providers or
peers of a given AS. Based on the above, in [5] was claimed
that most of the connections that are missing are p2p con-
nections, and that monitors should be placed in the periph-
ery of the Internet to discover them. A similar conclusion
about the invisibility of p2p connections was also drawn in
[6], which proposed a tool based on traceroute probes that
is able to discover missing p2p connections established on
Internet Exchange Points (IXPs).

Despite this strong evidence of the incompleteness of BGP
data gathered by route collectors, only a few works have
addressed the issue of how new BGP monitors should be

254located to minimize this lack of information.
In [15], the
authors extended a model based on techniques developed in
biological research for estimating the size of populations to
work on the Internet AS graph. Their results showed that
thousands of connections are missing, and the authors esti-
mated that 700 route monitors would be able to see almost
the totality of the connections. However, their heuristic only
marginally took into account the existence of inter-AS eco-
nomic relationships, thus the optimal number of route mon-
itors found was seriously underestimated, as will be high-
lighted in Section 5.

3. THE DARK SIDE OF BGP-BASED MEA-

SUREMENTS

Without any doubt, BGP data is the best data to infer
the Internet AS-level topology, since the AS-level informa-
tion is directly contained in the AS Path BGP attribute
and no further heuristics have to be applied. BGP route
collectors receive BGP routing information from cooperat-
ing ASes, hereafter BGP feeders, to which they establish a
BGP session. Thanks to these routing data it is possible to
re-create the dynamics of the inter-domain routing as seen
from BGP feeders.
In this section we analyse the incom-
pleteness of BGP data from a diﬀerent perspective. First,
we outline the current route collector projects. Then, we
focus on the analysis of data gathered by these projects and
on the contribution of each of their BGP feeders. Finally,
we investigate the impact of the geographical distribution
of route collectors has on the ability to discover regional
Internet properties.

3.1 BGP Route Collector Projects

There are three main projects that collect BGP data and
make it publicly available on the web: RouteViews, RIS and
PCH. RouteViews was conceived at the University of Oregon
[16] as a tool for Internet operators to obtain real-time infor-
mation on the global routing system from the perspectives
of several diﬀerent backbones and locations. Since its birth
in 1997, this project has provided an invaluable amount of
BGP data through its route collectors. RIS (Routing In-
formation System) was developed by R´eseaux IP Europ´eens
(RIPE), the European Internet Registry, which collects and
stores Internet routing data from several locations around

Figure 1: Inter-AS economic relationships

PCH
RIS
RouteViews

 1

 0.8

 0.6

 0.4

 0.2

)
x
>
X
P

(

 0
102

103

104

105

106

107

108

109

1010

x = Number of IP addresses

Figure 2: CCDF of the amount of IPv4 space obtained by
each project

the globe deployed on the largest IXPs [17]. It oﬀers also
several tools that allow the Internet community to easily
read and use BGP data. PCH (Packet Clearing House) [18]
is a non-proﬁt research institute that supports operations
and analysis in the areas of Internet traﬃc exchange, rout-
ing economics and global network development. Since July
2010, PCH has been making BGP data available on its web-
site, collected by several route collectors deployed on distinct
IXPs. We gathered and analysed the BGP routing informa-
tion provided by these three projects during February 2012.
In this time interval, the number of active route collectors
which provided BGP data in MRT format (RFC 6397) were
10 for RouteViews, 13 for RIS and 51 for PCH. Table 1
details the number of BGP feeders per route collector and
their geographical location.

3.2 BGP feeder contribution analysis

Despite the well-known aims of these route collector projects,

several of their BGP feeders do not provide any relevant con-
tribution [8]. To better quantify the total contribution of
BGP feeders, we subdivide them on the basis of the amount
of IPv4 space1 that each of them advertised to the route
collectors (Table 1): minor feeders announce an IPv4 space
smaller than that of a single /8 subnet, full feeders announce
an IPv4 space closer to the full Internet IPv4 space currently
advertised2 (more than two billion IP addresses), while par-
tial feeders include those ASes in between. Following this
subdivision, the number of full feeders is 65 for RouteViews,
78 for RIS and 1 for PCH. Together they make up a set of
120 feeders, i.e. 5.99% of the total number of feeders. Fig-
ure 2 shows the amount of non overlapping IPv4 addresses
announced from the BGP feeders of each project. In Route-
Views and RIS projects, only about one in four/ﬁve feeders
announce the full routing table (represented by the vertical
tail of the CCDFs) to the route collectors, while in PCH the
percentage is much lower.

A feature that can be used to gain a deeper insight into

1We compute the IPv4 space considering only not over-
lapping subnets, i.e. those subnets that are not included in
any other subnet

2More information about the current IPv4 space adver-

tised can be found at http://www.potaroo.net/tools/ipv4

255)
x
>
X
P

(

 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
100

Minor feeders
Partial feeders
Full feeders

101

102

103

104

x = Degree

)
x
>
X
P

(

 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
100

Minor feeders
Partial feeders
Full feeders

101

102

103

104

x = Degree

)
x
>
X
P

(

 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0
100

Minor feeders
Partial feeders
Full feeders

101

102

103

104

x = Degree

(a) RouteViews

(b) RIS

(c) PCH

Figure 3: CCDF of the node degree of ASes connected to route collectors

these diﬀerent classes of BGP feeders is their node degree
distribution (Fig. 3), which is computed on the union of
the AS-level topologies inferred from RouteViews, RIS and
PCH datasets. In each project the full feeder set is mainly
composed of ASes that have developed a large number of
BGP connections, which is a typical behavior of transit ISPs.
To conﬁrm this, we analysed the nature of these ASes by
browsing their websites and parsing their entries in the IRRs.
We found that 10 out of 13 Tier-1 ASes3 are well-known
national/international ISPs.

Since the vast majority of full feeders are large ISPs, the
view of the Internet (at the AS-level) extracted from these
projects is likely to represent more the Internet viewed by
some of the most important ISPs in the world rather than
the real Internet. A view of the Internet from the top of
the AS hierarchy is not able to discover a large number of
connections. In fact, due to BGP export policies, a route
collector connected with ASes that are part of the top of
the hierarchy is not able to reveal all the p2p connections
that are established at the lower levels. On the other hand,
the lower in the hierarchy the BGP feeder is located, the
greater the chance to gathering information about an AS
path involving a previously hidden p2p connection. Con-
sider for example Fig. 4. In this case, if the route collector
R is connected to AS E at the top of the hierarchy, it cannot
reveal either the p2p connection between A and B, or the
p2p connection between C and D. On the other hand, if
R is connected to AS A, it can reveal the p2p connection
between A and B, but not between C and D. It is funda-
mental that the route collector establishes a c2p relationship
with its feeders. Otherwise, even if the route collector is con-
nected to A, the connection (A, B) will not be revealed. A
real example of the importance of obtaining the full routing

table from BGP feeders located in the lowest part of the In-
ternet hierarchy is represented by PCH. This data source is
potentially extremely useful for discovering hidden AS con-
nections, since its route collectors are deployed on 51 diﬀer-
ent IXPs and connected to 1,697 ASes, about three times
the total number of BGP feeders of RIS and RouteViews.
In addition, many of its BGP feeders have small node degree
value (Fig. 3), which is a rough indication of their location
at the bottom of the Internet hierarchy.

Nevertheless, as shown in Table 2, the number of AS con-
nections detected by BGP data gathered by PCH and not
discovered by RouteViews and RIS is extremely low, since
84,037 connection out of the total 85,674 discovered connec-
tions are already revealed by RouteViews and/or RIS. This
happens because PCH mainly establishes p2p connections
with its BGP feeders, i.e.
its route collectors obtain only
the routes announced by the customers of its BGP feeders.
Consequently, it is likely that almost every connection found
by PCH represents a p2c (c2p) economic agreement. Thus
the issue of p2p connection discovery has not been solved
even though it currently represents the largest set of hidden
connections [6, 7, 19], greatly limiting the topology discovery
potentiality of its route collectors.

A deeper insight into the amount of information provided
by each BGP feeder can be found by analysing the diﬀerence
between the direct node degree and the inner node degree

Minor feeders
Partial feeders
Full feeders

 1

 0.9

 0.8

 0.7

 0.6

 0.5

 0.4

 0.3

 0.2

 0.1

)
x
>
X
P

(

Figure 4: Connectivity scenario I

 0
-100

-50

 0

 50

 100

x = Degree difference

3A full list of ASes part of the Tier-1 set can be found at

http://en.wikipedia.org/wiki/Tier 1 network

Figure 5: CCDF of the degree diﬀerence of BGP feeders

256Route collector (Country)

total

feeders

# of feeders

full

partial minor

RouteViews

0
0
12
4
3
1
4

225

0
2

1
49
61
6
30
9
9
15
30
9
8
3
4

7

373
46
26
2
5
34
2

119

1
8
10
36
102

1

341
30
89
1
31
16
18
37
314
79
38
4
6
10
2
69
7
73
39
8
54
7
71
27
57
16
123
44
24
43
85
191

5
1
31
104

(Fig. 5). The direct node degree of a BGP feeder X is
deﬁned as the cardinality of the set of its neighbors that
are discovered using only BGP data directly announced by
X to a route collector, and the inner node degree of X is
deﬁned as the cardinality of the set of its neighbors that are
discovered using BGP data announced by every BGP feeder
but X. A similar approach was proposed in [20], but with a
diﬀerent purpose.

It is thus possible to diﬀerentiate between two diﬀerent
classes of behavior of BGP feeders: a) ASes that announce
just a partial view of the Internet (degree diﬀerence < 0),
like those ASes that consider the route collectors as peers
and not as customers, and b) ASes that contribute with
connections not contained in any AS path announced by
other BGP feeders (degree diﬀerence > 0), such as p2p and
p2c connections that are hidden from the other BGP feeders
due to the eﬀect of BGP export policies crossed during the
propagation of the routing information.

The ﬁrst class is typical of minor feeders, whose connec-
tivity is mostly discovered via other feeders (Fig. 5). On the
other hand, the second class is typical of full feeders, that
typically introduce previously undiscovered AS connections
involving them.

However, some full feeders partially hide some of their
interconnectivity despite advertising their full routing ta-
ble to a route collector project. This phenomenon has been
recorded in about 20% of the full feeders (see negative values
of degree diﬀerence in Fig. 5) and is caused by the BGP de-
cision process on the feeder side. Depending on the policies
established among ASes and on technical decisions, some di-
rect connections may not be announced to the route collec-
tor. However, for the same economic and technical reasons
it is possible that the same direct connections hidden from
the route collector are announced to other neighbors, prop-
agated on the Internet, and ﬁnally detected by the route
collector from another feeder as a side eﬀect. Some other
slight exceptions are related to minor and partial feeders
with a positive degree diﬀerence (less than 5%). These feed-
ers are likely to be located in the bottom part of the Inter-
net hierarchy and some of their p2c connections may result
as hidden to the route collector infrastructure because of
the cross eﬀect of their multi-homed nature and of multiple
BGP decision process crossed by UPDATE messages before
reaching the route collector infrastructure.

This last phenomenon highlights that the presence of mul-
tiple BGP decision processes along the AS path may limit
the completeness of AS-level topology collected, since each
BGP AS border router selects and announces only the best
route per-destination (RFC 4271) to their neighbors.
In
summary, the information that a BGP feeder announces to
the route collector is the result of its BGP decision process
which, in turn, is fed only with routes that are the result
of the BGP decision processes of its neighboring ASes, and
so on. Each BGP decision process, from an AS-level mea-
surement perspective, is a route ﬁlter, which can potentially
reduce the AS-level connectivity information received from
each route collector. As a consequence, the higher the dis-

# of nodes
# of edges

# of common edges

RouteViews

RIS

41,062
112,854

41,085
134,903

84,037

PCH
40,855
85,674

Table 2: Topology characteristics

route-views2 (US)
route-views4 (US)
route-views6 (US)

route-views.eqix (US)
route-views.isc (US)

route-views.kixp (KE)
route-views.linx (UK)

route-views.saopaulo (BR)
route-views.sydney (AU)

route-views.wide (JP)

rrc00 (NL)
rrc01 (UK)
rrc03 (NL)
rrc04 (CH)
rrc05 (AT)
rrc07 (SE)
rrc10 (IT)
rrc11 (US)
rrc12 (DE)
rrc13 (RU)
rrc14 (US)
rrc15 (BR)
rrc16 (US)

akl.pch.net (NZ)
ams.pch.net (NL)
atl.pch.net (US)
ber.pch.net (DE)
bos.pch.net (US)
bru.pch.net (BE)
bur.pch.net (US)
cai.pch.net (EG)
cdg.pch.net (FR)
chix.pch.net (US)
cpt.pch.net (ZA)
dac.pch.net (BD)
dub.pch.net (IE)

equinix-paris.pch.net (FR)

eze.pch.net (AR)
fra.pch.net (DE)
hkg.pch.net (HK)
iad.pch.net (US)
icn.pch.net (KR)
jpix.pch.net (JP)
ktm.pch.net (NP)
lax.pch.net (US)
lga.pch.net (US)
lhr.pch.net (UK)

lonap.pch.net (UK)

mia.pch.net (US)
mnl.pch.net (PH)
mpm.pch.net (MZ)
muc.pch.net (DE)
nbo.pch.net (KE)
nl-ix.pch.net (NL)
nrt.pch.net (JP)

nyiix.pch.net (US)
ord.pch.net (US)

paix-sea.pch.net (US)

pao.pch.net (US)
per.pch.net (AU)
sea.pch.net (US)
sﬁnx.pch.net (FR)
sgw.pch.net (SG)
sin.pch.net (SG)
sna.pch.net (US)
syd.pch.net (AU)
tie-ny.pch.net (US)

33
15
12
14
13
1
23
231

8
4
RIS

19
70
71
12
40
14
17
26
45
19
16
12
6
PCH
7

390
50
27
2
5
43
2

120

2
8
10
36
103

1

355
34
104

2
33
16
24
44
330
80
44
4
6
12
2
72
9
82
45
12
69
7
77
29
64
16
131
44
26
44
87
192

30
13
0
10
10
0
18
4
4
2

17
10
5
5
8
2
3
8
11
9
5
6
1

3
2
0
0
0
0
1
2
4
0

1
11
5
1
2
3
5
3
4
1
3
3
1

0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0

0
17
4
1
0
0
9
0
1
1
0
0
0
1
0
14
4
15
1
2
0
6
7
16
1
6
0
0
2
0
3
2
9
6
4
14
0
6
2
7
0
8
0
2
1
2
1
0
0
2
1

trn.pch.net (IT)
vie.pch.net (AT)
waw.pch.net (PL)
wlg.pch.net (NZ)
yow.pch.net (CA)
yyz.pch.net (CA)
zrh.pch.net (CH)
Table 1: February 2012 route collector status

5
1
33
105

257# BGP feeders

# full feeders

Asia-Paciﬁc

Europe

Latin America
North America

Region
Africa

10
159
1,279

0
15
68
6
42
120
World
Table 3: Geolocation of BGP feeders

13
444
2,004

tance of an AS from the BGP route collectors, the higher
the number of BGP decision processes crossed and, thus, the
higher the probability that one or more of them will ﬁlter
out some AS connections.

3.3 Geographical coverage

The incompleteness of BGP data is even stronger if anal-
ysed from a geographical perspective. Table 3 details the
total number of BGP feeders as well as the number of them
that supply the full routing table to any of route collec-
tor projects. To perform this analysis we geolocated the IP
address of each BGP feeder using the Maxmind GeoIPLite
database [21] and considering the world being subdivided
into ﬁve macro-regions: Africa, Asia-Paciﬁc (i.e. Asia and
Oceania), Europe, Latin America (the Caribbean, Central
America, Mexico and South America) and North America.
Table 3 highlights that most full feeders are located either in
Europe or in North America. Interestingly, in Africa no full
feeder is found even though Africa hosts one route collec-
tor of RouteViews and four of PCH. This means that every
inference about the African part of the Internet is mostly
obtained through views located in diﬀerent regions. Thus,
some relevant characteristics of the African part of Internet
may be hidden from the current route collectors. This is
not only a problem regarding Africa, in fact the number of
feeders in other regions is low as well.

4. A NOVEL METHODOLOGY TO DEAL

WITH BGP DATA INCOMPLETENESS

Given the large amount of incompleteness highlighted in
Section 3, the ﬁrst step to infer the real Internet AS-level
topology and its properties is to introduce a larger number
of new BGP feeders that announce their full routing tables.
To quote Sir Arthur Conan Doyle, “It is a capital mistake
to theorize before you have all the evidence. It biases the
judgment”. One of the biggest obstacles is the vast number
of ASes that make up the Internet. Obtaining routing infor-
mation from each of them would require the participation
of thousands administrators in a project that may not be
appealing for many of them.

Given this situation, we focus on those ASes that play a
major role in Internet connectivity, i.e. those ASes that oﬀer
IP transit to other ASes. Although there are far fewer of
them than the total number of ASes, these ASes contribute

Figure 6: Connectivity scenario II

substantially to provide Internet connectivity. In fact, both
world-wide ISPs and small/medium ISPs are part of this
set of ASes. This latter class of ASes is known to be the
cause of the largest number of p2p connections [22] that are
currently hidden from the route collector infrastructure.

In this section, we propose a methodology to identify the
minimal set of BGP feeders that would be needed to gather
as much BGP data as possible about the ASes whose con-
nectivity plays a major role in their economic market, thus
minimizing the number of hidden connections present in the
core of the Internet and, at the same time, minimizing the
impact of BGP ﬁlters, such as BGP export policies and BGP
decision processes.

4.1 A new metric: p2c distance

As already highlighted, a major role in ﬁltering is due to
inter-AS economic relationships because of their inﬂuence on
the amount of routing information that each AS announces
to each other. Given the BGP export policies related to each
economic relationship [14], a necessary (but not suﬃcient)
condition for a route collector to reveal the full connectivity
of a given AS is that there exists at least one AS path that
is made up exclusively of p2c connections from that AS to
the route collector. This is because only customers in a p2c
connection are able to obtain routes towards all Internet
destinations. In order to limit the ﬁltering eﬀects of BGP
decision processes, it is preferable that routing information
arrives at a route collector having crossed the lowest number
of p2c connections as possible.

On the basis of the two conditions hypothesized above,
we deﬁne a new metric that is able to capture the level of
completeness of data gathered by the current set of route
collectors. The p2c-distance of one AS X from another AS
Y is deﬁned as the minimum number of consecutive p2c
connections that connect X to Y in the considered economic
topology or, likewise, the minimum number of consecutive
c2p connections that connect Y to X. This metric easily
quantiﬁes the distance and the amount of transit connections
crossed by any BGP UPDATE message to reach a route
collector, and can be exploited to reveal which part of the
Internet is well-monitored and which part is still a dark zone.
Note that this metric still relies on an inference made on
the current Internet AS-level topology, but the p2c and c2p
connections have been proved to be extremely accurate [5,
6, 7, 8].

To better understand how this metric works, consider the
connectivity scenario depicted in Fig. 4. In this example, the
route collector R has a p2c-distance of 1 from AS A and E,
while the p2c-distance from B, C, D and F is not deﬁned.
This means that R has the possibility to reveal every p2p
connection established by A, B and E. On the other hand,
it also means that R is not able to reveal the p2p connec-
tivity of C, D and F in any way, thus R will not reveal the
connection (C, D) in any AS path. Nevertheless, R can dis-
cover the p2c (c2p) connectivity of each AS of the scenario.

4.2 BGP feeder selection

Given the deﬁnition of p2c-distance, a complete view of
the Internet can only be obtained by connecting a route col-
lector to each stub AS, as already concluded in [5]. Stub
ASes are ASes typically managed by local access providers
(which provide connectivity to end users but not to other

258ASes) and organizations that do not have the Internet tran-
sit as part of their core business (e.g. banks and car man-
ufacturers), and appear in BGP data as the originating el-
ement, i.e. the right-most element, in every AS path that
involves them. Due to the nature of their related organiza-
tions, these ASes tend to be customers in the economic rela-
tionships established with other ASes, representing a perfect
starting point to minimize the p2c-distance of all ASes that
make up the Internet. However, since p2c connections are
already discovered by route collectors connected to the top
of the hierarchy [5], most BGP data collected from a hypo-
thetical route collector infrastructure connected to each of
them would be redundant. Moreover, since it is not possi-
ble to infer a priori which stub AS is actually interested in
establishing p2p connections, it is impossible to reduce the
number of route collectors required to obtain full Internet
AS-level connectivity. This means that, based on February
2012 BGP data, we need to have a connection to 33,845
ASes out of 41,127. This makes this approach practically
unfeasible. We believe that a good trade-oﬀ between the
possibility to discover hidden p2p connections and the fea-
sibility of obtaining such data is represented by ASes that
are actually interested in deploying p2p connections to im-
prove the quality of their services, i.e. non-stub ASes [22].
The lack of interest of stub ASes in establishing p2p con-
nections is highlighted by the fact that only 7% of them
participate in at least one IXP4, where ASes typically inter-
connect with settlement-free p2p connections to reduce the
amount of their traﬃc directed to their providers (see [6, 19]
and [24] for more details on IXPs).

Speciﬁcally, we aim to select new BGP feeders such that
each non-stub AS has a ﬁnite and bounded p2c distance from
the route collector infrastructure to minimize the eﬀects of
BGP ﬁlters and, consequently, increasing the possibility to
reveal the hidden p2p connectivity of the actual core of the
Internet. As will be shown later on, stub ASes will play a
key role in the solution of the problem, even though we are
not actually focusing on their connectivity.

4.2.1 Problem description

We model the problem of ﬁnding the optimal number of
BGP feeders as an MSC problem which can be formulated
as follows:

subject to

Minimize


 X

ASi ∈U

xASi




X

ASi :n∈S

(d)
ASi

xASi ≥ 1

∀n ∈ N

xASi ∈ {0, 1},

∀ASi ∈ U

(1)

(2)

(3)

where U = {AS1, AS2, . . . , ASn} is the set of ASes, N ⊂ U
is the set of non-stub ASes and S(d)
represents the cover-
ASi
ing set of ASi, i.e. the set of ASes in N that have a p2c-
distance value of at most d from ASi, and xASi is 1 if S(d)
ASi

4We collected the set of ASes that participate to at least
one IXP by downloading and parsing the participant list web
page of 190 active IXPs. Data is available at [23].

is part of the ﬁnal solution, 0 otherwise. Note that ASi
belongs to S(d)
for any d ≥ 0. The parameter d deﬁnes
ASi
the maximum number of BGP decision processes5 that the
update messages by each non-stub AS will traverse before
reaching a BGP feeder and, thus, indicates the number of
ﬁlters encountered that can cause loss of information. Note
that imposing d = 0 implies that the solution is composed
of the entire set of non-stub ASes. The larger the value
of d, the heavier the ﬁltering eﬀect introduced by BGP
decision processes but the smaller the number of required
BGP feeders and, thus, the number of required BGP connec-
tions. This thus, makes the solution more feasible. To bet-
ter understand the problem consider the scenario depicted
in Fig. 6. In this example, U = {A, B, C, D, E, F, G, H, I}
and N = {B, C, D, E, G, H}. Thus we compute S(1)
A =
S(1)
I = {B}, S(1)
D = {D},
S(1)
E = {E, D, G, H}, S(1)
H = {H}.
The goal of this MSC problem is to obtain the minimum
number of elements of S (d) such that their union is N or, in
other words, to select the minimum number of BGP feeders
from U such that the p2c-distance of any non-stub AS from
at least one of them is at most d. Returning to the example
depicted in Fig. 6, one of the optimal solutions to cover every
non-stub AS is {S(1)
E }, i.e. we should select ASes
B, C and E as BGP feeders.

C = {C}, S(1)
G = {G}, S(1)

B = {B, D}, S(1)

F = {E}, S(1)

B , S(1)

C , S(1)

4.2.2 Positioning algorithm

To carry out the MSC problem we introduce a directed
graph G(d)(V, E) where V = {i | ASi ∈ U} is the set of nodes
and E = {(i, j) | i, j ∈ V ∧ ASj ∈ N ∧ ASj ∈ S(d)
} is the
ASi
set of edges. In other words, the set of nodes is represented
by the full set of ASes, while an edge directed from node i
to node j represents that the non-stub ASj is contained in
S(d)
. The adjacency matrix related to the graph G(d) is a
ASi
|V| × |E| matrix A(d) such that A(d)
ij = 1 if
(i, j) ∈ E and is made up of one row per AS and one column
per non-stub AS. The problem can thus be translated into
ij ≥

selecting the minimum number of rows such that Pi A(d)

ij ∈ {0, 1}, and A(d)

1 for every j.

Given the potentially high number of elements in the prob-
lem, a direct brute-force approach to solve it would not be
eﬀective. Nevertheless, we can still manage to obtain its
exact solutions by reducing the size of the problem through
applying matrix reduction techniques that are well known in
the mathematical optimization literature, such as the pos-
sibility to delete dominated rows in the adjacency matrix
without changing the solvability of the problem [25, 26].

In detail, we propose an algorithm that ﬁrstly consists
in an iterative reduction process, consisting of four phases
(Fig. 7): phase a) Selection of those ASes that are the only
elements covering one or more non-stub ASes, phase b) Dele-
tion of of dominated covering sets, phase c) Veriﬁcation of
whether if the dominated elements deleted during phase b)
can be interchanged with the elements inserted so far in the
solution, Phase d ) Decomposition plus further inspection, in
which the optimal solution is exhaustively searched on the
reduced adjacency matrix and the algorithm checks whether

5The number of BGP decision processes encountered be-
fore reaching a route collector is d + 1, since BGP feeders
introduce an additional BGP decision process before provid-
ing BGP data to the route collectors.

259∀ASi ∈ U

Input: distance d, S(d)
ASi

1
2
3 P ool = U
4 P = ∅
5 A = ∅
6 R = ∅
7 D = ∅
8 Old P ool = ∅
9
10 while P ool 6= Old P ool
11
12

P ool = Old P ool
foreach ASi ∈ N

if |{ASk | ASk ∈ P ool ∧ ASi ∈ S(d)
ASk

remove ASk from P ool
insert ASk into P
foreach ASj ∈ P ool

}| == 1

S(d)
ASj
if |S(d)
ASj

= S(d)
ASj
| == 0

− S(d)
ASk

remove ASj from P ool

foreach ASi ∈ P ool

foreach ASj 6= ASi ∧ ASj ∈ P

if S(d)
ASi

= S(d)
ASj

remove ASj from P ool
insert (ASi, ASj) in A

else if S(d)
ASi

⊂ S(d)
ASj

remove ASi from P ool
insert ((ASj , ASi)) in D

else if S(d)
ASj

⊂ S(d)
ASi

remove ASj from P ool
insert ((ASi, ASj)) in D

foreach ASi

in P

foreach ASj in D(ASi, ASj)

if S(d)

P = S(d)
insert (ASi, ASj) in I
foreach ASj in A(ASi, ASj)

P−ASi+ASj

insert (ASi, ASj) in I

{Subpool} = decompose(P ool)

foreach Subpoolk in {Subpool}

{Pk} = brute force (Subpoolk )
foreach Pkl

in {Pk}

foreach ASi

in Pkl

foreach ASj in D(ASi, ASj)

13
14
15
16

17

18

19
20
21
22

23

24
25

26

27
28

29

30
31
32
33
34
35

36

37
38
39
40
41
42
43
44
45
46
47

48

if S(d)
Pkl
insert Pkl − ASi + ASj in {Pk}

= S(d)
Pkl

−ASi+ASj

foreach ASj in A(ASi, ASj)

49
50
51
52
53
54
55 Output: solution set P, alternative solution sets R, in-

P = P S Pk0
Rk = {Pkl }l>0

insert (ASi, ASj) in I

terchangeable AS set I

Figure 7: MSC resolver algorithm

any of the dominated elements deleted during phase b) may
still be part of at least one optimal solution. Fig. 7 details
the above phases.

Initially in phase a) (lines 12–19) the algorithm veriﬁes the
presence of any ASk which is the only AS to cover a certain
non-stub ASi. More formally, the algorithm veriﬁes if there

ASes
Edges

Non-stub

# ASes

AF
770
1,980

AP
6,576
19,829

EU

17,657
77,465

LA

2,490
8,175

NA

16,032
43,331

W

41,127
144,475

229

1,589

3,697

659

2,531

7,282

ASes
p2c
p2p
s2s
Table 4: Main characteristics of AS-level topologies

14,868
4,737
158

33,701
9,430
323

1,380
533
31

39,812
37,225

4,844
3,231

359

54

93,898
49,251
1,256

is a set of ASes that covers a non-stub ASi with cardinality
equal to one (line 13). In this case ASk is removed from P ool
and is inserted into the solution set P (lines 14–15) and, as a
consequence, every non-stub AS in S(d)
is considered to be
ASk
covered. Thus, each element in the set S(d)
ASk
every remaining covering set S(d)
(lines 16–17). Eventually,
ASj
whenever one of the covering is emptied, the related AS is
removed from the P ool (lines 18–19).

is removed from

The same concepts are exploited in phase b) (lines 21–
31), in order to check whether any covering set is already
included in another set and, thus, can be put aside during
the remaining computation. More formally, for each pair
(ASi, ASj) the algorithm veriﬁes if the related covering sets
overlap each other exactly (line 23) or if one of the two
dominates the other (lines 26 and 29).
In the ﬁrst case
the pair (ASi, ASj) is put into the alias set A, while in
the second case the pair that comprises the dominating and
the dominated ASes is put into the dominated set D.
In
both cases, the computation continues by removing one AS
of the pair from P ool. In the ﬁrst case ASj is arbitrarily
removed (line 24), while in second case the dominated AS is
removed (lines 27 and 30). The arbitrary removal of ASj in
the ﬁrst case does not aﬀect the results of the computation,
since both ASes are completely interchangeable, i.e. their
covering set is exactly the same. By reducing the number
of elements in P ool, this phase may mean that additional
non-stub ASes are covered by a single AS in P ool, so that
new elements that have to be part of the ﬁnal solution can
be identiﬁed. Consequently, phases a) and b) are repeated
until P ool cannot be reduced any further (line 12).

In phase c) (lines 34–39) the dominated elements that have
been recorded are analysed to check if any of them could
be part of one of the solutions, by verifying if they can be
substituted with the related dominating elements and main-
taining, at the same time, full coverage of N . More formally,
to verify if the dominated element ASj can be substituted
with its dominating element ASi, the set of covered non-stub
ASes S(d)
, which is
obtained by switching ASj with ASi in P. If the sets are
equal (line 36), then ASj is recorded being interchangeable
with ASi in the set of interchangeable ASes I (line 37).

P is compared with the set S(d)

P−ASi+ASj

Since the problem cannot be reduced any further, an ex-
haustive approach to obtain an exact solution is required.
Phase d) (lines 41–53) ﬁrstly aims to solve the problem by
further reducing the problem by applying the usual mathe-
matical techniques to reduce the adjacency matrix A(d) (line
41) into independent sub-matrices. These sub-matrices can
still be seen as small and independent MSC sub-problems,
but due to their limited size they can be practically solved
by applying a brute-force algorithm (line 44) or a branch-
and-bound algorithm. To obtain all the possible solution
sets {Pk} for the considered sub component k, we still have

260p2c-distance

1
2
3

> 3

# not stub ASes

AF
0
0
0

229

AP
15
78
124
1,372

EU
67
165
252
3,213

LA

6
21
47
585

NA
39
126
165
2,202

W
120
310
489
6,363

Table 5: Regional distribution of p2c-distances

to test each of the dominating-dominated pairs in a similar
way as is done in phase c). However, unlike phase c), the
tests are performed on each solution Pkl found, and when-
ever ASj can substitute ASi, a new solution is inserted into
{Pk} (line 51).

As result of this procedure, the algorithm provides: i) a
set P of ASes composed of the set of ASes that were inserted
into the solution during phase a) and of one of the solution
sets for each component found (in the algorithm indicated
as Pk0 ); ii) a set R of ASes related to each component k
found during phase d) consisting of the possible solutions
not taken into account in P; and iii) a set I containing all
the ASes that can be interchanged.

Thus, P ∪ I ∪ R is the set of all the ASes that are part of
at least one optimal solution, i.e. the set of ASes that are
candidates for BGP feeders, while P is the solution found
by the algorithm. The cardinality of P is the exact num-
ber of BGP feeders that should be selected from the set of
candidates P ∪ I ∪ R in order to solve the MSC problem.

5. TOWARDS AN IDEAL ROUTE COLLEC-

TOR INFRASTRUCTURE

Finding a list of ASes that should become BGP feeders
exploiting the methodology illustrated in Section 4.2.2 en-
tails computing the p2c-distances between ASes on a suit-
able economic-tagged AS-level Internet topology. A good
starting point would seem to be the classic global AS-level
topology of the Internet tagged according to one of the eco-
nomic tagging algorithms proposed in the literature. How-
ever, as shown in our recent work [10], this could lead to mis-
leading and incomplete results. An AS connection present
in the global topology may hide multiple connections be-
tween the same two ASes but located in diﬀerent geographic
regions, each potentially regulated by diﬀerent economic re-
lationships. Applying our methodology to this coarse-level
representation of the Internet may thus lead to an underes-
timation of the correct number of BGP feeders required to
obtain a complete view of the Internet core. To illustrate this
we show both the results obtained by applying our method-
ology to the global topology of the Internet, referred to as
World (W), and to ﬁve regional topologies: Africa (AF),
Asia-Paciﬁc (AP), Europe (EU), Latin America (LA), North
America (NA).

We ﬁrst show the impact of the geography in BGP feeder
selection, highlighting that the analysis of the Internet from
a global point of view underestimates the number of BGP
feeders required. Then, we analyse the candidate feeders se-
lected by our methodology, identifying their particular char-
acteristics. Finally, we compare the coverage of the current
BGP feeders with the ideal set drawn by our methodology.

Region

AF
AP
EU
LA
NA
W

|P| (|P ∪ I ∪ R|)

d = 1

117 (214)
931 (1,688)
2,271 (4,641)

393 (707)

1,535 (3,233)
4,311 (9,232)

d = 2

97 (182)

848 (1,666)
2,089 (4,545)

363 (669)

1,428 (3,133)
3,937 (9,116)

d = 3

95 (197)

834 (1,625)
2,063 (4,438)

360 (660)

1,409 (3,027)
3,859 (8,875)

Table 6: Positioning algorithm results

5.1 Global vs regional analysis

The global and the regional topologies have been inferred
using the same BGP data analysed in Section 3 and exploit-
ing enhanced versions of the algorithms6 described in [27]
and [10], which can be found in an internal report [23]. The
main characteristics of these topologies are reported in Table
4.

Firstly, we compute the p2c-distances for each of the avail-
able topologies, as required by the positioning algorithm.
Note that these values can also be used to highlight which
zones of the Internet are poorly captured by the route collec-
tor infrastructure, thus providing further proof of the incom-
pleteness of the current collected topologies. To conﬁrm this,
we analysed the p2c-distances of each non-stub AS from the
route collector infrastructure by considering only routing in-
formation obtained via full feeders (see Table 5). Note that
we consider to be ∞ the p2c-distance of ASes that cannot
reach any route collector using only p2c connections. Most
ASes are currently either too far from the route collector in-
frastructure or cannot be reached by any route collector via
c2p connections alone, thus potentially representing hide-
outs for AS connectivity which need further investigation.

Once the p2c-distances had been calculated, we applied
the positioning algorithm to each of the economic topologies
available. The results are summarized in Table 6, where are
shown the cardinality of the solution set P and, in round
brackets, the cardinality of the candidate set P ∪ I ∪ R for
each topology. In each geographic scenario the number of
BGP feeders required is signiﬁcantly smaller than the num-
ber of non-stub ASes (Tables 4 and 6). More importantly,
the sum of BGP feeders required by regional scenarios is
higher than the number of those required by the World sce-
nario. This result was expected since the complete cap-
ture of the connectivity of an AS with a large geographic
range may entail deploying multiple BGP feeders around
the world. The inter-regional ASes typically follow a re-
gional principle to route their traﬃc, in order to maximize
their performance and minimize latency. To do this, they
tend to subdivide their ASes into diﬀerent routing areas by
exploiting the features of Interior Gateway Protocols (IGPs)
such as OSPF and IS-IS and they set up connections that
can only be exploited in regional traﬃc routing. A total of
965 of 7,282 non-stub ASes are present in more than one sin-
gle geographical topology and thus may ﬁt this description.

6The results shown in this paper are obtained using the
most conservative economic topology obtained by applying
the algorithms described in [27] and [10] with the time pa-
rameter NM AG = 1. Results for the remaining topologies
can be found at [23]

261100

10-1

10-2

10-3

)
x
>
X
P

(

AF
AP
EU
LA
NA
W

10-4

 0  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1

)
x
>
X
P

(

 1
 0.9
 0.8
 0.7
 0.6
 0.5
 0.4
 0.3
 0.2
 0.1
 0

AF
AP
EU
LA
NA
W

100

10-1

10-2

10-3

)
x
>
X
P

(

10-4

 0

AF
AP
EU
LA
NA
W

 10

 20

 30

 40

 50

 60

 70

 80

x = # of providers

x = k/max(k)

x = knp/max(k)

 0  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1

(a) Normalized node degree

(b) Normalized average provider degree

(c) Number of providers

Figure 8: CCDF of node properties of candidate BGP feeders

d

AF

AP

EU

LA

NA

W

# candidate BGP feeders

Full feeders

Partial feeders
Minor feeders

0 (−− %)
1 (100 %)
3 (33.33 %)

7 (46.67 %)
3 (23.08 %)
47 (34.81 %)

22 (32.35 %)
10 (30.30 %)
407 (33.78 %)

4 (66.67 %)
2 (66.67 %)
75 (33.63 %)

16 (38.10 %)
5 (21.74 %)

117 (30.47 %)

40 (33.33 %)
15 (26.32 %)
621 (33.99 %)

Table 8: Characteristics of feeders of the current route collector infrastructure

5.2 Candidate feeder analysis

We now focus on the characteristics of the elements of the
set of candidate BGP feeders found by applying the monitor
placement algorithm with parameter d = 1, which represents
the best trade-oﬀ between AS-level connectivity discovery
and the number of BGP feeders required. With d = 1, the
positioning algorithm ﬁnds the set of BGP feeders required
to obtain BGP routing information ﬁltered by at most two
BGP decision processes from each non-stub AS: the source
AS and the BGP feeder itself. The results obtained with
other values of d are available at [23].

Table 7 and Figure 8 show the most relevant characteris-
tics of these elements. Figure 8 depicts a) the degree dis-
tribution, b) the average provider degree (knp) distribution,
where knp is computed for each AS as the average degree of
its providers, and c) the number of providers of the candidate
feeders. Note that graphics a) and b) have been normalized
with the maximum value of the node degree (k) found in the
related region, in order to allow full-scope analysis and to
trace the characteristics of a typical candidate BGP feeder.
The most frequent classes of ASes found to be candidate are:
a) stub ASes (see Table 7), b) ASes that have set up a small
number of BGP connections (see Fig. 8a), and c) ASes that
have chosen a rather small number (see Fig. 8c) of small-
medium ISPs (see low-medium values of the normalized knp
in Fig. 8b) to be their providers.

Only a small percentage of these ASes are present on at
least one IXP (see Table 7), and this implies that their typi-
cal interconnectivity behavior is to not establish public peer-
ing with other ASes. Thus, we can conclude that the typical
AS that should become a BGP feeder of the current route

collector infrastructure is a small multi-homed AS, that has
set up multiple connections with diﬀerent regional providers
to guarantee route diversity and increase the reliability of its
reachability. This is not surprising since these ASes are likely
to be located at the bottom of the hierarchy and, thanks to
multi-homing can cover several non-stub ASes at once.

5.3 Current status of the route collector in-

frastructure

We now analyse how many of the current BGP feeders are
present in the ideal set of candidates found via the method-
ology proposed in Section 4. Their distribution for each
region is shown in Table 8, as well as the percentage of the
total number of feeders in the region that fall into that cat-
egory. The main result is that only a small percentage of
the current full feeders are actually part of an optimal so-
lution in any of the topologies analysed. This is a direct
consequence of their position in the Internet hierarchy, as
already shown in Section 3. These ASes are not likely to
have a large number of providers, thus their contribution is
limited. Nevertheless, there are few other classes of current
BGP feeders in the set of candidates, thus highlighting that,
in terms of p2c-distance, only a few of them are placed in an
optimal position. It is also interesting to understand how
many BGP feeders should be added to the current route
collector infrastructure in order to improve the quality of
data. To determine these values, we used the methodology
illustrated in Section 4.2.2 considering the current set of full
feeders F as part of the initial set of solution P, and consid-
ering the number of additional BGP feeders as n = |P|−|F|.
Results per each geographic region are reported in Table 9.

Region

AF
AP
EU
LA
NA
W

|P ∪ I ∪ R|

On IXPs

27 (12.79 %)
472 (28.04 %)
1,931 (41.60 %)
204 (29.14 %)
406 (12.55 %)
2,944 (31.88 %)

Stubs

114 (54.03 %)
942 (55.97 %)
2,250 (48.48 %)
394 (56.29 %)
1,509 (46.67 %)
4,221 (45.72 %)

Region

AF
AP
EU
LA
NA
W

n = |P| − |F |

d = 1
117
922
2,249
389
1,519
4,266

d = 2

97
843
2,072
359
1,423
3,785

d = 3

95
831
2,050
357
1,405
3,714

Table 7: Characteristics of candidate BGP feeders

Table 9: Additional feeders required in each region

262A comparison of the number of additional ASes required
and the number of non-stub ASes (see Table 4) reveals that
the methodology covered every non-stub AS with a number
of new BGP feeders which is about 50-60% of the number
of non-stub ASes in each region. In addition, a priority for
each AS found to be part of P can be identiﬁed by recording
the amount of non-stub ASes that are found to be uniquely
covered by an element in P during phase a) of the methodol-
ogy7. The higher this value is, the larger the coverage of the
element considered. The distribution of these values can be
found in Fig. 9, while the complete AS ranking is available
at [23].

AF
AP
EU
LA
NA
W

100

10-1

)
x
>
X
P

(

10-2

10-3

10-4

 1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16

x = Number of unique covered ASes

Figure 9: CCDF of the number of ASes uniquely covered

The number of elements covered uniquely by a single AS
is never too large, since typically a customer demands its
Internet reachability to a set of well-known ISPs. The distri-
bution of this priority index also allows us to make a priority
selection, adding ﬁrst those ASes with the highest number
of unique covered AS values (see Fig. 9). Exploiting this
priority selection, by just adding a number of ASes compa-
rable to the current number of feeders, the route collectors
can now see about one in three non-stubs in each region (see
Table 10). This means that the capture of a more complete
AS-level view of the Internet is a feasible task in terms of
numbers of elements to be connected and, consequently, of
costs. Thus our methodology would seem to be a very useful
tool to drive the growth of the route collector infrastructure.
It must be stressed that our methodology extracts the op-
timal solution for the input data provided, thus, if a new
BGP feeder is introduced, the solution may no longer be
optimal. In any case, it still represents an upper bound to
the number of additional full feeders needed.
In fact, the
introduction of new data may add previously hidden con-
nections and may lead the tagging algorithm exploited to
infer a higher number of p2c connections. These new con-
nections may change the p2c-distance of several ASes that
might be reached by exploiting a lower number of feeders.
However, it would still be possible to apply the methodology
once again on the new data to obtain a new optimal value.

7The same ranking value is also inherited by every ele-
ment in I that is related to an element in P due to their
interchangeability. However, only one of them is required to
be connected.

Region

# Not stub ASes covered

Current status

Top priority introduction

AF
AP
EU
LA
NA
W

0 (0.00%)
88 (5.54%)
209 (5.65%)
26 (3.95%)
148 (5.85%)
384 (5.27%)

71 (31.00%)
452 (28.45%)
958 (25.92%)
148 (22.49%)
728 (28.77%)
2,137 (29.35%)

Table 10: Coverage improvements by doubling the number
of BGP feeders

6. CONCLUSIONS

The BGP route collector projects that have been devel-
oped to date are extremely valuable for researchers, as they
are the most reliable source of information for gathering
data on the infrastructure of the Internet. However, BGP
data are currently only collected from a small amount of
ASes, thus limiting the quality of the inferences that can
be drawn from analysing such data. Studies on Internet
topology structure must be fully aware of the high level of
incompleteness of BGP data, since a topological analysis of
the Internet as viewed from these monitors is like analysing a
roadmap of a given country where the highways are known,
but most of the secondary roads are not shown!

In this paper, we have quantitatively evaluated the cur-
rently available BGP route collector infrastructure, showing
that it is only able to reveal complete AS-level connectiv-
ity information about a very small number of ASes. The
current BGP feeders that are contributing with their full
routing tables are typically large ASes such as provider-free
and worldwide ISPs. This implies that the current vision of
the BGP route collector projects cannot capture any of the
p2p connections that small or medium-sized ASes may es-
tablish. The only solution to deal with this incompleteness is
to dramatically increase the number of BGP feeders of these
projects. In this perspective, we have outlined a systematic
methodology to infer the minimum number of ASes that the
route collector projects should introduce as BGP feeders in
order to maximize the amount of information that can be
collected. We found that multi-homed ASes with a small-
medium size are the most useful contributors in a topology
discovery perspective.

Our methodology provides a useful tool to select those
ASes that are the most useful in enhancing the quality of
topology information data. We are aware that this kind of
data is extremely hard to obtain, but we also believe that
the greatest problem in data gathering is that ASes are not
stimulated enough to join any of the current projects, since
no direct service is oﬀered by the projects in change of the
voluntary participation of ASes. Thus, it makes sense to
imagine that currently the route collector projects are used
by several large ISPs to promote their reachability. In par-
ticular, it might be a good idea to create services based on
the real-time analysis of the inter-domain routing from dif-
ferent points of view in return of full routing tables, following
the do ut des principle. Such services would be valuable for
many ASes, ranging from local ISPs to CDNs, and thus en-
courage them to participate. Otherwise, it might be useful
to exploit alternative tools to improve the amount of data
available. Speciﬁcally, some of the traceroute-based projects
[28, 29, 30, 31] are able to bypass the reluctance in disclos-
ing the routing information of AS owners by placing agents
directly on user applications and, thus, obtaining data that
would not be collected otherwise.

2637. ACKNOWLEDGMENTS

We would like to thank Massimo Pappalardo (University
of Pisa) and Paolo Nobili (University of Salento) for their
very useful advice provided during the formulation and so-
lution of our MSC problem.

8. REFERENCES
[1] K. Keys, “Internet-Scale IP Alias Resolution

Techniques,” ACM SIGCOMM CCR, vol. 40, no. 1,
pp. 50–55, 2010.

[2] D. Achlioptas, A. Clauset, D. Kempe, and C. Moore,
“On the Bias of Traceroute Sampling: or, Power-law
Degree Distributions in Regular Graphs,” in ACM
STOC ’05, pp. 694–703, 2005.

[3] B. Huﬀaker, A. Dhamdhere, M. Fomenkov, and

K. Claﬀy, “Toward Topology Dualism: Improving the
Accuracy of AS Annotations for Routers,” in PAM
’10, pp. 101–110, 2010.

[4] Y. Zhang, R. Oliveira, H. Zhang, and L. Zhang,

“Quantifying the Pitfalls of Traceroute in AS
Connectivity Inference,” in PAM ’10, pp. 91–100, 2010.

[5] R. Oliveira, D. Pei, W. Willinger, B. Zhang, and

L. Zhang, “The (In)Completeness of the Observed
Internet AS-level Structure,” IEEE/ACM TON,
vol. 18, no. 1, pp. 109–122, 2010.

[6] Y. He, G. Siganos, M. Faloutsos, and

S. Krishnamurthy, “Lord of the Links: A Framework
for Discovering Missing Links in the Internet
Topology,” IEEE/ACM TON, vol. 17, no. 2,
pp. 391–404, 2009.

[7] R. Cohen and D. Raz, “The Internet Dark Matter - on

the Missing Links in the AS Connectivity Map,” in
IEEE INFOCOM ’06, pp. 1–12, 2006.

[8] k. claﬀy, “Border Gateway Protocol (BGP) and

Traceroute Data Workshop Report,” ACM SIGCOMM
Computer Communication Review (CCR), vol. 42,
pp. 28–31, Jul 2012.

[9] M. R. Garey and D. S. Johnson, Computers and

Intractability; A Guide to the Theory of
NP-Completeness. New York, NY, USA: W. H.
Freeman & Co., 1990.

[10] E. Gregori, A. Improta, L. Lenzini, L. Rossi, and

L. Sani, “Inferring Geography from BGP Raw Data,”
in IEEE NetSciCom ’12, pp. 208–213, 2012.

[11] R. Govindan and A. Reddy, “An Analysis of Internet

Inter-Domain Topology and Route Stability,” in IEEE
INFOCOM ’97, pp. 850–857, 1997.

[12] H. Chang, R. Govindan, S. Jamin, S. Shenker, and
W. Willinger, “Towards Capturing Representative
AS-level Internet Topologies,” Computer Networks,
vol. 44, no. 6, pp. 737–755, 2004.

[13] K. Chen, C. Hu, W. Zhang, Y. Chen, and B. Liu, “On

the Eyeshots of BGP Vantage Points,” in IEEE
GLOBECOM ’09, pp. 3558–3563, 2009.

[14] L. Gao, “On Inferring Autonomous System

Relationships in the Internet,” IEEE/ACM TON,
vol. 9, no. 6, p. 733, 2001.

[15] M. Roughan, S. J. Tuke, and O. Maennel, “Bigfoot,
Sasquatch, the Yeti and Other Missing Links: What
We Don’t Know About the AS Graph,” in IMC ’08,
pp. 325–330, 2008.

[16] “University of Oregon Route Views Project.”

http://www.routeviews.org.

[17] “RIPE NCC Routing Information Service.”

http://www.ripe.net/data-tools/stats/ris/routing-
information-service.

[18] “Packet Clearing House.” http://www.pch.net.
[19] B. Augustin, B. Krishnamurthy, and W. Willinger,

“IXPs: mapped?,” in IMC ’09, pp. 336–349, 2009.

[20] A. Dhamdhere, H. Cherukuru, C. Dovrolis, and
K. Claﬀy, “Measuring The Evolution of Internet
Peering Agreements,” in Proceedings of the 11th
international IFIP TC 6 conference on Networking -
Volume Part II, IFIP’12, (Berlin, Heidelberg),
pp. 136–148, 2012.

[21] “Maxmind GeoIPLite database.”

http://www.maxmind.com/app/geoip country.
[22] X. Dimitropoulos, D. Krioukov, M. Fomenkov,

B. Huﬀaker, Y. Hyun, k. claﬀy, and G. Riley, “AS
Relationships: Inference and Validation,” ACM
SIGCOMM Computer Communication Review (CCR),
vol. 37, pp. 29–40, Jan 2007.

[23] “Isolario project.” http://www.isolario.it.
[24] E. Gregori, A. Improta, L. Lenzini, and C. Orsini,

“The Impact of IXPs on the AS-level Topology
Structure of the Internet,” Computer
Communications, vol. 34, pp. 68–82, 2010.

[25] S. Mecke and D. Wagner, “Solving Geometric

Covering Problems by Data Reduction,” in ESA ’04,
vol. 3221 of LNCS, pp. 760–771, 2004.

[26] G. L. Nemhauser and L. A. Wolsey, Integer and

combinatorial optimization. New York, NY, USA:
Wiley-Interscience, 1988.

[27] E. Gregori, A. Improta, L. Lenzini, L. Rossi, and

L. Sani, “BGP and Inter-AS Economic Relationships,”
in IFIP TC-6 Networking ’11, vol. 2, pp. 54–67, 2011.
[28] A. Faggiani, E. Gregori, L. Lenzini, S. Mainardi, and

A. Vecchio, “On the Feasibility of Measuring the
Internet Through Smartphone-based Crowdsourcing,”
in WINMEE ’12, pp. 1–6, 2012.

[29] “Distributed Internet MEasurement System.”

http://www.netdimes.org/new/.

[30] K. Chen, D. R. Choﬀnes, R. Potharaju, Y. Chen,

F. E. Bustamante, D. Pei, and Y. Zhao, “Where the
Sidewalk Ends: Extending the Internet AS Graph
Using Traceroutes from P2P Users,” in ACM
CoNEXT ’09, pp. 217–228, 2009.

[31] P. Marchetta, P. M´erindol, B. Donnet, A. Pescap´e,

and J.-J. Pansiot, “Topology discovery at the router
level: a new hybrid tool targeting ISP networks,”
IEEE JSAC, Special Issue on Measurement of
Internet Topologies, vol. 29, October 2011.

264